{
    "id": "b1377134-3983-46a7-bde9-7e27cc94abb5",
    "trial_name": "lcbpro-2029g.1-of-1.2025-09-05__16-26-44",
    "task_id": "lcbpro-2029g",
    "instruction": "LiveCodeBench Pro (Mini) - external judge.\n\nThe agent must create a C++17 solution file at /app/main.cpp.\nThis task does not include local test cases. Instead, the test harness:\n  1) POSTs the code to the external judge (/submit) to get a sid,\n  2) polls GET /result/{sid}?short=1 until status == \"done\",\n  3) passes only if the judge returns passed == true.\n\nEnvironment variables (overridable at runtime):\n  - BASE_URL: judge base URL (default http://38.80.122.117:8081)\n  - PID: problem id (default 2029G)\n  - LANG: language (default cpp)\n  - CODE_PATH: path to code (default /app/main.cpp)\n  - JUDGE_TIMEOUT_SECS: poll timeout seconds (default 120)\n\nThere is an array $a$ consisting of $n$ integers. Initially, all elements of $a$ are equal to $0$.\n\nKevin can perform several operations on the array. Each operation is one of the following two types:\n\n- Prefix addition -- Kevin first selects an index $x$ ($1\\le x\\le n$), and then for each $1\\le j\\le x$, increases $a_j$ by $1$;\n- Suffix addition -- Kevin first selects an index $x$ ($1\\le x\\le n$), and then for each $x\\le j\\le n$, increases $a_j$ by $1$.\n\nIn the country of KDOI, people think that the integer $v$ is balanced. Thus, Iris gives Kevin an array $c$ consisting of $n$ integers and defines the beauty of the array $a$ as follows:\n\n- Initially, set $b=0$;\n- For each $1\\le i\\le n$, if $a_i=v$, add $c_i$ to $b$;\n- The beauty of $a$ is the final value of $b$.\n\nKevin wants to maximize the beauty of $a$ after all the operations. However, he had already performed $m$ operations when he was sleepy. Now, he can perform an arbitrary number (possibly zero) of new operations.\n\nYou have to help Kevin find the maximum possible beauty if he optimally performs the new operations.\n\nHowever, to make sure that you are not just rolling the dice, Kevin gives you an integer $V$, and you need to solve the problem for each $1\\le v\\le V$.\n\n### Input\n\nEach test contains multiple test cases. The first line of the input contains a single integer $t$ ($1\\le t\\le 1000$) -- the number of test cases. The description of test cases follows.\n\nThe first line of each test case contains three integers $n$, $m$, and $V$ ($1\\le n, m\\le 2\\cdot 10^5$, $1\\le V\\le 2000$) -- the length of the array $a$, the number of initial operations, and the number that Kevin gives you.\n\nThe second line contains $n$ integers $c_1, c_2, \\ldots, c_n$ ($1\\le c_i\\le 10^9$) -- the elements in the array $c$.\n\nThen $m$ lines follow, the $i$-th line containing a character $op$ and an integer $x$ ($op=\\mathtt{L}$ or $\\mathtt{R}$, $1\\le x\\le n$) -- the type of the $i$-th operation and the selected index.\n\n- If $op=\\mathtt{L}$, this operation is a prefix addition on index $x$;\n- If $op=\\mathtt{R}$, this operation is a suffix addition on index $x$.\n\nIt is guaranteed that:\n\n- the sum of $n$ over all test cases does not exceed $2\\cdot 10^5$;\n- the sum of $m$ over all test cases does not exceed $2\\cdot 10^5$;\n- the sum of $V^2$ over all test cases does not exceed $4\\cdot 10^6$.\n\n### Output\n\nFor each test case, output $V$ integers in a single line, the $i$-th integer denoting the maximum possible beauty after Kevin performs some new operations when $v=i$.\n\n### Example\n\n#### Input #1\n\n```\n\n5\n\n3 3 2\n\n1 2 4\n\nL 3\n\nR 3\n\nL 1\n\n3 3 2\n\n5 1 4\n\nL 3\n\nR 3\n\nL 1\n\n5 4 5\n\n1 1 1 1 1\n\nL 3\n\nR 2\n\nL 5\n\nL 4\n\n10 12 9\n\n10 9 8 7 6 5 4 3 2 1\n\nL 2\n\nL 4\n\nR 4\n\nR 4\n\nL 6\n\nR 8\n\nL 3\n\nL 2\n\nR 1\n\nR 10\n\nL 8\n\nL 1\n\n1 1 4\n\n1000000000\n\nL 1\n\n```\n\n#### Output #1\n\n```\n2 6\n1 9\n0 1 3 5 5\n0 0 0 6 25 32 35 44 51\n1000000000 1000000000 1000000000 1000000000\n```\n\n### Note\n\nIn the first test case, the array $a$ changes as follows for the initial operations: $[0, 0, 0] \\xrightarrow{\\mathtt{L}\\ 3} [1, 1, 1] \\xrightarrow{\\mathtt{R}\\ 3} [1, 1, 2] \\xrightarrow{\\mathtt{L}\\ 1} [2, 1, 2]$.\n\n- For $v=1$, it is optimal to not perform any new operations, and the beauty is $b=c_2=2$;\n- For $v=2$, it is optimal to perform a prefix addition operation on index $2$. After that, $a$ becomes $[3,2,2]$, and the beauty is $b=c_2+c_3=6$.\n\nIn the second test case, for both $v=1$ and $v=2$, it is optimal to not perform any new operations.",
    "is_resolved": true,
    "failure_mode": "unset",
    "parser_results": {
        "test_external_judge": "passed"
    },
    "recording_path": "2025-09-05__16-26-44/lcbpro-2029g/lcbpro-2029g.1-of-1.2025-09-05__16-26-44/sessions/agent.cast",
    "total_input_tokens": 0,
    "total_output_tokens": 0,
    "trial_started_at": "2025-09-05T23:53:15.713600+00:00",
    "trial_ended_at": "2025-09-05T23:53:54.461442+00:00",
    "agent_started_at": "2025-09-05T23:53:26.575179+00:00",
    "agent_ended_at": "2025-09-05T23:53:27.263345+00:00",
    "test_started_at": "2025-09-05T23:53:30.368067+00:00",
    "test_ended_at": "2025-09-05T23:53:34.691580+00:00"
}