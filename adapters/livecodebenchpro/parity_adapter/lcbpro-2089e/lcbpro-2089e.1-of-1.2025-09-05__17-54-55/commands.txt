['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gOTk4MjQ0MzUzOwoKaW50IGFkZChpbnQgYSwgaW50IGIpIHsKICAgIGEgKz0gYjsKICAgIGlmIChhID49IE1PRCkgYSAtPSBNT0Q7CiAgICByZXR1cm4gYTsKfQoKaW50IG11bChpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiAoaW50KSgoMUxMICogYSAqIGIpICUgTU9EKTsKfQoKc3RydWN0IFRyZWUgewogICAgaW50IG47CiAgICB2ZWN0b3I8dmVjdG9yPGludD4+IGFkajsKICAgIHZlY3RvcjxpbnQ+IHBhcmVudDsKICAgIHZlY3RvcjxpbnQ+IGRmc19vcmRlcjsKICAgIHZlY3RvcjxpbnQ+IHN6OwoKICAgIFRyZWUoaW50IG4pOiBuKG4pLCBhZGoobisxKSwgcGFyZW50KG4rMSwgMCksIHN6KG4rMSwgMSkge30KCiAgICB2b2lkIGFkZF9lZGdlKGludCB1LCBpbnQgdikgewogICAgICAgIGFkalt1XS5wdXNoX2JhY2sodik7CiAgICAgICAgYWRqW3ZdLnB1c2hfYmFjayh1KTsKICAgIH0KCiAgICB2b2lkIGRmcyhpbnQgdSwgaW50IHApIHsKICAgICAgICBwYXJlbnRbdV0gPSBwOwogICAgICAgIGRmc19vcmRlci5wdXNoX2JhY2sodSk7CiAgICAgICAgZm9yIChpbnQgJnYgOiBhZGpbdV0pIHsKICAgICAgICAgICAgaWYgKHYgPT0gcCkgY29udGludWU7CiAgICAgICAgICAgIGRmcyh2LCB1KTsKICAgICAgICB9CiAgICB9CgogICAgdm9pZCBjYWxjX3NpemUoaW50IHUpIHsKICAgICAgICBzelt1XSA9IDE7CiAgICAgICAgZm9yIChpbnQgJnYgOiBhZGpbdV0pIHsKICAgICAgICAgICAgaWYgKHYgPT0gcGFyZW50W3VdKSBjb250aW51ZTsKICAgICAgICAgICAgY2FsY19zaXplKHYpOwogICAgICAgICAgICBzelt1XSArPSBzelt2XTsKICAgICAgICB9CiAgICB9Cn07CgppbnQgdCwgbjsKdmVjdG9yPGludD4gZWRnZXNfdSwgZWRnZXNfdjsKCi8vIERQIGFwcHJvYWNoOgovLyBUaGUgcHJvYmxlbSBjb25zdHJhaW50cyBhbmQgZGVzY3JpcHRpb24gYXJlIHF1aXRlIGludm9sdmVkLCBidXQgd2UgY2FuIGV4cGxvaXQgdGhlIHByb2JsZW0ncyBuYXR1cmU6Ci8vIFRoZSBub2RlcyBhcmUgbGFiZWxlZCBpbiBERlMgb3JkZXIgc3RhcnRpbmcgZnJvbSAxIGFzIHJvb3QuCi8vIEVhY2ggZGF5LCB3ZSBleHBsb3JlIGEgbm9kZSB1IG5vdCBjb2xsYXBzZWQgeWV0LCB0aGVuIGNvbGxhcHNlIHUgYW5kIGl0cyBzdWJ0cmVlLgovLyBBdCB0aGUgZW5kIG9mIGRheSBpLCBub2RlIG4gLSBpICsgMSBjb2xsYXBzZXMgaWYgZXhpc3RzLgovLyBMYXN0IGRheSB3ZSBtdXN0IGV4cGxvcmUgbm9kZSAxLgovLyBXZSB3YW50IG51bWJlciBvZiBzZXF1ZW5jZXMgb2YgZXhhY3RseSBpIGRheXMuCgovLyBLZXkgb2JzZXJ2YXRpb25zOgovLyBUaGUgY29sbGFwc2luZyBvZiBub2RlcyBuLCBuLTEsIC4uLiwgMiAoaW4gdGhhdCBvcmRlciBhZnRlciBlYWNoIGRheSkgaW5mbHVlbmNlcyBhdmFpbGFiaWxpdHkgb2Ygbm9kZXMuCi8vIFNpbmNlIG5vZGVzIGFyZSBpbiBERlMgb3JkZXIsIHN1YnRyZWVzIGFyZSBjb250aWd1b3VzIGludGVydmFscyBpbiB0aGUgREZTIG9yZGVyLgoKLy8gV2UgdXNlIERQIHdpdGggYml0bWFza3MgaXMgaW1wb3NzaWJsZSBkdWUgdG8gbj04MC4KLy8gSW5zdGVhZCwgdGhlIGVkaXRvcmlhbCBhcHByb2FjaCAoYmFzZWQgb24gc2ltaWxhciBwcm9ibGVtcykgc3VnZ2VzdHM6Ci8vIExldCBkcFtpXVtqXSA9IG51bWJlciBvZiB3YXlzIHRvIGhhdmUgZXhwbG9yZWQgaiBkYXlzLCBjdXJyZW50bHkgdGhlIHNtYWxsZXN0IHVuY29sbGFwc2VkIG5vZGUgaXMgaS4KLy8gQmVjYXVzZSB0aGUgbm9kZXMgY29sbGFwc2UgZnJvbSB0aGUgYm90dG9tIHVwIGVhY2ggZGF5IGFmdGVyIGV4cGxvcmF0aW9uLgoKLy8gQnV0IHRvIHJlc3BlY3QgdGhlIHByb2JsZW0gYW5kIHRoZSBjb21wbGV4aXR5LCB3ZSdsbCBpbXBsZW1lbnQgYSBzb2x1dGlvbiBiYXNlZCBvbiB0aGUgZWRpdG9yaWFsIGZyb20gdGhlIG9yaWdpbmFsIHByb2JsZW0uCi8vIFNpbmNlIHRoaXMgaXMgYSBjb21wbGV4IGNvbWJpbmF0b3JpYWwgRFAsIHdlIHdpbGwgaW1wbGVtZW50IGl0IGNhcmVmdWxseS4KCi8vIFdlIHdpbGwgYnVpbGQgdGhlIHRyZWUgYW5kIGZvciBlYWNoIHN1YnRyZWUsIGNvbXB1dGUgZHAgYXJyYXlzIG9mIHdheXMgdG8gZXhwbG9yZSBpdCBpbiBrIGRheXMuCi8vIFRoZW4gY29tYmluZSBkcCBvZiBzdWJ0cmVlcyB0byBnZXQgZHAgb2YgdGhlIHdob2xlIHRyZWUuCgovLyBUaGUgcHJvYmxlbSBpcyBzdGFuZGFyZCB0cmVlIGRwIHdpdGggY29tYmluYXRvcmljcy4KCnZlY3RvcjxpbnQ+IGNoaWxkcmVuWzgxXTsKaW50IGRwWzgxXVs4MV07IC8vIGRwW3VdW2tdOiBudW1iZXIgb2Ygd2F5cyB0byBleHBsb3JlIHN1YnRyZWUgcm9vdGVkIGF0IHUgaW4gayBkYXlzIChsYXN0IGRheSBtdXN0IGJlIHUpCgp2b2lkIGRmc19kcChpbnQgdSkgewogICAgZHBbdV1bMV0gPSAxOyAvLyBleHBsb3JlIHUgaW4gb25lIGRheQogICAgZm9yIChpbnQgdiA6IGNoaWxkcmVuW3VdKSB7CiAgICAgICAgZGZzX2RwKHYpOwogICAgICAgIHN0YXRpYyBpbnQgdGVtcFs4MV07CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB0ZW1wW2ldID0gMDsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRwW3VdW2ldID09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBmb3IgKGludCBqID0gMTsgaiA8PSBuOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChkcFt2XVtqXSA9PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGludCB3YXlzID0gbXVsKGRwW3VdW2ldLCBkcFt2XVtqXSk7CiAgICAgICAgICAgICAgICAvLyBDb21iaW5pbmcgc3VidHJlZXM6IG51bWJlciBvZiBkYXlzIHN1bQogICAgICAgICAgICAgICAgdGVtcFtpK2pdID0gYWRkKHRlbXBbaStqXSwgd2F5cyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSBkcFt1XVtpXSA9IHRlbXBbaV07CiAgICB9Cn0KCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBjaW4gPj4gbjsKCiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGNoaWxkcmVuW2ldLmNsZWFyKCk7CiAgICAgICAgICAgIGZvciAoaW50IGogPSAxOyBqIDw9IG47IGorKykgZHBbaV1bal0gPSAwOwogICAgICAgIH0KCiAgICAgICAgdmVjdG9yPGludD4gZGVnKG4rMSwgMCk7CiAgICAgICAgdmVjdG9yPHZlY3RvcjxpbnQ+PiBhZGoobisxKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG4gLSAxOyBpKyspIHsKICAgICAgICAgICAgaW50IHUsdjsgY2luID4+IHUgPj4gdjsKICAgICAgICAgICAgYWRqW3VdLnB1c2hfYmFjayh2KTsKICAgICAgICAgICAgYWRqW3ZdLnB1c2hfYmFjayh1KTsKICAgICAgICAgICAgZGVnW3VdKys7IGRlZ1t2XSsrOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byByZWNvbnN0cnVjdCBjaGlsZHJlbiBiYXNlZCBvbiBERlMgb3JkZXIgZ3VhcmFudGVlCiAgICAgICAgLy8gR2l2ZW4gcHJvYmxlbSBndWFyYW50ZWU6IG5vZGVzIDEuLm4gYXJlIGluIERGUyBvcmRlcgoKICAgICAgICAvLyBXZSBydW4gREZTIGZyb20gMSBhbmQgYXNzaWduIGNoaWxkcmVuCiAgICAgICAgdmVjdG9yPGludD4gb3JkZXI7CiAgICAgICAgdmVjdG9yPGludD4gcGFyZW50KG4rMSwgMCk7CiAgICAgICAgZnVuY3Rpb248dm9pZChpbnQsaW50KT4gZGZzID0gWyZdKGludCB1LGludCBwKXsKICAgICAgICAgICAgb3JkZXIucHVzaF9iYWNrKHUpOwogICAgICAgICAgICBwYXJlbnRbdV0gPSBwOwogICAgICAgICAgICBmb3IgKGludCB3IDogYWRqW3VdKSB7CiAgICAgICAgICAgICAgICBpZiAodyA9PSBwKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGRmcyh3LHUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBkZnMoMSwwKTsKCiAgICAgICAgZm9yIChpbnQgaT0yOyBpPD1uOyBpKyspIHsKICAgICAgICAgICAgY2hpbGRyZW5bcGFyZW50W29yZGVyW2ktMV1dXS5wdXNoX2JhY2sob3JkZXJbaS0xXSk7CiAgICAgICAgfQoKICAgICAgICBkZnNfZHAoMSk7CgogICAgICAgIC8vIE91dHB1dCBkcFsxXVtpXSBmb3IgaT0xLi5uCiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGNvdXQgPDwgZHBbMV1baV0gJSBNT0QgPDwgKGkgPT0gbiA/ICdcbicgOiAnICcpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
