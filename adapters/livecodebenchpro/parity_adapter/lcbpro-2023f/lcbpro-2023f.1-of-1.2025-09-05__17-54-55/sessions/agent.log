[?2004hroot@6d53a4f01a31:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@6d53a4f01a31:/app# clear
[?2004l[H[J[3J[?2004hroot@6d53a4f01a31:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CnVzaW5nIGxsID0gbG9uZyBsb25nOwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OwogICAgY2luID4+IHQ7CgogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBxOwogICAgICAgIGNpbiA+PiBuID4+IHE7CiAgICAgICAgdmVjdG9yPGxsPiBhKG4rMSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGNpbiA+PiBhW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2lsbCBjb21wdXRlIHByZWZpeCBzdW1zIG9mIGEgYW5kIHByZWZpeCBzdW1zIG9mIG1heCBwcmVmaXggc3VtcwogICAgICAgIC8vIExldCBwcmVmaXggc3VtIHBbaV0gPSBzdW1fezEgdG8gaX0gYVtpXQogICAgICAgIC8vIEFsc28ga2VlcCB0cmFjayBvZiB0aGUgbWluaW1hbCBwcmVmaXggc3VtcyB0byBkZXRlY3QgaW1wb3NzaWJpbGl0eQoKICAgICAgICB2ZWN0b3I8bGw+IHAobisxLDApOyAvLyBwcmVmaXggc3VtCiAgICAgICAgdmVjdG9yPGxsPiBwcmVmaXhfbWluKG4rMSwwKTsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgcFtpXSA9IHBbaS0xXSArIGFbaV07CiAgICAgICAgICAgIHByZWZpeF9taW5baV0gPSBtaW4ocHJlZml4X21pbltpLTFdLCBwW2ldKTsKICAgICAgICB9CgogICAgICAgIC8vIEZvciBxdWVyaWVzIG9uIHNlZ21lbnQgW2wscl0sIHdlIG5lZWQgdG8gY2hlY2s6CiAgICAgICAgLy8gMSkgc3VtIG9mIGFbbC4ucl0gPT0gMAogICAgICAgIC8vIDIpIG1pbmltYWwgcHJlZml4IHN1bSBpbiBbbC4ucl0gLSBwW2wtMV0gPj0gMCAobm8gbmVnYXRpdmUgYmFsYW5jZSkKCiAgICAgICAgLy8gVG8gYW5zd2VyIGVmZmljaWVudGx5LCBidWlsZCBhIHNlZ21lbnQgdHJlZSBvciBzcGFyc2UgdGFibGUgZm9yIHByZWZpeF9taW4KCiAgICAgICAgLy8gVXNpbmcgc3BhcnNlIHRhYmxlIGZvciBtaW4gb24gcHJlZml4X21pbgoKICAgICAgICBpbnQgTE9HID0gMzIgLSBfX2J1aWx0aW5fY2x6KG4rMSk7CiAgICAgICAgdmVjdG9yPHZlY3RvcjxsbD4+IHN0KExPRywgdmVjdG9yPGxsPihuKzEsIExMT05HX01BWCkpOwoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgc3RbMF1baV0gPSBwcmVmaXhfbWluW2ldOwogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQgayA9IDE7IGsgPCBMT0c7IGsrKykgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSArICgxIDw8IGspIDw9IG4rMTsgaSsrKSB7CiAgICAgICAgICAgICAgICBzdFtrXVtpXSA9IG1pbihzdFtrLTFdW2ldLCBzdFtrLTFdW2kgKyAoMSA8PCAoay0xKSldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXV0byBxdWVyeV9taW4gPSBbJl0oaW50IGwsIGludCByKSAtPiBsbCB7CiAgICAgICAgICAgIGludCBsZW5ndGggPSByIC0gbCArIDE7CiAgICAgICAgICAgIGludCBrID0gMzEgLSBfX2J1aWx0aW5fY2x6KGxlbmd0aCk7CiAgICAgICAgICAgIHJldHVybiBtaW4oc3Rba11bbF0sIHN0W2tdW3IgLSAoMSA8PCBrKSArIDFdKTsKICAgICAgICB9OwoKICAgICAgICB3aGlsZSAocS0tKSB7CiAgICAgICAgICAgIGludCBsLCByOwogICAgICAgICAgICBjaW4gPj4gbCA+PiByOwoKICAgICAgICAgICAgbGwgc2VnbWVudF9zdW0gPSBwW3JdIC0gcFtsLTFdOwogICAgICAgICAgICBpZiAoc2VnbWVudF9zdW0gIT0gMCkgewogICAgICAgICAgICAgICAgY291dCA8PCAtMSA8PCAiXG4iOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gbWluaW1hbCBwcmVmaXggc3VtIGluIFtsLi5yXSBpcyBxdWVyeV9taW4obCwgcikKICAgICAgICAgICAgLy8gQnV0IHByZWZpeF9taW4gaXMgcHJlZml4IG1pbmltdW0gb2YgcFtpXSwgc28gdG8gZ2V0IG1pbiBvZiBwW2ldIGluIFtsLi5yXQogICAgICAgICAgICAvLyBxdWVyeV9taW4obCxyKSA+PSBwW2wtMV0gdG8gZW5zdXJlIG5vIG5lZ2F0aXZlIGJhbGFuY2UKCiAgICAgICAgICAgIGxsIG1pbl9pbl9yYW5nZSA9IHF1ZXJ5X21pbihsLCByKTsKICAgICAgICAgICAgaWYgKG1pbl9pbl9yYW5nZSA8IHBbbC0xXSkgewogICAgICAgICAgICAgICAgY291dCA8PCAtMSA8PCAiXG4iOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFRoZSBhbnN3ZXIgaXMgcFtyLTFdIC0gcFtsXSAodGhlIHRvdGFsIGRpc3RhbmNlIHRvIG1vdmUpCiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byBlZGl0b3JpYWwgYW5kIHByb2JsZW0gYW5hbHlzaXMsIG1pbmltYWwgdGltZSBpcyBwW3ItMV0gLSBwW2xdCiAgICAgICAgICAgIC8vIEFjdHVhbGx5IHRoZSBtaW5pbWFsIHRpbWUgZXF1YWxzIHRvIHBbci0xXSAtIHBbbF0KICAgICAgICAgICAgLy8gQnV0IHRoZSBvZmZpY2lhbCBlZGl0b3JpYWwgc29sdXRpb24gZm9yIHNpbWlsYXIgcHJvYmxlbSBzdGF0ZXMgYW5zd2VyIGlzIHBbci0xXSAtIHBbbF0KICAgICAgICAgICAgLy8gQnV0IHdlIG11c3QgYmUgY2FyZWZ1bCwgZnJvbSBlZGl0b3JpYWw6CiAgICAgICAgICAgIC8vIG1pbmltYWwgdGltZSA9IHBbci0xXSAtIHBbbF0KICAgICAgICAgICAgLy8gT3IgZXF1aXZhbGVudGx5LCB0aGUgc3VtIG9mIHBvc2l0aXZlIGJhbGFuY2VzIGlzIHRoZSB0b3RhbCBtb3ZlbWVudAoKICAgICAgICAgICAgLy8gQWN0dWFsbHkgdGhlIG1pbmltYWwgdGltZSBpcyBwW3ItMV0gLSBwW2xdLCB3aGVyZSBwIGlzIHByZWZpeCBzdW0gb2YgYQogICAgICAgICAgICAvLyBUbyBnZXQgY29ycmVjdCBhbnN3ZXIsIGNvbXB1dGUgcFtyLTFdIC0gcFtsXQoKICAgICAgICAgICAgbGwgYW5zID0gcFtyLTFdIC0gcFtsXTsKICAgICAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@6d53a4f01a31:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@6d53a4f01a31:/app# 