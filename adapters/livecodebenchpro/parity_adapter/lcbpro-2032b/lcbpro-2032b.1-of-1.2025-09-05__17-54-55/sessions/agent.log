[?2004hroot@1097a41d9d30:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@1097a41d9d30:/app# clear
[?2004l[H[J[3J[?2004hroot@1097a41d9d30:/app# echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8YWxnb3JpdGhtPgp1c2luZyBuYW1lc3BhY2Ugc3RkOwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OwogICAgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIGs7CiAgICAgICAgY2luID4+IG4gPj4gazsKCiAgICAgICAgLy8gYSA9IFsxLCAyLCAuLi4sIG5dCiAgICAgICAgLy8gV2Ugd2FudCB0byBzcGxpdCBhIGludG8gbSBvZGQtbGVuZ3RoIHN1YmFycmF5cyB3aXRoIG9kZCBtLAogICAgICAgIC8vIHN1Y2ggdGhhdCBtZWRpYW4gb2YgbWVkaWFucyA9IGsuCgogICAgICAgIC8vIFRoZSBtZWRpYW4gb2YgbWVkaWFucyBpcyB0aGUgKChtKzEpLzIpLXRoIHNtYWxsZXN0IG1lZGlhbi4KICAgICAgICAvLyBTaW5jZSBhbGwgc3ViYXJyYXlzIGhhdmUgb2RkIGxlbmd0aCwgdGhlaXIgbWVkaWFuIGlzIHRoZSBtaWRkbGUgZWxlbWVudC4KICAgICAgICAKICAgICAgICAvLyBLZXkgaW5zaWdodDoKICAgICAgICAvLyBUaGUgbWVkaWFucyBhcmUgZWxlbWVudHMgb2YgdGhlIG9yaWdpbmFsIGFycmF5LgogICAgICAgIC8vIFdlIHdhbnQgdGhlIG1lZGlhbiBvZiB0aGVzZSBtZWRpYW5zIHRvIGJlIGsuCgogICAgICAgIC8vIFNpbmNlIGEgPSBbMS4ubl0sIHRvIGdldCBtZWRpYW4gb2YgbWVkaWFucyA9IGssCiAgICAgICAgLy8gdGhlIG51bWJlciBvZiBtZWRpYW5zIGxlc3MgdGhhbiBrIG11c3QgYmUgPCAobSsxKS8yLgoKICAgICAgICAvLyBXZSdsbCBmaW5kIGluZGljZXMgaSB3aGVyZSBhW2ldID49IGsgdG8gZm9ybSBzdWJhcnJheXMgYl9pIHN0YXJ0aW5nIGF0IHRob3NlIGluZGljZXMuCgogICAgICAgIHZlY3RvcjxpbnQ+IHBvczsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsKICAgICAgICAgICAgaWYgKGkgPT0gaykgewogICAgICAgICAgICAgICAgcG9zLnB1c2hfYmFjayhpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQWN0dWFsbHksIHdlIG5lZWQgdG8gZmluZCBhbGwgaW5kaWNlcyB3aGVyZSBlbGVtZW50ID49IGsgdG8gZm9ybSBzdWJhcnJheXMuCiAgICAgICAgLy8gQnV0IHNpbmNlIGFbaV0gPSBpLCBlbGVtZW50cyA+PSBrIGFyZSB0aG9zZSB3aXRoIGkgPj0gay4KICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgaW5kaWNlcyBpID49IGsgd2hpY2ggYXJlIG9kZCBwb3NpdGlvbnMgdG8gc3RhcnQgc3ViYXJyYXlzCiAgICAgICAgLy8gdG8gZW5zdXJlIG1lZGlhbnMgYXJlID49IGsuCgogICAgICAgIC8vIFNpbXBsaWZ5IHRvIGZpbmQgYWxsIGluZGljZXMgaSB3aGVyZSBhW2ldID49IGsuCiAgICAgICAgLy8gRnJvbSBwcm9ibGVtIGVkaXRvcmlhbCwgdGhlIGFwcHJvYWNoIGlzOgogICAgICAgIC8vIEZpbmQgYWxsIGluZGljZXMgaSB3aGVyZSBhW2ldID49IGssIHRoZW4gcGljayBvZGQgbnVtYmVyIG9mIHRoZXNlIGluZGljZXMgdG8gZm9ybSBzdWJhcnJheXMuCgogICAgICAgIC8vIFdlJ2xsIGNvbGxlY3QgYWxsIGluZGljZXMgaSB3aGVyZSBhW2ldID49IGsuCiAgICAgICAgdmVjdG9yPGludD4gY2FuZGlkYXRlczsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsKICAgICAgICAgICAgaWYgKGkgPj0gaykgY2FuZGlkYXRlcy5wdXNoX2JhY2soaSk7CiAgICAgICAgfQoKICAgICAgICAvLyBXZSB3YW50IHRvIGNob29zZSBvZGQgbSBhbmQgcGljayBtIHN0YXJ0aW5nIHBvaW50cyBmcm9tIGNhbmRpZGF0ZXMuCiAgICAgICAgLy8gV2Ugd2FudCB0aGUgbWVkaWFuIG9mIG1lZGlhbnMgdG8gYmUgZXhhY3RseSBrLiAKICAgICAgICAvLyBTbyB0aGUgbWVkaWFuIG9mIG1lZGlhbnMgaXMgdGhlICgobSsxKS8yKS10aCBzbWFsbGVzdCBtZWRpYW4uCiAgICAgICAgLy8gV2UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgKChtKzEpLzIpLXRoIG1lZGlhbiBlcXVhbHMgay4KCiAgICAgICAgLy8gVGhlIGVhc2llc3Qgd2F5IGlzIHRvIGZpbmQgaW5kaWNlcyB0aGF0IGluY2x1ZGUgayBhbmQgYXJlIHNwYWNlZCBzbyB0aGF0IG1lZGlhbnMgYXJlIGF0IGxlYXN0IGsuCgogICAgICAgIC8vIFdlJ2xsIHBpY2sgdGhlIHNtYWxsZXN0IG0gb2RkIG51bWJlciBvZiBjYW5kaWRhdGVzIHN1Y2ggdGhhdCBtZWRpYW4gb2YgdGhlIG1lZGlhbnMgaXMgay4KICAgICAgICAKICAgICAgICAvLyBTaW5jZSBhIGlzIHNvcnRlZCBhbmQgbWVkaWFucyBhcmUgdGhlIG1pZGRsZSBlbGVtZW50cyBvZiBzdWJhcnJheXMKICAgICAgICAvLyBhbmQgc3ViYXJyYXlzIGhhdmUgb2RkIGxlbmd0aCwgdGhlIG1lZGlhbiBvZiBlYWNoIHN1YmFycmF5IGlzIHRoZSBtaWRkbGUgZWxlbWVudCwKICAgICAgICAvLyB3aGljaCBpcyBhbiBlbGVtZW50IG9mIGEuCgogICAgICAgIC8vIFNvIGlmIHdlIHBpY2sgc3ViYXJyYXlzIHN0YXJ0aW5nIGF0IGNhbmRpZGF0ZXMsIGVhY2ggb25lLWVsZW1lbnQgc3ViYXJyYXkgaGFzIG1lZGlhbiA9IGFbY2FuZGlkYXRlc1tpXV0gPj0gay4KICAgICAgICAvLyBUbyBnZXQgbWVkaWFuIG9mIG1lZGlhbnMgPSBrLCB3ZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN1YmFycmF5IG1lZGlhbiA9IGsuCgogICAgICAgIC8vIFdlJ2xsIHBpY2sgc3ViYXJyYXlzIHN0YXJ0aW5nIGF0IGNhbmRpZGF0ZXMsIGVhY2ggb2YgbGVuZ3RoIDEgKG9kZCksIHNvIG1lZGlhbnMgPSBlbGVtZW50cyBhdCB0aG9zZSBpbmRpY2VzLgoKICAgICAgICAvLyBOdW1iZXIgb2Ygc3ViYXJyYXlzIG0gPSBvZGQgbnVtYmVyIDw9IGNhbmRpZGF0ZXMuc2l6ZSgpIGFuZCBtZWRpYW4gb2YgbWVkaWFucyA9IGsuCgogICAgICAgIC8vIFdlJ2xsIHRyeSB0byBmaW5kIGFuIG9kZCBtIGFuZCBpbmRpY2VzIG9mIGNhbmRpZGF0ZXMgc28gdGhhdCB0aGUgbWVkaWFuIGlzIGsuCgogICAgICAgIC8vIGNhbmRpZGF0ZXMgaXMgc29ydGVkIGFzY2VuZGluZywgZWxlbWVudHMgZXF1YWwgdG8gdGhlaXIgaW5kaWNlcy4KCiAgICAgICAgLy8gRmluZCBpbmRleCBvZiBrIGluIGNhbmRpZGF0ZXMuCiAgICAgICAgaW50IGlkeCA9IC0xOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgKGludCljYW5kaWRhdGVzLnNpemUoKTsgKytpKSB7CiAgICAgICAgICAgIGlmIChjYW5kaWRhdGVzW2ldID09IGspIHsKICAgICAgICAgICAgICAgIGlkeCA9IGk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGlkeCA9PSAtMSkgewogICAgICAgICAgICAvLyBubyBrIGluIGNhbmRpZGF0ZXMsIGltcG9zc2libGUKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAiXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8vIFRvIGhhdmUgbWVkaWFuIG9mIG1lZGlhbnMgPSBrLCB0aGUgbWVkaWFuIGlzIGNhbmRpZGF0ZXNbKG0tMSkvMl0KICAgICAgICAvLyBXZSB3YW50IGNhbmRpZGF0ZXNbKG0tMSkvMl0gPT0gay4KCiAgICAgICAgLy8gU28gKG0tMSkvMiA9PSBpZHggPT4gbSA9IDIqaWR4ICsgMQoKICAgICAgICBpbnQgbSA9IDIqaWR4ICsgMTsKCiAgICAgICAgaWYgKG0gPiAoaW50KWNhbmRpZGF0ZXMuc2l6ZSgpKSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICAvLyBPdXRwdXQgbSBhbmQgZmlyc3QgbSBjYW5kaWRhdGVzCiAgICAgICAgY291dCA8PCBtIDw8ICJcbiI7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyArK2kpIHsKICAgICAgICAgICAgY291dCA8PCBjYW5kaWRhdGVzW2ldIDw8IChpICsgMSA9PSBtID8gJ1xuJyA6ICcgJyk7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@1097a41d9d30:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@1097a41d9d30:/app# 