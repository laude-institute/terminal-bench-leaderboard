[?2004hroot@efeee1e69d22:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@efeee1e69d22:/app# clear
[?2004l[H[J[3J[?2004hroot@efeee1e69d22:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gMWU5ICsgNzsKCi8vIE1vZHVsYXIgZXhwb25lbnRpYXRpb24KbG9uZyBsb25nIG1vZHBvdyhsb25nIGxvbmcgYmFzZSwgbG9uZyBsb25nIGV4cCwgaW50IG1vZCkgewogICAgbG9uZyBsb25nIHJlc3VsdCA9IDE7CiAgICB3aGlsZSAoZXhwID4gMCkgewogICAgICAgIGlmIChleHAgJiAxKSByZXN1bHQgPSByZXN1bHQgKiBiYXNlICUgbW9kOwogICAgICAgIGJhc2UgPSBiYXNlICogYmFzZSAlIG1vZDsKICAgICAgICBleHAgPj49IDE7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9CgovLyBNb2R1bGFyIGludmVyc2UgdXNpbmcgRmVybWF0J3MgbGl0dGxlIHRoZW9yZW0KbG9uZyBsb25nIG1vZGludihsb25nIGxvbmcgYSwgaW50IG1vZCkgewogICAgcmV0dXJuIG1vZHBvdyhhLCBtb2QgLSAyLCBtb2QpOwp9CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIGwsIGs7IGNpbiA+PiBuID4+IGwgPj4gazsKICAgICAgICAvLyBrID0gMCBndWFyYW50ZWVkCiAgICAgICAgCiAgICAgICAgLy8gZHBbaV1bal06IGV4cGVjdGVkIHN1Y2Nlc3MgZm9yIGZpcnN0IGkgbWVtYmVycyB3aXRoIGogbG9ja3Mgb3BlbmVkCiAgICAgICAgLy8gQnV0IGwgY2FuIGJlIHVwIHRvIDUwMDAsIG4gdXAgdG8gMTAwLCBuYWl2ZSBkcCBPKG4qbCpsKSB0b28gbGFyZ2UKICAgICAgICAvLyBPYnNlcnZpbmcgcHJvYmxlbSBhbmQgZWRpdG9yaWFsIGZvciB0aGlzIHZlcnNpb24gKGs9MCk6CiAgICAgICAgLy8gVGhlIGdhbWUgcHJvY2VlZHMgdHVybiBieSB0dXJuLCBlYWNoIG1lbWJlciB0cmllcyBvbmUga2V5LWxvY2sgcGFpci4KICAgICAgICAvLyBQcm9iYWJpbGl0eSBpcyB1bmlmb3JtIGFuZCBvcHRpbWFsIGNob2ljZXMuCiAgICAgICAgLy8gVGhlIHByb2JsZW0gcmVkdWNlcyB0byBleHBlY3RlZCB2YWx1ZSBkaXN0cmlidXRpb24gb2Ygc3VjY2Vzc2VzIHBlciBtZW1iZXIsCiAgICAgICAgLy8gZ2l2ZW4gcmFuZG9tIHVuaWZvcm0gZGlzdHJpYnV0aW9uIG9mIG1hdGNoZXMuCiAgICAgICAgCiAgICAgICAgLy8gV2UgY2FuIG1vZGVsIHRoZSBleHBlY3RlZCBudW1iZXIgb2YgbWF0Y2hlcyBwZXIgbWVtYmVyIGFzIGZvbGxvd3M6CiAgICAgICAgLy8gRWFjaCBsb2NrIGlzIGFzc2lnbmVkIHRvIGV4YWN0bHkgb25lIGtleSwgYWxsIGtleXMgZGlzdGluY3QuCiAgICAgICAgLy8gU2luY2Ugaz0wLCBudW1iZXIgb2Yga2V5cyA9PSBudW1iZXIgb2YgbG9ja3MgPT0gbC4KICAgICAgICAvLyBNZW1iZXJzIHRyeSBpbiBvcmRlciAwLi5uLTEgcmVwZWF0ZWRseSB1bnRpbCBhbGwgbG9ja3Mgb3BlbmVkLgogICAgICAgIAogICAgICAgIC8vIFRoZSBleHBlY3RlZCBudW1iZXIgb2Ygc3VjY2Vzc2VzIGZvciBtZW1iZXIgaSBpczoKICAgICAgICAvLyBFW2ldID0gc3VtIG92ZXIgciBmcm9tIDAgdG8gbC0xIG9mIHByb2JhYmlsaXR5IHRoYXQgdGhlIHItdGggb3BlbmVkIGxvY2sgd2FzIG9wZW5lZCBieSBtZW1iZXIgaQogICAgICAgIAogICAgICAgIC8vIEJlY2F1c2Ugb2Ygc3ltbWV0cnkgYW5kIHVuaWZvcm0gcmFuZG9tIGNob2ljZSBhbW9uZyBlcXVhbGx5IG9wdGltYWwgcGFpcnMsCiAgICAgICAgLy8gdGhlIGRpc3RyaWJ1dGlvbiBvZiB3aGljaCBtZW1iZXIgb3BlbnMgd2hpY2ggbG9jayBpcyB1bmlmb3JtIG92ZXIgdGhlIG1lbWJlcnMgaW4gdHVybnMuCiAgICAgICAgCiAgICAgICAgLy8gTnVtYmVyIG9mIGZ1bGwgcm91bmRzID0gbCAvIG4sIHJlbWFpbmRlciA9IGwgJSBuCiAgICAgICAgLy8gRWFjaCBtZW1iZXIgb3BlbnMgZXhhY3RseSBmbG9vcihsL24pIGxvY2tzLCBhbmQgdGhlIGZpcnN0IGwlbiBtZW1iZXJzIG9wZW4gb25lIGV4dHJhIGxvY2suCiAgICAgICAgCiAgICAgICAgLy8gQnV0IHRoZSBwcm9ibGVtIHN0YXRlcyBwcm9iYWJpbGl0eSBhbmQga25vd2xlZGdlIHVwZGF0ZSwgc28gdGhlIGV4cGVjdGVkIHZhbHVlcyBtYXRjaCB0aGlzIGRpc3RyaWJ1dGlvbi4KICAgICAgICAKICAgICAgICAvLyBTbyB0aGUgZXhwZWN0ZWQgc3VjY2Vzc2VzIGZvciBtZW1iZXIgaToKICAgICAgICAvLyBmbG9vciA9IGwgLyBuCiAgICAgICAgLy8gcmVtID0gbCAlIG4KICAgICAgICAvLyBlX2kgPSBmbG9vciArIChpIDwgcmVtID8gMSA6IDApCiAgICAgICAgCiAgICAgICAgLy8gQnV0IHByb2JsZW0gc3RhdGVzIG91dHB1dCBtb2R1bG8gYW5kIGZyYWN0aW9uIGZvcm0gd2l0aCBpbnZlcnNlIG1vZHVsby4KICAgICAgICAvLyBUaGUgZXhhbXBsZSBzaG93cyBmcmFjdGlvbmFsIGV4cGVjdGVkIHZhbHVlcyBmb3Igc29tZSBjYXNlcy4KCiAgICAgICAgLy8gV2UgbmVlZCB0byBjb21wdXRlIGV4cGVjdGVkIHN1Y2Nlc3NlcyBtb2R1bG8gTU9EIGFzIGZyYWN0aW9uLgogICAgICAgIAogICAgICAgIC8vIExldCB0b3RhbCA9IGwKICAgICAgICAvLyBFYWNoIG1lbWJlciBoYXMgZXhwZWN0ZWQgc3VjY2VzcyA9IHRvdGFsIC8gbgogICAgICAgIC8vIEJlY2F1c2UgdGhlIHByb2JsZW0gc3RhdGVzIHRoYXQgdGhlIGV4cGVjdGVkIHZhbHVlcyBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYW4gaXJyZWR1Y2libGUgZnJhY3Rpb24sCiAgICAgICAgLy8gd2Ugb3V0cHV0IChwICogcV57LTF9KSBtb2QgTU9ELCB3aGVyZSBwL3EgPSBleHBlY3RlZCBzdWNjZXNzLgoKICAgICAgICAvLyBTbyBmb3IgZWFjaCBtZW1iZXIgaToKICAgICAgICAvLyBleHBlY3RlZCA9IGwgLyBuCiAgICAgICAgLy8gb3V0cHV0IChsICogbW9kaW52KG4sIE1PRCkpICUgTU9ECgogICAgICAgIC8vIFRoaXMgbWF0Y2hlcyB0aGUgcHJvYmxlbSBhbmQgZXhhbXBsZXM6CiAgICAgICAgLy8gRm9yIGZpcnN0IGV4YW1wbGU6IG49MywgbD0xOyBleHBlY3RlZDogMS8zLCBidXQgb3V0cHV0IGlzIDEgMCAwIChiZWNhdXNlIDEgbG9jaywgZmlyc3QgbWVtYmVyIHRyaWVzIGZpcnN0KQogICAgICAgIC8vIEFjdHVhbGx5IGZyb20gZXhhbXBsZSwgZmlyc3QgbWVtYmVyIGdldHMgMSwgb3RoZXJzIDAuCiAgICAgICAgLy8gU28gdGhpcyBzaW1wbGUgZXF1YWwgZGl2aXNpb24gZG9lc24ndCBmaXQgZXhhY3RseS4KCiAgICAgICAgLy8gV2UgbmVlZCB0byBpbXBsZW1lbnQgYSBEUCBzb2x1dGlvbjoKICAgICAgICAvLyBkcFtpXVtqXTogZXhwZWN0ZWQgbnVtYmVyIG9mIHN1Y2Nlc3NlcyBmb3IgZWFjaCBtZW1iZXIgYWZ0ZXIgaiBsb2NrcyBvcGVuZWQgYW5kIGktdGggbWVtYmVyIHRvIG1vdmUKICAgICAgICAKICAgICAgICAvLyBTaW5jZSBsIGNhbiBiZSB1cCB0byA1MDAwIGFuZCBuIHVwIHRvIDEwMCwgd2UgY2FuIGltcGxlbWVudCBkcCBvZiBzaXplIG4gKiAobCsxKSwgc3RvcmluZyBleHBlY3RlZCBzdWNjZXNzZXMgcGVyIG1lbWJlci4KCiAgICAgICAgLy8gV2Ugd2lsbCBzdG9yZSBkcCBhcyB2ZWN0b3I8dmVjdG9yPHZlY3Rvcjxsb25nIGxvbmc+Pj4gd2l0aCBzaXplIFtsKzFdW25dW25dPwogICAgICAgIC8vIFRvbyBiaWcuCgogICAgICAgIC8vIEluc3RlYWQsIHdlIHN0b3JlIGV4cGVjdGVkIHN1Y2Nlc3MgcGVyIG1lbWJlciBhZnRlciBqIGxvY2tzIG9wZW5lZCB3aXRoIGktdGggbWVtYmVyIHR1cm4uCiAgICAgICAgLy8gZHBbal1baV1bbV06IGV4cGVjdGVkIHN1Y2Nlc3Mgb2YgbWVtYmVyIG0gYWZ0ZXIgaiBsb2NrcyBvcGVuZWQgYW5kIHR1cm4gaS4KICAgICAgICAvLyBBZ2FpbiB0b28gYmlnLgoKICAgICAgICAvLyBBbHRlcm5hdGl2ZTogc3RvcmUgZHBbal1baV0gYXMgZXhwZWN0ZWQgc3VjY2VzcyB2ZWN0b3IgZm9yIGVhY2ggbWVtYmVyIGF0IHN0YXRlIChsb2NrcyBvcGVuZWQgPSBqLCBjdXJyZW50IG1lbWJlciA9IGkpLgogICAgICAgIAogICAgICAgIC8vIEJ1dCBtZW1vcnkgdG9vIGJpZzogaiB1cCB0byA1MDAwLCBpIHVwIHRvIDEwMCwgYW5kIHZlY3RvciBzaXplIG49MTAwID0+IDUwMDAqMTAwKjEwMCA9IDUwIG1pbGxpb24gZG91Ymxlcy4KCiAgICAgICAgLy8gV2UgbXVzdCBvcHRpbWl6ZS4KCiAgICAgICAgLy8gT2JzZXJ2YXRpb246IEF0IGVhY2ggc3RlcCwgdGhlIG1lbWJlciB0cmllcyBhIGtleS1sb2NrIHBhaXI7IHN1Y2Nlc3MgcHJvYmFiaWxpdHkgPSAxLyhyZW1haW5pbmcga2V5cykuCiAgICAgICAgLy8gSWYgc3VjY2VzcywgdW5sb2NrIGNvdW50IGluY3JlYXNlcyBieSAxIGFuZCBuZXh0IHR1cm4uCiAgICAgICAgLy8gSWYgZmFpbCwgbm8gdW5sb2NrLCBuZXh0IHR1cm4uCgogICAgICAgIC8vIFByb2JhYmlsaXR5IHN1Y2Nlc3MgPSAxLyhyZW1haW5pbmcgbG9ja3MpID0gMS8obCAtIGopCgogICAgICAgIC8vIExldCBkcFtqXVtpXVttXSBpcyBleHBlY3RlZCBzdWNjZXNzIG9mIG1lbWJlciBtIGlmIGN1cnJlbnRseSBqIGxvY2tzIG9wZW5lZCBhbmQgbmV4dCBtZW1iZXIgdG8gbW92ZSBpcyBpLgoKICAgICAgICAvLyBBdCBzdGF0ZSAoaixpKToKICAgICAgICAvLyBzdWNjZXNzIHdpdGggcHJvYmFiaWxpdHkgcCA9IDEvKGwgLSBqKToKICAgICAgICAvLyAgIGRwW2orMV1bKGkrMSklbl1bbV0gKyAobSA9PSBpID8gMSA6IDApCiAgICAgICAgLy8gZmFpbHVyZSB3aXRoIHByb2JhYmlsaXR5IDEtcDoKICAgICAgICAvLyAgIGRwW2pdWyhpKzEpJW5dW21dCgogICAgICAgIC8vIEJhc2UgY2FzZTogZHBbbF1baV1bbV0gPSAwCgogICAgICAgIC8vIFdlIGNhbiBkbyBEUCBib3R0b20gdXAuCgogICAgICAgIC8vIFNpbmNlIGRwIG5lZWRzIHRvIHN0b3JlIG4gbWVtYmVycyBwZXIgc3RhdGUsIHdlIGNhbiBzdG9yZSBkcFtqXVtpXSBhcyB2ZWN0b3I8bG9uZyBsb25nPiBzaXplIG4uCgogICAgICAgIC8vIEltcGxlbWVudGluZyB0aGlzIGlzIGZlYXNpYmxlLgoKICAgICAgICB2ZWN0b3I8dmVjdG9yPHZlY3Rvcjxsb25nIGxvbmc+Pj4gZHAobCArIDEsIHZlY3Rvcjx2ZWN0b3I8bG9uZyBsb25nPj4obiwgdmVjdG9yPGxvbmcgbG9uZz4obiwgMCkpKTsKCiAgICAgICAgLy8gQmFzZSBjYXNlOiBkcFtsXVtpXVttXSA9IDAgZm9yIGFsbCBpLCBtCgogICAgICAgIC8vIFN0YXJ0IGJvdHRvbSB1cAogICAgICAgIGZvciAoaW50IGogPSBsOyBqID49IDA7IGotLSkgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGogPT0gbCkgewogICAgICAgICAgICAgICAgICAgIC8vIGFsbCBsb2NrcyBvcGVuZWQsIGV4cGVjdGVkIHN1Y2Nlc3MgMAogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IG0gPSAwOyBtIDwgbjsgbSsrKSBkcFtqXVtpXVttXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBwcm9iYWJpbGl0eSBzdWNjZXNzCiAgICAgICAgICAgICAgICBsb25nIGxvbmcgaW52ID0gbW9kaW52KGwgLSBqLCBNT0QpOwogICAgICAgICAgICAgICAgZm9yIChpbnQgbSA9IDA7IG0gPCBuOyBtKyspIHsKICAgICAgICAgICAgICAgICAgICAvLyBzdWNjZXNzCiAgICAgICAgICAgICAgICAgICAgbG9uZyBsb25nIHN1YyA9IGRwW2ogKyAxXVsoaSArIDEpICUgbl1bbV07CiAgICAgICAgICAgICAgICAgICAgaWYgKG0gPT0gaSkgc3VjID0gKHN1YyArIDEpICUgTU9EOwogICAgICAgICAgICAgICAgICAgIC8vIGZhaWx1cmUKICAgICAgICAgICAgICAgICAgICBsb25nIGxvbmcgZmFpbCA9IGRwW2pdWyhpICsgMSkgJSBuXVttXTsKICAgICAgICAgICAgICAgICAgICBkcFtqXVtpXVttXSA9IChpbnYgKiBzdWMgKyAoKE1PRCArIDEgLSBpbnYpICUgTU9EKSAqIGZhaWwpICUgTU9EOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBvdXRwdXQgZHBbMF1bMF1bbV0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjb3V0IDw8IGRwWzBdWzBdW2ldOwogICAgICAgICAgICBpZiAoaSA8IG4gLSAxKSBjb3V0IDw8ICcgJzsKICAgICAgICB9CiAgICAgICAgY291dCA8PCAnXG4nOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@efeee1e69d22:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@efeee1e69d22:/app# 