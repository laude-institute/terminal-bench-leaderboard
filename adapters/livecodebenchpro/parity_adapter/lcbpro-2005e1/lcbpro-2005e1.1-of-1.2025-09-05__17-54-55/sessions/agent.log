[?2004hroot@ce406569fd4b:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@ce406569fd4b:/app# clear
[?2004l[H[J[3J[?2004hroot@ce406569fd4b:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IGwsIG4sIG07CiAgICAgICAgY2luID4+IGwgPj4gbiA+PiBtOwogICAgICAgIHZlY3RvcjxpbnQ+IGEobCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBsOyBpKyspIGNpbiA+PiBhW2ldOwogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gYihuLCB2ZWN0b3I8aW50PihtKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspCiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbTsgaisrKQogICAgICAgICAgICAgICAgY2luID4+IGJbaV1bal07CgogICAgICAgIC8vIFByZWNvbXB1dGUgcG9zaXRpb25zIG9mIGVhY2ggbnVtYmVyIGluIGIgZm9yIGZhc3QgbG9va3VwCiAgICAgICAgLy8gU2luY2UgdmFsdWVzIGFyZSB1cCB0byBtaW4oNywgbiptKSwgc21hbGwgZG9tYWluCiAgICAgICAgdmVjdG9yPHZlY3RvcjxwYWlyPGludCxpbnQ+Pj4gcG9zaXRpb25zKDgpOyAvLyAxLWJhc2VkIGluZGV4CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBtOyBqKyspIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tiW2ldW2pdXS5lbXBsYWNlX2JhY2soaSsxLCBqKzEpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBXZSB3aWxsIGRvIGEgRFAgZnJvbSB0aGUgZW5kIG9mIHRoZSBhcnJheSBhIGJhY2t3YXJkcwogICAgICAgIC8vIGRwW2ldID0gbWluaW1hbCAocixjKSBwb3NpdGlvbiB3aGVyZSBhW2ldIGNhbiBiZSBjaG9zZW4gdG8gZm9yY2UgYSB3aW4KICAgICAgICAvLyBvciBkcFtpXSA9IChuKzEsbSsxKSBpZiBubyBwb3NpdGlvbgogICAgICAgIC8vIFdlIHdpbGwgc3RvcmUgZHBbaV0gYXMgcGFpcjxpbnQsaW50PiByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIGNob3NlbgoKICAgICAgICAvLyBUbyBjb21wYXJlIHBvc2l0aW9ucywgZGVmaW5lIG9wZXJhdG9yIDwgZm9yIGxleCBvcmRlcgogICAgICAgIGF1dG8gcG9zX2xlc3MgPSBbXShwYWlyPGludCxpbnQ+IHgsIHBhaXI8aW50LGludD4geSkgewogICAgICAgICAgICBpZiAoeC5maXJzdCAhPSB5LmZpcnN0KSByZXR1cm4geC5maXJzdCA8IHkuZmlyc3Q7CiAgICAgICAgICAgIHJldHVybiB4LnNlY29uZCA8IHkuc2Vjb25kOwogICAgICAgIH07CgogICAgICAgIC8vIGRwIHZlY3RvcgogICAgICAgIHZlY3RvcjxwYWlyPGludCxpbnQ+PiBkcChsKzEsIHtuKzEsIG0rMX0pOwogICAgICAgIGRwW2xdID0ge24rMSwgbSsxfTsgLy8gYWZ0ZXIgbGFzdCBlbGVtZW50LCBubyBtb3ZlCgogICAgICAgIGZvciAoaW50IGkgPSBsLTE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIHBhaXI8aW50LGludD4gYmVzdCA9IHtuKzEsIG0rMX07CiAgICAgICAgICAgIGludCB2YWwgPSBhW2ldOwogICAgICAgICAgICBmb3IgKGF1dG8gJnBvcyA6IHBvc2l0aW9uc1t2YWxdKSB7CiAgICAgICAgICAgICAgICBpbnQgciA9IHBvcy5maXJzdCwgYyA9IHBvcy5zZWNvbmQ7CiAgICAgICAgICAgICAgICAvLyBuZXh0IG1vdmUgbXVzdCBiZSBpbiBzdWJtYXRyaXggc3RhcnRpbmcgYXQgKHIrMSxjKzEpCiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBkcFtpKzFdIHBvc2l0aW9uIGlzID49IChyKzEsYysxKQogICAgICAgICAgICAgICAgLy8gaWYgZHBbaSsxXSA9PSAobisxLG0rMSkgbWVhbnMgbmV4dCBwbGF5ZXIgbG9zdAoKICAgICAgICAgICAgICAgIC8vIFRvIHdpbiwgY3VycmVudCBwbGF5ZXIgbXVzdCBjaG9vc2UgYSBwb3NpdGlvbiBwb3Mgc3VjaCB0aGF0IGRwW2krMV0gPj0gKHIrMSxjKzEpCiAgICAgICAgICAgICAgICAvLyBJZiBkcFtpKzFdIDwgKHIrMSxjKzEpLCBuZXh0IHBsYXllciBjYW4gZmluZCBhIHBvc2l0aW9uIGVhcmxpZXIsIHNvIGN1cnJlbnQgbG9zZXMKCiAgICAgICAgICAgICAgICAvLyBTbyBjaGVjayBpZiBkcFtpKzFdIDwgKHIrMSxjKzEpCiAgICAgICAgICAgICAgICBpZiAocG9zX2xlc3MoZHBbaSsxXSwge3IrMSwgYysxfSkpIHsKICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHBsYXllciBjYW4gcGxheSwgc28gY3VycmVudCBwbGF5ZXIgbG9zZXMgaWYgY2hvb3NlIHBvcwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gZWxzZSBjdXJyZW50IHBsYXllciBjYW4gZm9yY2UgbmV4dCBwbGF5ZXIgbG9zZQogICAgICAgICAgICAgICAgaWYgKHBvc19sZXNzKHBvcywgYmVzdCkpIHsKICAgICAgICAgICAgICAgICAgICBiZXN0ID0gcG9zOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGRwW2ldID0gYmVzdDsKICAgICAgICB9CgogICAgICAgIC8vIElmIGRwWzBdID09IChuKzEsbSsxKSBtZWFucyBUc292YWsgY2Fubm90IGZpbmQgZmlyc3QgZWxlbWVudCwgaGUgbG9zZXMKICAgICAgICAvLyBlbHNlIFRzb3ZhayB3aW5zCiAgICAgICAgY291dCA8PCAoZHBbMF0gPT0gbWFrZV9wYWlyKG4rMSwgbSsxKSA/ICdOJyA6ICdUJykgPDwgIlxuIjsKICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@ce406569fd4b:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@ce406569fd4b:/app# 