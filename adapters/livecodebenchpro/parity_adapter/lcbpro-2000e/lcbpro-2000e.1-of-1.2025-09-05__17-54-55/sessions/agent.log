[?2004hroot@dae758befffc:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@dae758befffc:/app# clear
[?2004l[H[J[3J[?2004hroot@dae758befffc:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgp1c2luZyBsbCA9IGxvbmcgbG9uZzsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwoKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbSwgazsKICAgICAgICBjaW4gPj4gbiA+PiBtID4+IGs7CiAgICAgICAgaW50IHc7CiAgICAgICAgY2luID4+IHc7CiAgICAgICAgdmVjdG9yPGxsPiBhKHcpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgdzsgaSsrKSBjaW4gPj4gYVtpXTsKCiAgICAgICAgLy8gTnVtYmVyIG9mIGsgeCBrIHN1YnNxdWFyZXMKICAgICAgICBsbCBzdWJzcXVhcmVzID0gKGxsKShuIC0gayArIDEpICogKG0gLSBrICsgMSk7CgogICAgICAgIC8vIFNvcnQgZ29yaWxsYXMgYnkgaGVpZ2h0IGRlc2NlbmRpbmcKICAgICAgICBzb3J0KGEucmJlZ2luKCksIGEucmVuZCgpKTsKCiAgICAgICAgLyoKICAgICAgICBFYWNoIGNlbGwgaW4gdGhlIGNlbnRlciBhcmVhICh0aGF0IGlzIGNvdmVyZWQgYnkgYWxsIGsgeCBrIHN1YnNxdWFyZXMpIGNvbnRyaWJ1dGVzIG1vcmUgdGltZXMuCiAgICAgICAgSW4gZmFjdCwgdGhlIGNvbnRyaWJ1dGlvbiBvZiBlYWNoIGNlbGwgdG8gdGhlIHRvdGFsIHNwZWN0YWNsZSBpcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGsgeCBrIHN1YnNxdWFyZXMgaXQgYmVsb25ncyB0by4KICAgICAgICBUaGUgbWF4aW11bSB0b3RhbCBzcGVjdGFjbGUgaXMgYWNoaWV2ZWQgYnkgcHV0dGluZyB0aGUgdGFsbGVzdCBnb3JpbGxhcyBpbiB0aGUgY2VsbHMgd2l0aCB0aGUgaGlnaGVzdCBjb3ZlcmFnZS4KCiAgICAgICAgVGhlIGNvdmVyYWdlIG9mIGNlbGxzIHZhcmllcyBmcm9tIDEgdXAgdG8gayprIGluIHRoZSBjZW50ZXIuCiAgICAgICAgQnV0IGhlcmUsIHNpbmNlIGsgY2FuIGJlIGxhcmdlIGFuZCBncmlkIGxhcmdlLCB3ZSBkbyBub3QgbmVlZCB0byBhc3NpZ24gY2VsbHMgZXhwbGljaXRseS4KCiAgICAgICAgVGhlIHRvdGFsIGNvdmVyYWdlIHN1bXMgdG8gc3Vic3F1YXJlcyAqIGsgKiBrIGJlY2F1c2UgZWFjaCBzdWItc3F1YXJlIGhhcyBrKmsgY2VsbHMuCgogICAgICAgIFRoZSBtYXhpbXVtIHNwZWN0YWNsZSBpcyBzdW0gb2YgZ29yaWxsYSBoZWlnaHRzIHdlaWdodGVkIGJ5IGNvdmVyYWdlLgoKICAgICAgICBUaGUgY292ZXJhZ2UgZGlzdHJpYnV0aW9uIGlzOgogICAgICAgIC0gY2VsbHMgZnVsbHkgaW5zaWRlIHRoZSAobi1rKzEpIHggKG0taysxKSBhcmVhIGFyZSBjb3ZlcmVkIGsqayB0aW1lcwogICAgICAgIC0gY2VsbHMgbmVhcmVyIGVkZ2VzIGhhdmUgbGVzcyBjb3ZlcmFnZQoKICAgICAgICBCdXQgdGhlIHN1bSBvZiBjb3ZlcmFnZSBvdmVyIGFsbCBjZWxscyA9IHN1YnNxdWFyZXMgKiBrKmsuCgogICAgICAgIFRoZSBtYXhpbXVtIHNwZWN0YWNsZSBpcyBzdW0gb2YgaGVpZ2h0cyBvZiBhbGwgcGxhY2VkIGdvcmlsbGFzIG11bHRpcGxpZWQgYnkgdGhlaXIgY292ZXJhZ2UuCgogICAgICAgIEhvd2V2ZXIsIGZyb20gcHJvYmxlbSBlZGl0b3JpYWw6IHRoZSBtYXhpbXVtIHNwZWN0YWNsZSBlcXVhbHMKICAgICAgICBzdW0gb2YgYWxsIGdvcmlsbGEgaGVpZ2h0cyAqIG51bWJlciBvZiBrIHggayBzdWItc3F1YXJlcyB0aGV5IGFwcGVhciBpbgogICAgICAgIHdoZXJlIGVhY2ggZ29yaWxsYSBjb3VudHMgY292ZXJhZ2UgdGltZXMuCgogICAgICAgIEJ1dCB0aGUgcHJvYmxlbSByZWR1Y2VzIHRvOgogICAgICAgIG1heGltdW0gc3BlY3RhY2xlID0gc3VtIG9mIHRvcCBtaW4odywgbiptKSBnb3JpbGxhIGhlaWdodHMgKiBjb3ZlcmFnZSBwZXIgY2VsbAogICAgICAgIFdoZXJlIGNvdmVyYWdlIHBlciBjZWxsIGlzIHRoZSBudW1iZXIgb2YgayB4IGsgc3Vic3F1YXJlcyB0aGF0IGNlbGwgYmVsb25ncyB0by4KCiAgICAgICAgU2luY2UgY292ZXJhZ2UgdmFyaWVzIGZyb20gMSB0byBrKmsuIEJ1dCB0aGUgc3VtIG92ZXIgYWxsIGNlbGxzIGlzIHN1YnNxdWFyZXMgKiBrKmsuCgogICAgICAgIFRoZSBtYXhpbXVtIHNwZWN0YWNsZSBpcyBzdW0gb2YgZ29yaWxsYXMgd2VpZ2h0ZWQgYnkgY292ZXJhZ2UsIGFuZCB0aGUgY292ZXJhZ2UgZGlzdHJpYnV0aW9uIHNvcnRlZCBkZXNjZW5kaW5nIGlzOgoKICAgICAgICBXZSBjYW4gYXNzaWduIHRoZSBjb3ZlcmFnZSB2YWx1ZXMgdG8gY2VsbHMgaW4gZGVzY2VuZGluZyBvcmRlcjoKICAgICAgICBUaGUgY292ZXJhZ2UgZm9yIGVhY2ggY2VsbCBpczoKICAgICAgICAgICAgY292ZXJhZ2UoaSxqKSA9IG1pbihpKzEsIG4taysxLCBuLWksIGspICogbWluKGorMSwgbS1rKzEsIG0taiwgaykKICAgICAgICBCdXQgdGhpcyBpcyBjb21wbGljYXRlZC4KCiAgICAgICAgQnV0IHRoZSBlZGl0b3JpYWwgc29sdXRpb24gaXM6CiAgICAgICAgVGhlIG1heGltdW0gc3BlY3RhY2xlID0gc3VtX3tpPTF9Xnt3fSBhX2kgKiBjb3ZlcmFnZV9pCiAgICAgICAgV2hlcmUgY292ZXJhZ2VfaSBpcyBzb3J0ZWQgZGVzY2VuZGluZy4KCiAgICAgICAgVG8gZmluZCBjb3ZlcmFnZSBvZiBjZWxsczoKICAgICAgICBjb3ZlcmFnZShpLGopID0gbnVtYmVyIG9mIGsgeCBrIHN1YnNxdWFyZXMgY29udGFpbmluZyBjZWxsIChpLGopID0KICAgICAgICAgICAgKG1pbihpKzEsIG4taysxLCBuLWksIGspKSAqIChtaW4oaisxLCBtLWsrMSwgbS1qLCBrKSkKCiAgICAgICAgU28gd2UgY2FuIGdlbmVyYXRlIGEgY292ZXJhZ2UgYXJyYXkgb2Ygc2l6ZSBuKm0sIHNvcnQgZGVzY2VuZGluZywgdGhlbiBhc3NpZ24gZ29yaWxsYXMgdG8gdG9wIGNvdmVyYWdlIGNlbGxzLgoKICAgICAgICBTaW5jZSBuKm0gPD0gMioxMF41LCB3ZSBjYW4gZG8gdGhpcy4KICAgICAgICAqLwoKICAgICAgICAvLyBQcmVjb21wdXRlIGNvdmVyYWdlIGZvciBlYWNoIGNlbGwKICAgICAgICB2ZWN0b3I8bGw+IGNvdmVyYWdlOwogICAgICAgIGNvdmVyYWdlLnJlc2VydmUobiAqIG0pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGxsIHZlcnRpY2FsID0gbWluKHtpICsgMSwgbiAtIGsgKyAxLCBuIC0gaSwgKGxsKWt9KTsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBtOyBqKyspIHsKICAgICAgICAgICAgICAgIGxsIGhvcml6b250YWwgPSBtaW4oe2ogKyAxLCBtIC0gayArIDEsIG0gLSBqLCAobGwpa30pOwogICAgICAgICAgICAgICAgY292ZXJhZ2UucHVzaF9iYWNrKHZlcnRpY2FsICogaG9yaXpvbnRhbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHNvcnQoY292ZXJhZ2UucmJlZ2luKCksIGNvdmVyYWdlLnJlbmQoKSk7CgogICAgICAgIGxsNjQgcmVzID0gMDsKICAgICAgICBpbnQgbGltaXQgPSBtaW4odywgbiAqIG0pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGltaXQ7IGkrKykgewogICAgICAgICAgICByZXMgKz0gYVtpXSAqIGNvdmVyYWdlW2ldOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCByZXMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@dae758befffc:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@dae758befffc:/app# 