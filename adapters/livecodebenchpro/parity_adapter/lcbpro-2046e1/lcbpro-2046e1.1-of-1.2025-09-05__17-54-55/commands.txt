['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgp1c2luZyBsbCA9IGxvbmcgbG9uZzsKCnN0cnVjdCBQYXJ0aWNpcGFudCB7CiAgICBpbnQgYSwgYiwgczsKfTsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgVDsgY2luID4+IFQ7CiAgICB3aGlsZSAoVC0tKSB7CiAgICAgICAgaW50IG4sIG07CiAgICAgICAgY2luID4+IG4gPj4gbTsKCiAgICAgICAgdmVjdG9yPFBhcnRpY2lwYW50PiBwYXJ0aWNpcGFudHMobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IHBhcnRpY2lwYW50c1tpXS5hID4+IHBhcnRpY2lwYW50c1tpXS5iID4+IHBhcnRpY2lwYW50c1tpXS5zOwogICAgICAgIH0KCiAgICAgICAgdmVjdG9yPHZlY3RvcjxpbnQ+PiBjaXR5KG0pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbTsgaSsrKSB7CiAgICAgICAgICAgIGludCBrOyBjaW4gPj4gazsKICAgICAgICAgICAgY2l0eVtpXS5yZXNpemUoayk7CiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgICAgICBjaW4gPj4gY2l0eVtpXVtqXTsKICAgICAgICAgICAgICAgIGNpdHlbaV1bal0tLTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gU2luY2UgbSA9IDIgYWx3YXlzLCB3ZSBvbmx5IGhhdmUgY2l0aWVzIDAgYW5kIDEKICAgICAgICAvLyBXZSB3YW50IGFsbCBwYXJ0aWNpcGFudHMgaW4gY2l0eSAwIHRvIHNvbHZlIHN0cmljdGx5IG1vcmUgcHJvYmxlbXMgdGhhbiBhbGwgaW4gY2l0eSAxCgogICAgICAgIC8vIExldCdzIHRyeSBhIGNvbnN0cnVjdGl2ZSBhcHByb2FjaDoKICAgICAgICAvLyBXZSdsbCBjcmVhdGUgcHJvYmxlbXMgd2l0aCBkaWZmaWN1bHRpZXMgdGhhdCBjaXR5IDAgcGFydGljaXBhbnRzIGNhbiBzb2x2ZSBidXQgY2l0eSAxIHBhcnRpY2lwYW50cyBjYW5ub3QKICAgICAgICAvLyBhbmQgcHJvYmxlbXMgd2l0aCBkaWZmaWN1bHRpZXMgdGhhdCBjaXR5IDEgcGFydGljaXBhbnRzIGNhbiBzb2x2ZS4KCiAgICAgICAgLy8gSWRlYToKICAgICAgICAvLyBGb3IgY2l0eSAwIHBhcnRpY2lwYW50cywgZmluZCBtYXggc3RyZW5ndGhzIGFuZCB3aXNkb21zCiAgICAgICAgLy8gRm9yIGNpdHkgMSBwYXJ0aWNpcGFudHMsIGZpbmQgbWF4IHN0cmVuZ3RocyBhbmQgd2lzZG9tcwoKICAgICAgICAvLyBXZSdsbCB0cnkgdG8gcGljayBkaWZmaWN1bHRpZXMgc28gdGhhdCBjaXR5IDAgcGFydGljaXBhbnRzIHNvbHZlIG1vcmUgcHJvYmxlbXMuCgogICAgICAgIC8vIEV4dHJhY3QgY2l0eSAwIGFuZCBjaXR5IDEgcGFydGljaXBhbnQgaW5kaWNlcwogICAgICAgIGNvbnN0IGF1dG8gJiBjMCA9IGNpdHlbMF07CiAgICAgICAgY29uc3QgYXV0byAmIGMxID0gY2l0eVsxXTsKCiAgICAgICAgaW50IG1heFAwID0gMCwgbWF4UDEgPSAwOwoKICAgICAgICAvLyBGb3IgY2l0eSAwIHBhcnRpY2lwYW50cyBmaW5kIG1heCBhIGFuZCBtYXggYgogICAgICAgIGludCBtYXhBMCA9IDAsIG1heEIwID0gMDsKICAgICAgICBmb3IgKGludCBpZHggOiBjMCkgewogICAgICAgICAgICBtYXhBMCA9IG1heChtYXhBMCwgcGFydGljaXBhbnRzW2lkeF0uYSk7CiAgICAgICAgICAgIG1heEIwID0gbWF4KG1heEIwLCBwYXJ0aWNpcGFudHNbaWR4XS5iKTsKICAgICAgICB9CgogICAgICAgIC8vIEZvciBjaXR5IDEgcGFydGljaXBhbnRzIGZpbmQgbWF4IGEgYW5kIG1heCBiCiAgICAgICAgaW50IG1heEExID0gMCwgbWF4QjEgPSAwOwogICAgICAgIGZvciAoaW50IGlkeCA6IGMxKSB7CiAgICAgICAgICAgIG1heEExID0gbWF4KG1heEExLCBwYXJ0aWNpcGFudHNbaWR4XS5hKTsKICAgICAgICAgICAgbWF4QjEgPSBtYXgobWF4QjEsIHBhcnRpY2lwYW50c1tpZHhdLmIpOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byBjb25zdHJ1Y3QgcHJvYmxlbXMgd2l0aCBkaXN0aW5jdCB0b3BpY3MgYW5kIGRpZmZpY3VsdGllcwogICAgICAgIC8vIFN0cmF0ZWd5OgogICAgICAgIC8vIDEpIENyZWF0ZSAzIHByb2JsZW1zIHdpdGggZGlmZmljdWx0eSA9IG1heEExICsgMSwgdG9waWNzIGRpc3RpbmN0LCB0aGF0IG9ubHkgY2l0eSAwIGNhbiBzb2x2ZSAoYmVjYXVzZSB0aGVpciBhX2kgPj0gZGlmZmljdWx0eSBvciBzX2kgPSB0b3BpYyBhbmQgYl9pID49IGRpZmZpY3VsdHkpCiAgICAgICAgLy8gICAgQnV0IGRpZmZpY3VsdHkgaXMgbW9yZSB0aGFuIG1heEExLCBzbyBjaXR5IDEgcGFydGljaXBhbnRzIGNhbm5vdCBzb2x2ZSBieSBzdHJlbmd0aApuICAgICAgICAvLyAgICBGb3IgY2l0eSAwIHBhcnRpY2lwYW50cywgdG8gc29sdmUgYnkgc3RyZW5ndGgsIGFfaSA+PSBkaWZmaWN1bHR5CiAgICAgICAgLy8gICAgQnV0IG1heWJlIG5vIGNpdHkgMCBwYXJ0aWNpcGFudCBoYXMgc3RyZW5ndGggdGhhdCBoaWdoLCB0aGVuIHRyeSBiX2kgYW5kIHNwZWNpYWxpemF0aW9uIG1hdGNoCgogICAgICAgIC8vIEhvd2V2ZXIsIHRvcGljcyBhcmUgZGlzdGluY3QgYW5kIHdlIG5lZWQgdG8gYXNzaWduIHRvcGljcyB3aXNlbHkKCiAgICAgICAgLy8gTGV0J3MgdHJ5IGEgc2ltcGxlIGFwcHJvYWNoOgogICAgICAgIC8vIFdlJ2xsIGNyZWF0ZSAzIHByb2JsZW1zIHRoYXQgb25seSBjaXR5IDAgcGFydGljaXBhbnRzIHNvbHZlIChkaWZmaWN1bHR5ID0gbWF4QTEgKyAxLCB0b3BpY3MgMSwyLDMpCiAgICAgICAgLy8gYW5kIDIgcHJvYmxlbXMgdGhhdCBvbmx5IGNpdHkgMSBwYXJ0aWNpcGFudHMgc29sdmUgKGRpZmZpY3VsdHkgPSBtYXhBMCwgdG9waWNzIDQsNSkKCiAgICAgICAgLy8gQnV0IGlmIG1heEEwIDw9IG1heEExLCBjaXR5IDEgcGFydGljaXBhbnRzIHNvbHZlIG1vcmUgcHJvYmxlbXMsIHNvIGltcG9zc2libGUKCiAgICAgICAgaWYgKG1heEEwIDw9IG1heEExKSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgJ1xuJzsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICB2ZWN0b3I8cGFpcjxpbnQsaW50Pj4gcHJvYmxlbXM7CgogICAgICAgIC8vIFByb2JsZW1zIGZvciBjaXR5IDAgcGFydGljaXBhbnRzCiAgICAgICAgLy8gRGlmZmljdWx0eSA9IG1heEExICsgMSAoZ3JlYXRlciB0aGFuIGFueSBjaXR5IDEgc3RyZW5ndGgpCiAgICAgICAgLy8gVG9waWNzID0gMSwyLDMKICAgICAgICBpbnQgZGlmZjAgPSBtYXhBMSArIDE7CiAgICAgICAgcHJvYmxlbXMuZW1wbGFjZV9iYWNrKGRpZmYwLCAxKTsKICAgICAgICBwcm9ibGVtcy5lbXBsYWNlX2JhY2soZGlmZjAsIDIpOwogICAgICAgIHByb2JsZW1zLmVtcGxhY2VfYmFjayhkaWZmMCwgMyk7CgogICAgICAgIC8vIFByb2JsZW1zIGZvciBjaXR5IDEgcGFydGljaXBhbnRzCiAgICAgICAgLy8gRGlmZmljdWx0eSA9IG1heEEwIChlcXVhbCB0byBjaXR5IDAgbWF4IHN0cmVuZ3RoLCBjaXR5IDEgY2FuIHNvbHZlIGlmIGFfaSA+PSBtYXhBMCkKICAgICAgICAvLyBUb3BpY3MgPSA0LDUKICAgICAgICBpbnQgZGlmZjEgPSBtYXhBMDsKICAgICAgICBwcm9ibGVtcy5lbXBsYWNlX2JhY2soZGlmZjEsIDQpOwogICAgICAgIHByb2JsZW1zLmVtcGxhY2VfYmFjayhkaWZmMSwgNSk7CgogICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2F0aXNmaWVzIGNvbmRpdGlvbjoKICAgICAgICAvLyBFYWNoIGNpdHkgMCBwYXJ0aWNpcGFudCBzb2x2ZXMgYXQgbGVhc3QgMyBwcm9ibGVtcyAodGhvc2Ugd2l0aCBkaWZmaWN1bHR5IGRpZmYwKQogICAgICAgIC8vIHNpbmNlIGRpZmYwID0gbWF4QTEgKyAxIDwgbWF4QTAgKGJlY2F1c2UgbWF4QTAgPiBtYXhBMSksIHBhcnRpY2lwYW50cyB3aXRoIGFfaSA+PSBkaWZmMCBzb2x2ZSB0aGVzZSBwcm9ibGVtcy4KCiAgICAgICAgLy8gUGFydGljaXBhbnRzIG9mIGNpdHkgMSBzb2x2ZSBhdCBtb3N0IDIgcHJvYmxlbXMgKHRob3NlIHdpdGggZGlmZjEpLCBzaW5jZSBkaWZmMSA9IG1heEEwCiAgICAgICAgLy8gYV9pID49IGRpZmYxIGZvciBjaXR5IDEgcGFydGljaXBhbnRzIGlzIG1heEExID49IG1heEEwIHdoaWNoIGlzIGZhbHNlLCBzbyBvbmx5IHRob3NlIHdpdGggc19pIG1hdGNoaW5nIHRvcGljcyA0IG9yIDUgYW5kIGJfaSA+PSBkaWZmMSBjYW4gc29sdmUgdGhlc2UgcHJvYmxlbXMuCgogICAgICAgIC8vIFRvcGljcyBmb3IgcHJvYmxlbXMgYXJlIGFsbCBkaXN0aW5jdC4KCiAgICAgICAgLy8gT3V0cHV0IHByb2JsZW1zCiAgICAgICAgY291dCA8PCAoaW50KXByb2JsZW1zLnNpemUoKSA8PCAnXG4nOwogICAgICAgIGZvciAoYXV0byAmIHByIDogcHJvYmxlbXMpIHsKICAgICAgICAgICAgY291dCA8PCBwci5maXJzdCA8PCAnICcgPDwgcHIuc2Vjb25kIDw8ICdcbic7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
