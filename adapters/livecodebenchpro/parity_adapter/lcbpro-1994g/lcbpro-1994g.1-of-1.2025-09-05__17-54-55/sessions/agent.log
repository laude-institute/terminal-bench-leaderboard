[?2004hroot@c5cb35fada6e:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@c5cb35fada6e:/app# clear
[?2004l[H[J[3J[?2004hroot@c5cb35fada6e:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBGYXN0IElPCnN0YXRpYyBhdXRvIF9fID0gW10oKXsgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOyBjaW4udGllKG51bGxwdHIpOyByZXR1cm4gbnVsbHB0cjt9KCk7CgppbnQgbWFpbigpIHsKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgazsgY2luID4+IG4gPj4gazsKICAgICAgICBzdHJpbmcgczsgY2luID4+IHM7CgogICAgICAgIHZlY3RvcjxpbnQ+IGNvdW50T25lcyhrLCAwKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgICAgICBzdHJpbmcgYTsgY2luID4+IGE7CiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgazsgKytqKSB7CiAgICAgICAgICAgICAgICBpZiAoYVtqXSA9PSAnMScpIGNvdW50T25lc1tqXSsrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBDb252ZXJ0IHMgdG8gdmVjdG9yIG9mIGludHMKICAgICAgICB2ZWN0b3I8aW50PiBzQml0cyhrKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGs7ICsraSkgc0JpdHNbaV0gPSBzW2ldIC0gJzAnOwoKICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgeCBzdWNoIHRoYXQgc3VtX2kgKGFfaSBYT1IgeCkgPSBzCiAgICAgICAgLy8gc3VtX2kgKGFfaSBYT1IgeCkgPSBzdW1faSAoYV9pICsgeCAtIDIqKGFfaSAmIHgpKSA9IHN1bShhX2kpICsgbip4IC0gMipzdW0oYV9pICYgeCkKICAgICAgICAvLyBXZSB3YW50IHN1bShhX2kgWE9SIHgpID0gcwogICAgICAgIC8vID0+IHN1bShhX2kpICsgbip4IC0gMipzdW0oYV9pICYgeCkgPSBzCiAgICAgICAgLy8gTGV0IHRvdGFsQSA9IHN1bShhX2kpCiAgICAgICAgLy8gc3VtKGFfaSAmIHgpID0gc3VtIG92ZXIgYml0czogYml0X3ZhbCAqIGNvdW50T25lc1tiaXRdIGlmIHggYml0IGlzIDEKCiAgICAgICAgLy8gQ29udmVydCBzIGFuZCBjb3VudCBzdW0oYV9pKQogICAgICAgIC8vIHN1bShhX2kpIGlzIHN1bSBvZiBhbGwgZWxlbWVudHMsIG5lZWQgdG8gY29tcHV0ZSBmcm9tIGNvdW50T25lcwoKICAgICAgICAvLyBXZSdsbCBoYW5kbGUgYmlnIG51bWJlcnMgYXMgNjQtYml0IGludGVnZXJzIChzaW5jZSBrIGNhbiBiZSB1cCB0byAyZTYsIGJ1dCBzdW0gZml0cyBpbiA2NC1iaXQpCgogICAgICAgIC8vIFByZWNvbXB1dGUgdG90YWxBCiAgICAgICAgdW5zaWduZWQgbG9uZyBsb25nIHRvdGFsQSA9IDA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBrOyArK2kpIHsKICAgICAgICAgICAgdG90YWxBID0gKHRvdGFsQSA8PCAxKSArICh1bnNpZ25lZCBsb25nIGxvbmcpY291bnRPbmVzW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gQ29udmVydCBzIHRvIHVuc2lnbmVkIGxvbmcgbG9uZwogICAgICAgIHVuc2lnbmVkIGxvbmcgbG9uZyBzVmFsID0gMDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGs7ICsraSkgewogICAgICAgICAgICBzVmFsID0gKHNWYWwgPDwgMSkgKyBzQml0c1tpXTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIHdhbnQgdG8gZmluZCB4ICgwIDw9IHggPCAyXmspIHN1Y2ggdGhhdCBzdW1faSAoYV9pIFhPUiB4KSA9IHNWYWwKICAgICAgICAvLyBzdW1faSAoYV9pIFhPUiB4KSA9IHRvdGFsQSArIG4qeCAtIDIqc3VtKGFfaSAmIHgpCiAgICAgICAgLy8gTGV0IHN1bUFhbmRYID0gc3VtKGFfaSAmIHgpCiAgICAgICAgLy8gc3VtQWFuZFggPSBzdW0gb3ZlciBiaXRzIGk6IGJpdF92YWwgKiBjb3VudE9uZXNbaV0gaWYgeF9pID0gMQoKICAgICAgICAvLyBTbyBzdW1faSAoYV9pIFhPUiB4KSA9IHRvdGFsQSArIG4gKiB4IC0gMiAqIHN1bUFhbmRYID0gc1ZhbAogICAgICAgIC8vIFJlYXJyYW5nZTogbiAqIHggLSAyICogc3VtQWFuZFggPSBzVmFsIC0gdG90YWxBCgogICAgICAgIC8vIExldCBkID0gc1ZhbCAtIHRvdGFsQQoKICAgICAgICAvLyBOb3RlOgogICAgICAgIC8vIHggPSBzdW0gb3ZlciBiaXRzIGk6ICh4X2kgKiAyXntrLTEtaX0pCgogICAgICAgIC8vIHN1bUFhbmRYID0gc3VtIG92ZXIgYml0cyBpOiB4X2kgKiAyXntrLTEtaX0gKiBjb3VudE9uZXNbaV0KCiAgICAgICAgLy8gU286CiAgICAgICAgLy8gbiAqIChzdW1faSB4X2kgKiAyXntrLTEtaX0pIC0gMiAqIChzdW1faSB4X2kgKiAyXntrLTEtaX0gKiBjb3VudE9uZXNbaV0pID0gZAogICAgICAgIC8vIHN1bV9pIHhfaSAqIDJee2stMS1pfSAqIChuIC0gMiAqIGNvdW50T25lc1tpXSkgPSBkCgogICAgICAgIC8vIExldCBjb2VmZltpXSA9IChuIC0gMiAqIGNvdW50T25lc1tpXSkKCiAgICAgICAgLy8gc3VtX2kgeF9pICogMl57ay0xLWl9ICogY29lZmZbaV0gPSBkCgogICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCB4X2kgaW4gezAsMX0gdG8gc2F0aXNmeSB0aGlzIGVxdWF0aW9uLgoKICAgICAgICAvLyBXZSB1c2UgYSBiaXR3aXNlIGFwcHJvYWNoIGZyb20gTVNCIHRvIExTQjoKCiAgICAgICAgLy8gQmVjYXVzZSBudW1iZXJzIGFyZSBsYXJnZSwgd2UgdXNlIDEyOC1iaXQgaW50ZWdlciAoX19pbnQxMjgpIG9yIHNpbXVsYXRlIHdpdGggYXJyYXlzCgogICAgICAgIC8vIFdlJ2xsIGltcGxlbWVudCBhIGJpdHNldCBzb2x1dGlvbiB3aXRoIGNhcnJ5IGhhbmRsaW5nLgoKICAgICAgICAvLyBUbyBoYW5kbGUgYmlnIG51bWJlcnMsIHdlJ2xsIGltcGxlbWVudCBhZGRpdGlvbiBhbmQgc3VidHJhY3Rpb24gd2l0aCB2ZWN0b3JzIG9mIDY0LWJpdCB3b3Jkcy4KCiAgICAgICAgLy8gSW1wbGVtZW50YXRpb24gZGV0YWlsOgogICAgICAgIC8vIFdlJ2xsIHJlcHJlc2VudCBkIGFzIGEgc2lnbmVkIDEyOC1iaXQgaW50ZWdlciAoc2luY2UgcyBhbmQgdG90YWxBIGZpdCBpbiA2NC1iaXQsIGRpZmZlcmVuY2UgZml0cyBpbiA2NC1iaXQgc2lnbmVkKQoKICAgICAgICAvLyBXZSdsbCBwcm9jZXNzIGJpdHMgZnJvbSBNU0IgKGk9MCkgdG8gTFNCIChpPWstMSkgYW5kIGRlY2lkZSB4X2kKCiAgICAgICAgLy8gV2UnbGwga2VlcCB0cmFjayBvZiB0aGUgcmVtYWluaW5nIGQgdG8gc2F0aXNmeS4KCgogICAgICAgIC8vIExldCdzIGltcGxlbWVudCB3aXRoIDY0LWJpdCBpbnRlZ2VyIGFzIHJhbmdlIG9mIHNWYWwgYW5kIHRvdGFsQSBmaXRzIGluIDY0LWJpdC4KCiAgICAgICAgLy8gSWYgZCBpcyBuZWdhdGl2ZSwgbm8gc29sdXRpb24uCiAgICAgICAgX19pbnQxMjggZCA9IChfX2ludDEyOClzVmFsIC0gKF9faW50MTI4KXRvdGFsQTsKCiAgICAgICAgaWYgKGQgPCAwKSB7CiAgICAgICAgICAgIGNvdXQgPDwgIi0xXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIHZlY3RvcjxpbnQ+IHgoaywgMCk7CgogICAgICAgIC8vIFdlJ2xsIHByb2Nlc3MgYml0cyBmcm9tIDAgdG8gay0xIChNU0IgdG8gTFNCKQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGs7ICsraSkgewogICAgICAgICAgICBfX2ludDEyOCBiaXRWYWwgPSAoX19pbnQxMjgpMSA8PCAoayAtIDEgLSBpKTsKICAgICAgICAgICAgX19pbnQxMjggY29lZmYgPSBuIC0gMkxMICogKGxvbmcgbG9uZyljb3VudE9uZXNbaV07CgogICAgICAgICAgICAvLyBUcnkgeF9pID0gMAogICAgICAgICAgICAvLyB2YWx1ZSBpZiB4X2k9MCBjb250cmlidXRlcyAwCiAgICAgICAgICAgIC8vIFRyeSB4X2kgPSAxCiAgICAgICAgICAgIF9faW50MTI4IHZhbDEgPSBjb2VmZiAqIGJpdFZhbDsKCiAgICAgICAgICAgIGlmICh2YWwxIDw9IGQpIHsKICAgICAgICAgICAgICAgIC8vIHNldCB4X2kgPSAxCiAgICAgICAgICAgICAgICB4W2ldID0gMTsKICAgICAgICAgICAgICAgIGQgLT0gdmFsMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHhbaV0gPSAwOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZCAhPSAwKSB7CiAgICAgICAgICAgIGNvdXQgPDwgIi0xXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8vIE91dHB1dCB4CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBrOyArK2kpIGNvdXQgPDwgKHhbaV0gPyAnMScgOiAnMCcpOwogICAgICAgIGNvdXQgPDwgIlxuIjsKICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@c5cb35fada6e:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@c5cb35fada6e:/app# 