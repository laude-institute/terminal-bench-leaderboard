[?2004hroot@a2bb845d1d7a:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@a2bb845d1d7a:/app# clear
[?2004l[H[J[3J[?2004hroot@a2bb845d1d7a:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBrOwogICAgICAgIGNpbiA+PiBuID4+IGs7CiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYVtpXTsKICAgICAgICB9CgogICAgICAgIC8vIEdyb3VwIGJ5IHJlbWFpbmRlciBtb2R1bG8gMiprCiAgICAgICAgLy8gRm9yIGVhY2ggcmVtYWluZGVyLCB3ZSBmaW5kIHRoZSBtYXhpbXVtICJvZmZzZXQiIG5lZWRlZAogICAgICAgIC8vIFRoZSBsaWdodCBmb3IgYV9pIGlzIG9uIGluIGludGVydmFscyBbYV9pICsgMiprKm0sIGFfaSArIDIqayptICsgayAtIDFdCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIG1pbmltYWwgdCBzdWNoIHRoYXQgZm9yIGFsbCBpLAogICAgICAgIC8vIHQgaW4gW2FfaSArIDIqayptLCBhX2kgKyAyKmsqbSArIGsgLSAxXSBmb3Igc29tZSBtID49IDAuCiAgICAgICAgLy8gRXF1aXZhbGVudGx5LCAodCAtIGFfaSkgbW9kICgyKmspIDwgawoKICAgICAgICAvLyBGb3IgZWFjaCByZW1haW5kZXIgciA9IGFfaSAlICgyKmspLCB0aGUgbGlnaHQgaXMgb24gZm9yIGsgbWludXRlcyBzdGFydGluZyBhdCByLgogICAgICAgIC8vIFNvIGlmIHdlIGNvbnNpZGVyIHRoZSB0aW1lcyBtb2R1bG8gMiprLCBmb3IgdGhlIGxpZ2h0IHRvIGJlIG9uIGF0IHRpbWUgdCwKICAgICAgICAvLyAodCBtb2QgMiprKSBtdXN0IGJlIGluIFtyLCByICsgayAtIDFdIChtb2QgMiprKS4KICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgdGhlIG1pbmltYWwgdCBzdWNoIHRoYXQgZm9yIGFsbCBpLCAodCAtIGFfaSkgbW9kICgyKmspIDwgawoKICAgICAgICAvLyBXZSBjYW4gZ3JvdXAgYV9pIGJ5IHRoZWlyIHIgPSBhX2kgJSAoMiprKQogICAgICAgIC8vIEZvciBlYWNoIGdyb3VwIHdpdGggcmVtYWluZGVyIHIsIHdlIG5lZWQgdG8gZmluZCB0aGUgbWF4aW11bSBvZmZzZXQgCiAgICAgICAgLy8gdG8gZW5zdXJlIG5vIGNvbGxpc2lvbnMuCgogICAgICAgIGxvbmcgbG9uZyBtb2QgPSAyTEwgKiBrOwogICAgICAgIHVub3JkZXJlZF9tYXA8bG9uZyBsb25nLCBsb25nIGxvbmc+IGZyZXE7CiAgICAgICAgZm9yIChhdXRvIHggOiBhKSB7CiAgICAgICAgICAgIGxvbmcgbG9uZyByID0geCAlIG1vZDsKICAgICAgICAgICAgZnJlcVtyXSsrOwogICAgICAgIH0KCiAgICAgICAgbG9uZyBsb25nIGFucyA9IDA7CiAgICAgICAgZm9yIChhdXRvICZwIDogZnJlcSkgewogICAgICAgICAgICBsb25nIGxvbmcgciA9IHAuZmlyc3Q7CiAgICAgICAgICAgIGxvbmcgbG9uZyBjb3VudCA9IHAuc2Vjb25kOwogICAgICAgICAgICAvLyBpZiBjb3VudCA9PSAxIG5vIG9mZnNldCBuZWVkZWQgYmV5b25kIHIKICAgICAgICAgICAgLy8gZm9yIG11bHRpcGxlIHdpdGggc2FtZSByZW1haW5kZXIsIGVhY2ggbmV4dCBvbmUgbXVzdCB3YWl0IG1vZCBtaW51dGVzCiAgICAgICAgICAgIC8vIG9mZnNldCA9IHIgKyBtb2QgKiAoY291bnQgLSAxKQogICAgICAgICAgICBsb25nIGxvbmcgY2FuZGlkYXRlID0gciArIG1vZCAqIChjb3VudCAtIDEpICsgayAtIDE7CiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgPiBhbnMpIGFucyA9IGNhbmRpZGF0ZTsKICAgICAgICB9CgogICAgICAgIGlmIChhbnMgPT0gMCkgewogICAgICAgICAgICAvLyBhbGwgbGlnaHRzIHR1cm4gb24gYXQgdGltZSAwIChidXQgdGltZXMgc3RhcnQgZnJvbSAxKQogICAgICAgICAgICAvLyBidXQgc2luY2UgYV9pID49IDEsIG1pbmltYWwgdGltZSA+PSAxCiAgICAgICAgICAgIGFucyA9IDA7CiAgICAgICAgICAgIGZvciAoYXV0byB4IDogYSkgewogICAgICAgICAgICAgICAgaWYgKHggPiBhbnMpIGFucyA9IHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIGlmIGFsbCBsaWdodHMgYXJlIG9uIGF0IHRpbWUgYW5zCiAgICAgICAgLy8gY29uZGl0aW9uOiBmb3IgZWFjaCBhX2ksIChhbnMgLSBhX2kpIG1vZCAoMiprKSA8IGsKICAgICAgICBib29sIHBvc3NpYmxlID0gdHJ1ZTsKICAgICAgICBmb3IgKGF1dG8geCA6IGEpIHsKICAgICAgICAgICAgbG9uZyBsb25nIGRpZmYgPSBhbnMgLSB4OwogICAgICAgICAgICBpZiAoZGlmZiA8IDApIHsKICAgICAgICAgICAgICAgIHBvc3NpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb25nIGxvbmcgcmVtID0gZGlmZiAlIG1vZDsKICAgICAgICAgICAgaWYgKHJlbSA+PSBrKSB7CiAgICAgICAgICAgICAgICBwb3NzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChwb3NzaWJsZSkgewogICAgICAgICAgICBjb3V0IDw8IGFucyA8PCAiXG4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@a2bb845d1d7a:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@a2bb845d1d7a:/app# 