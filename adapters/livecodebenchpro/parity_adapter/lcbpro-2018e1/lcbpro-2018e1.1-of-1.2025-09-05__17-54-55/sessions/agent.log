[?2004hroot@6f79d406334f:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@6f79d406334f:/app# clear
[?2004l[H[J[3J[?2004hroot@6f79d406334f:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOwogICAgICAgIGNpbiA+PiBuOwogICAgICAgIHZlY3RvcjxpbnQ+IGwobiksIHIobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIGNpbiA+PiBsW2ldOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gcltpXTsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIHRoZSBtYXhpbXVtIHNpemUgayBzdWNoIHRoYXQgdGhlIHNlZ21lbnRzIGNhbiBiZSBwYXJ0aXRpb25lZCBpbnRvIGdyb3VwcyBvZiBzaXplIGssCiAgICAgICAgLy8gd2hlcmUgdHdvIHNlZ21lbnRzIGludGVyc2VjdCBpZmYgdGhleSBhcmUgaW4gdGhlIHNhbWUgZ3JvdXAuCiAgICAgICAgLy8gVGhpcyBtZWFucyBlYWNoIGdyb3VwIGZvcm1zIGEgY2xpcXVlIG9mIHNpemUgayBpbiB0aGUgaW50ZXJzZWN0aW9uIGdyYXBoLAogICAgICAgIC8vIGFuZCBubyBlZGdlcyBiZXR3ZWVuIGdyb3Vwcy4KCiAgICAgICAgLy8gS2V5IGluc2lnaHQ6IEZvciBhIGNvbXBsZXggc3Vic2V0IG9mIHNpemUgaywgdGhlIHNlZ21lbnRzIGZvcm0gYSBjbGlxdWUgb2Ygc2l6ZSBrLgogICAgICAgIC8vIFRoZSBtYXhpbXVtIHNpemUgb2YgYSBjbGlxdWUgaW4gaW50ZXJ2YWwgaW50ZXJzZWN0aW9uIGdyYXBoIGlzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpbnRlcnZhbHMgb3ZlcmxhcHBpbmcgYXQgYW55IHBvaW50LgoKICAgICAgICAvLyBTbyB0aGUgbWF4aW11bSBzaXplIG9mIGEgY29tcGxleCBzdWJzZXQgaXMgdGhlIG1heGltdW0gY2xpcXVlIHNpemUgaW4gdGhlIGludGVydmFsIGdyYXBoIGZvcm1lZCBieSB0aGUgc2VnbWVudHMuCgogICAgICAgIC8vIExldCdzIGZpbmQgdGhlIG1heGltdW0gbnVtYmVyIG9mIGludGVydmFscyBvdmVybGFwcGluZyBhdCBhbnkgcG9pbnQuCiAgICAgICAgdmVjdG9yPHBhaXI8aW50LGludD4+IGV2ZW50czsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAvLyArMSBhdCBsW2ldLCAtMSBhdCByW2ldKzEgZm9yIGNsb3NlZCBpbnRlcnZhbHMKICAgICAgICAgICAgZXZlbnRzLmVtcGxhY2VfYmFjayhsW2ldLCArMSk7CiAgICAgICAgICAgIGV2ZW50cy5lbXBsYWNlX2JhY2socltpXSArIDEsIC0xKTsKICAgICAgICB9CiAgICAgICAgc29ydChldmVudHMuYmVnaW4oKSwgZXZlbnRzLmVuZCgpKTsKICAgICAgICBpbnQgY3VyID0gMCwgbWF4X292ZXJsYXAgPSAwOwogICAgICAgIGZvciAoYXV0byAmZSA6IGV2ZW50cykgewogICAgICAgICAgICBjdXIgKz0gZS5zZWNvbmQ7CiAgICAgICAgICAgIG1heF9vdmVybGFwID0gbWF4KG1heF9vdmVybGFwLCBjdXIpOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBtYXhfb3ZlcmxhcCA8PCAiXG4iOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@6f79d406334f:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@6f79d406334f:/app# 