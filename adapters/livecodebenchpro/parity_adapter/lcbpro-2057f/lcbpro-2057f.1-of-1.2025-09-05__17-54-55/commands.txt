['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBxOwogICAgICAgIGNpbiA+PiBuID4+IHE7CiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYVtpXTsKICAgICAgICB9CgogICAgICAgIC8vIENvbXB1dGUgdGhlIG1heGltdW0gaGVpZ2h0IGFjaGlldmFibGUgd2l0aCAwIHBpenphcyAoaW5pdGlhbCBtYXgpCiAgICAgICAgbG9uZyBsb25nIGluaXRpYWxfbWF4ID0gKm1heF9lbGVtZW50KGEuYmVnaW4oKSwgYS5lbmQoKSk7CgogICAgICAgIC8vIFByZWNvbXB1dGUgdGhlIG1pbmltdW0gcGl6emFzIG5lZWRlZCB0byByYWlzZSB0aGUgbWF4IGhlaWdodCB0byB4CiAgICAgICAgLy8gV2Ugd2lsbCBiaW5hcnkgc2VhcmNoIG9uIHBvc3NpYmxlIG1heCBoZWlnaHRzCgogICAgICAgIC8vIFRvIGNoZWNrIGlmIGEgZ2l2ZW4gbWF4IGhlaWdodCBNIGlzIGFjaGlldmFibGUgd2l0aCBhdCBtb3N0IGsgcGl6emFzOgogICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbWluaW11bSBwaXp6YXMgbmVlZGVkIHRvIHJhaXNlIHB1cGlscyBzbyB0aGF0IG1heCBoZWlnaHQgPD0gTSBhbmQgbGluZSBjb21mb3J0YWJsZQogICAgICAgIC8vIEZyb20gcmlnaHQgdG8gbGVmdDoKICAgICAgICAvLyBhW2ldIDw9IE0KICAgICAgICAvLyBhbmQgYVtpXSAqIDIgPj0gYVtpKzFdIChsaW5lIGNvbWZvcnRhYmxlKQogICAgICAgIC8vIFNvIGFbaV0gPj0gKGFbaSsxXSsxKS8yIChjZWlsIGRpdmlzaW9uKQoKICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgdGhlIG1pbmltYWwgYVtpXSAoYWZ0ZXIgaW5jcmVtZW50cyksIG5vdCBleGNlZWRpbmcgTSwgc2F0aXNmeWluZyBhYm92ZQoKICAgICAgICAvLyBTbyBzdGFydGluZyBmcm9tIHJpZ2h0OgogICAgICAgIC8vIGFbbi0xXSA8PSBNCiAgICAgICAgLy8gYVtpXSA+PSBjZWlsKGFbaSsxXS8yKQoKICAgICAgICAvLyBXZSdsbCB0cnkgdG8gZmluZCBtaW5pbWFsIGZpbmFsIGFycmF5IGY6CiAgICAgICAgLy8gZltuLTFdID0gbWluKGFbbi0xXSArIGluY3JlbWVudHMsIE0pCiAgICAgICAgLy8gZltpXSA9IG1heChhW2ldLCBjZWlsKGZbaSsxXS8yKSkgYW5kIGZbaV0gPD0gTQoKICAgICAgICAvLyBUb3RhbCBpbmNyZW1lbnRzID0gc3VtKGZbaV0gLSBhW2ldKQoKICAgICAgICAvLyBGdW5jdGlvbiB0byBjb21wdXRlIGluY3JlbWVudHMgbmVlZGVkIGZvciBnaXZlbiBNOgogICAgICAgIGF1dG8gaW5jcmVtZW50c19uZWVkZWQgPSBbJl0obG9uZyBsb25nIE0pIC0+IGxvbmcgbG9uZyB7CiAgICAgICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGYobik7CiAgICAgICAgICAgIGZbbi0xXSA9IG1pbihhW24tMV0sIE0pOwogICAgICAgICAgICBmb3IgKGludCBpID0gbiAtIDI7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICAvLyBmW2ldIG11c3QgYmUgYXQgbGVhc3QgY2VpbChmW2krMV0vMikgYW5kIGF0IGxlYXN0IGFbaV0sIGJ1dCBhdCBtb3N0IE0KICAgICAgICAgICAgICAgIGxvbmcgbG9uZyBsb3cgPSAoZltpKzFdICsgMSkgLyAyOwogICAgICAgICAgICAgICAgZltpXSA9IG1heChhW2ldLCBsb3cpOwogICAgICAgICAgICAgICAgaWYgKGZbaV0gPiBNKSByZXR1cm4gKGxvbmcgbG9uZykxZTE1OyAvLyB0b28gYmlnLCBub3QgcG9zc2libGUKICAgICAgICAgICAgfQogICAgICAgICAgICBsb25nIGxvbmcgdG90YWwgPSAwOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAgICAgdG90YWwgKz0gZltpXSAtIGFbaV07CiAgICAgICAgICAgICAgICBpZiAodG90YWwgPiAobG9uZyBsb25nKTFlMTUpIHJldHVybiAobG9uZyBsb25nKTFlMTU7IC8vIHByZXZlbnQgb3ZlcmZsb3cKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgICAgfTsKCiAgICAgICAgLy8gUmVhZCBxdWVyaWVzIGtfaQogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGsocSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGtbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBGb3IgZWFjaCBrX2ksIGJpbmFyeSBzZWFyY2ggbWF4IGhlaWdodCBhY2hpZXZhYmxlCiAgICAgICAgLy8gbWF4IGhlaWdodCA+PSBpbml0aWFsX21heAogICAgICAgIC8vIG1heCBoZWlnaHQgPD0gaW5pdGlhbF9tYXggKyBzdW0oa19pKSAod29yc3QgY2FzZSkKCiAgICAgICAgLy8gV2UgY2FuIHByZWNvbXB1dGUgbWF4IGsgZm9yIGJpbmFyeSBzZWFyY2ggdXBwZXIgYm91bmQKICAgICAgICBsb25nIGxvbmcgbWF4X2sgPSAqbWF4X2VsZW1lbnQoay5iZWdpbigpLCBrLmVuZCgpKTsKICAgICAgICBsb25nIGxvbmcgbGVmdCA9IGluaXRpYWxfbWF4LCByaWdodCA9IGluaXRpYWxfbWF4ICsgbWF4X2sgKyAxOwoKICAgICAgICAvLyBQcmVwcm9jZXNzaW5nIGZvciBmYXN0IHF1ZXJpZXM6CiAgICAgICAgLy8gU2luY2UgcSBjYW4gYmUgbGFyZ2UsIHdlIGRvIGJpbmFyeSBzZWFyY2ggZm9yIGVhY2ggaW5kZXBlbmRlbnRseSBvciBkbyBhIGJhdGNoIGFwcHJvYWNoCiAgICAgICAgLy8gV2Ugd2lsbCBkbyBiaW5hcnkgc2VhcmNoIGZvciBlYWNoIHF1ZXJ5LgoKICAgICAgICAvLyBUbyBvcHRpbWl6ZSwgd2UgY2FuIHByZWNvbXB1dGUgYW5zd2VycyBmb3IgYWxsIGsgaW4gc29ydGVkIG9yZGVyIGFuZCBhbnN3ZXIgYWNjb3JkaW5nbHkuCiAgICAgICAgLy8gQnV0IGNvbnN0cmFpbnRzIGFsbG93IHBlciBxdWVyeSBiaW5hcnkgc2VhcmNoLgoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHE7IGkrKykgewogICAgICAgICAgICBsb25nIGxvbmcgTCA9IGluaXRpYWxfbWF4LCBSID0gaW5pdGlhbF9tYXggKyBrW2ldICsgMTsKICAgICAgICAgICAgd2hpbGUgKEwgPCBSKSB7CiAgICAgICAgICAgICAgICBsb25nIGxvbmcgbWlkID0gTCArIChSIC0gTCkgLyAyOwogICAgICAgICAgICAgICAgbG9uZyBsb25nIG5lZWRlZCA9IGluY3JlbWVudHNfbmVlZGVkKG1pZCk7CiAgICAgICAgICAgICAgICBpZiAobmVlZGVkIDw9IGtbaV0pIHsKICAgICAgICAgICAgICAgICAgICBMID0gbWlkICsgMTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgUiA9IG1pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjb3V0IDw8IChMIC0gMSkgPDwgKGkgPT0gcSAtIDEgPyAnXG4nIDogJyAnKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
