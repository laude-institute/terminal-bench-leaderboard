['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8Y21hdGg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOwogICAgICAgIGNpbiA+PiBuOwogICAgICAgIHZlY3RvcjxwYWlyPGludCxpbnQ+PiByZXN1bHRzOwogICAgICAgIC8vIEsxbzBuJ3Mgc29sdXRpb24gcHJpbnRzIHMgPSBzdHJpbmcobikgcmVwZWF0ZWQgYSB0aW1lcywgdGhlbiByZW1vdmVzIGIgY2hhcnMgZnJvbSBlbmQKICAgICAgICAvLyBXZSB3YW50IHBhaXJzIChhLGIpIHN1Y2ggdGhhdCB0aGUgcmVzdWx0aW5nIHN0cmluZyBjb252ZXJ0ZWQgdG8gaW50IGVxdWFscyBuKmEgLSBiLCBhbmQgaXMgbm9uLWVtcHR5LgogICAgICAgIC8vIGxlbmd0aCBvZiBzID0gYSAqIGxlbl9uIChsZW5fbiA9IG51bWJlciBvZiBkaWdpdHMgaW4gbikKICAgICAgICAvLyBBZnRlciByZW1vdmluZyBiIGNoYXJzLCBsZW5ndGggPSBhKmxlbl9uIC0gYiA+IDAgPT4gYiA8IGEqbGVuX24KICAgICAgICAKICAgICAgICBzdHJpbmcgc24gPSB0b19zdHJpbmcobik7CiAgICAgICAgaW50IGxlbl9uID0gKGludClzbi5zaXplKCk7CgogICAgICAgIC8vIFdlIHdpbGwgdHJ5IGFsbCBhIGZyb20gMSB0byAxMDAwMAogICAgICAgIC8vIEZvciBlYWNoIGEsIGIgZnJvbSAxIHRvIG1pbigxMDAwMCwgYSpuKQogICAgICAgIC8vIEJ1dCB0aGlzIGlzIHRvbyBsYXJnZSAoMTAwMDAqMTAwMDAgPSAxMF44KSAtIHRvbyBzbG93CiAgICAgICAgLy8gSW5zdGVhZCwgd2UgYW5hbHl6ZSB0aGUgcHJvYmxlbSBhbmQgZmluZCB0aGF0OgogICAgICAgIC8vIFRoZSBzdHJpbmcgYWZ0ZXIgcmVtb3ZhbCBpcyBzWzAgOiBhKmxlbl9uIC0gYl0uIEZvciB0aGF0IGludGVnZXIgdG8gYmUgZXF1YWwgdG8gbiphIC0gYiwKICAgICAgICAvLyB3aGVuIGNvbnZlcnRlZCB0byBpbnQsIHRoZSBzdHJpbmcgbXVzdCByZXByZXNlbnQgdGhhdCBpbnRlZ2VyIGV4YWN0bHkgKG5vIGxlYWRpbmcgemVyb3MgdW5sZXNzIG51bWJlciBpcyAwKS4KCiAgICAgICAgLy8gTGV0J3MgdHJ5IGFsbCBhIGZyb20gMSB0byAxMDAwMCwgYnV0IHdpdGggZWFybHkgc3RvcHBpbmcgaWYgdG9vIHNsb3cKICAgICAgICAvLyBXZSdsbCBpbXBsZW1lbnQgYSBzaG9ydGN1dDogd2Ugd2lsbCBpdGVyYXRlIGEgYW5kIGZvciBlYWNoIGEgZmluZCBhbGwgYiB0aGF0IHNhdGlzZnkgdGhlIGNvbmRpdGlvbgoKICAgICAgICAvLyBUbyBzcGVlZCB1cCwgd2UgbGltaXQgYSB0byAxMDAwMCBhcyBwcm9ibGVtIHN0YXRlcyBjb25zdHJhaW50cwogICAgICAgIC8vIFdlJ2xsIHN0b3JlIHJlc3VsdHMgaW4gdmVjdG9yIGFuZCBvdXRwdXQgdGhlbSBhZnRlcgoKICAgICAgICBmb3IgKGludCBhID0gMTsgYSA8PSAxMDAwMDsgKythKSB7CiAgICAgICAgICAgIGxvbmcgbG9uZyBtYXhfYiA9IChsb25nIGxvbmcpbWluKDEwMDAwLCBhICogKGxvbmcgbG9uZyluKTsKICAgICAgICAgICAgLy8gbGVuZ3RoIG9mIHMKICAgICAgICAgICAgaW50IGxlbl9zID0gYSAqIGxlbl9uOwogICAgICAgICAgICAvLyBXZSBuZWVkIGIgPCBsZW5fcyB0byBnZXQgbm9uLWVtcHR5CiAgICAgICAgICAgIGxvbmcgbG9uZyBsaW1pdF9iID0gbWluKG1heF9iLCAobG9uZyBsb25nKWxlbl9zIC0gMSk7CiAgICAgICAgICAgIGZvciAobG9uZyBsb25nIGIgPSAxOyBiIDw9IGxpbWl0X2I7ICsrYikgewogICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IHN0cmluZyBzCiAgICAgICAgICAgICAgICAvLyBzID0gc24gcmVwZWF0ZWQgYSB0aW1lcwogICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBjb25zdHJ1Y3RpbmcgZnVsbCBzdHJpbmcsIHdlIGNhbiBnZXQgc3Vic3RyaW5nIHNbMDogbGVuX3MgLSBiXQogICAgICAgICAgICAgICAgaW50IG5ld19sZW4gPSBsZW5fcyAtIChpbnQpYjsKICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHByZWZpeCBvZiBzIG9mIGxlbmd0aCBuZXdfbGVuCiAgICAgICAgICAgICAgICAvLyBUaGUgcHJlZml4IGNvbnNpc3RzIG9mIGZsb29yKG5ld19sZW4gLyBsZW5fbikgZnVsbCBjb3BpZXMgb2Ygc24gcGx1cyBwYXJ0aWFsIGNvcHkKICAgICAgICAgICAgICAgIGludCBmdWxsX2NvcGllcyA9IG5ld19sZW4gLyBsZW5fbjsKICAgICAgICAgICAgICAgIGludCByZW0gPSBuZXdfbGVuICUgbGVuX247CiAgICAgICAgICAgICAgICBzdHJpbmcgcHJlZml4ID0gIiI7CiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGZ1bGxfY29waWVzOyArK2kpCiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICs9IHNuOwogICAgICAgICAgICAgICAgcHJlZml4ICs9IHNuLnN1YnN0cigwLCByZW0pOwogICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcHJlZml4IGlzIG5vdCBlbXB0eSBhbmQgbm8gbGVhZGluZyB6ZXJvcwogICAgICAgICAgICAgICAgaWYgKHByZWZpeC5lbXB0eSgpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGlmIChwcmVmaXhbMF0gPT0gJzAnKSBjb250aW51ZTsgLy8gbGVhZGluZyB6ZXJvIG1ha2VzIGludCBwYXJzaW5nIGRpZmZlcmVudAogICAgICAgICAgICAgICAgLy8gQ29udmVydCBwcmVmaXggdG8gaW50ZWdlcgogICAgICAgICAgICAgICAgLy8gcHJlZml4IGxlbmd0aCA8PSAxMDAwMDAgKG1heCAxMDAwMCphICogMiBkaWdpdHMgYXQgd29yc3QpCiAgICAgICAgICAgICAgICAvLyBCdXQgYSBtYXggMTAwMDAsIG4gbWF4IDEwMCAoMiBkaWdpdHMpLCBzbyBwcmVmaXggbGVuZ3RoIG1heCAyMDAwMDAgYXBwcm94CiAgICAgICAgICAgICAgICAvLyBXZSB1c2UgNjQtYml0IGludGVnZXIgdG8gc3RvcmUgcHJlZml4IChtYXkgb3ZlcmZsb3cpCiAgICAgICAgICAgICAgICAvLyBTbyBwYXJzZSBwcmVmaXggYXMgbnVtYmVyIG1hbnVhbGx5IChidXQgcHJlZml4IGNhbiBiZSBsYXJnZSksIHNvIHVzZSBzdHJpbmcgY29tcGFyZQoKICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgY29ycmVjdCBhbnN3ZXI6IG4qYSAtIGIKICAgICAgICAgICAgICAgIGxvbmcgbG9uZyBjb3JyZWN0X3ZhbCA9IChsb25nIGxvbmcpbiAqIChsb25nIGxvbmcpYSAtIChsb25nIGxvbmcpYjsKICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgcHJlZml4IHRvIGludGVnZXIgKGlmIHRvbyBsYXJnZSwgd2lsbCBvdmVyZmxvdyBsb25nIGxvbmcpCiAgICAgICAgICAgICAgICAvLyBCdXQgbWF4aW11bSBsZW5ndGggb2YgcHJlZml4IGlzIGEqbGVuX24gd2hpY2ggY2FuIGJlIHVwIHRvIDEwMDAwKjM9MzAwMDAgY2hhcnMKICAgICAgICAgICAgICAgIC8vIFRvIGF2b2lkIG92ZXJmbG93LCBjb21wYXJlIGFzIHN0cmluZ3MKCiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGNvcnJlY3RfdmFsIHRvIHN0cmluZwogICAgICAgICAgICAgICAgc3RyaW5nIGNvcnJlY3Rfc3RyID0gdG9fc3RyaW5nKGNvcnJlY3RfdmFsKTsKICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJlZml4IGFuZCBjb3JyZWN0X3N0cgogICAgICAgICAgICAgICAgaWYgKHByZWZpeCA9PSBjb3JyZWN0X3N0cikgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZW1wbGFjZV9iYWNrKGEsIChpbnQpYik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgKGludClyZXN1bHRzLnNpemUoKSA8PCAiXG4iOwogICAgICAgIGZvciAoYXV0byAmcCA6IHJlc3VsdHMpIHsKICAgICAgICAgICAgY291dCA8PCBwLmZpcnN0IDw8ICIgIiA8PCBwLnNlY29uZCA8PCAiXG4iOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
