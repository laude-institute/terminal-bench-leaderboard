['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gOTk4MjQ0MzUzOwoKaW5saW5lIGludCBtb2RfYWRkKGludCBhLCBpbnQgYikgewogICAgYSArPSBiOwogICAgaWYgKGEgPj0gTU9EKSBhIC09IE1PRDsKICAgIHJldHVybiBhOwp9CgppbmxpbmUgaW50IG1vZF9zdWIoaW50IGEsIGludCBiKSB7CiAgICBhIC09IGI7CiAgICBpZiAoYSA8IDApIGEgKz0gTU9EOwogICAgcmV0dXJuIGE7Cn0KCmlubGluZSBpbnQgbW9kX211bChpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiAoaW50KSgobG9uZyBsb25nKWEgKiBiICUgTU9EKTsKfQoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCBUOyBjaW4gPj4gVDsKICAgIHdoaWxlIChULS0pIHsKICAgICAgICBzdHJpbmcgczsKICAgICAgICBjaW4gPj4gczsKICAgICAgICBpbnQgbiA9IChpbnQpcy5zaXplKCk7CgogICAgICAgIGludCBxOyBjaW4gPj4gcTsKICAgICAgICB2ZWN0b3I8aW50PiBxdWVyaWVzKHEpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcTsgaSsrKSBjaW4gPj4gcXVlcmllc1tpXTsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBtYWludGFpbiB0aGUgbnVtYmVyIG9mIGJsb2NrcyBhbmQgbnVtYmVyIG9mIHRyYW5zaXRpb25zIGluIHMKICAgICAgICAvLyBhbmQgY29tcHV0ZSBzdW0gb3ZlciBhbGwgc3Vic2VxdWVuY2VzIGYoYikuCgogICAgICAgIC8vIE9ic2VydmF0aW9uIGZyb20gZWRpdG9yaWFsIChhbmQgcHJvYmxlbSBlZGl0b3JpYWwpOgogICAgICAgIC8vIExldCB0cmFuc2l0aW9ucyA9IG51bWJlciBvZiBwb3NpdGlvbnMgaSB3aGVyZSBzW2ldICE9IHNbaSsxXSwKICAgICAgICAvLyBibG9ja3MgPSB0cmFuc2l0aW9ucyArIDEKICAgICAgICAvLyBsZW5ndGggbgogICAgICAgIC8vIFRoZSBzdW0gb3ZlciBhbGwgbm9uLWVtcHR5IHN1YnNlcXVlbmNlcyBiIG9mIHMgb2YgZihiKSBpczoKICAgICAgICAvLyBzdW1fe2J9IGYoYikgPSAoYmxvY2tzICogMl57bi0xfSArIHRyYW5zaXRpb25zICogMl57bi0yfSkgbW9kIDk5ODI0NDM1MwogICAgICAgIC8vIChUaGlzIGZvcm11bGEgaXMgZGVyaXZlZCBmcm9tIHByb2JsZW0gZWRpdG9yaWFsIGFuZCB0aGUgZXhhbXBsZS4pCgogICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gbWFpbnRhaW4gdHJhbnNpdGlvbnMgYW5kIGJsb2NrcyBlZmZpY2llbnRseSB1bmRlciBmbGlwcy4KCiAgICAgICAgLy8gYmxvY2tzID0gdHJhbnNpdGlvbnMgKyAxCgogICAgICAgIGF1dG8gZ2V0X2JpdCA9IFsmXShpbnQgaSkgLT4gY2hhciB7CiAgICAgICAgICAgIHJldHVybiBzW2ldOwogICAgICAgIH07CgogICAgICAgIGludCB0cmFuc2l0aW9ucyA9IDA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgKyAxIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzW2ldICE9IHNbaSsxXSkgdHJhbnNpdGlvbnMrKzsKICAgICAgICB9CgogICAgICAgIC8vIFByZWNvbXB1dGUgcG93ZXJzIG9mIDIgbW9kdWxvIE1PRAogICAgICAgIHN0YXRpYyB2ZWN0b3I8aW50PiBwb3cyKDEsMSk7CiAgICAgICAgaWYgKChpbnQpcG93Mi5zaXplKCkgPD0gbikgewogICAgICAgICAgICBwb3cyLnJlc2l6ZShuKzEpOwogICAgICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgICAgIHBvdzJbaV0gPSBtb2RfbXVsKHBvdzJbaS0xXSwgMik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAoaW50IGlkeCA9IDA7IGlkeCA8IHE7IGlkeCsrKSB7CiAgICAgICAgICAgIGludCBwb3MgPSBxdWVyaWVzW2lkeF0gLSAxOwogICAgICAgICAgICAvLyBGbGlwIHNbcG9zXQogICAgICAgICAgICBjaGFyIG9sZF9jID0gc1twb3NdOwogICAgICAgICAgICBjaGFyIG5ld19jID0gKG9sZF9jID09ICcwJykgPyAnMScgOiAnMCc7CgogICAgICAgICAgICAvLyBVcGRhdGUgdHJhbnNpdGlvbnMgaW52b2x2aW5nIHBvcy0xIGFuZCBwb3MKICAgICAgICAgICAgaWYgKHBvcyA+IDApIHsKICAgICAgICAgICAgICAgIGlmIChzW3Bvc10gIT0gc1twb3MtMV0pIHRyYW5zaXRpb25zLS07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHBvcyArIDEgPCBuKSB7CiAgICAgICAgICAgICAgICBpZiAoc1twb3NdICE9IHNbcG9zKzFdKSB0cmFuc2l0aW9ucy0tOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzW3Bvc10gPSBuZXdfYzsKCiAgICAgICAgICAgIGlmIChwb3MgPiAwKSB7CiAgICAgICAgICAgICAgICBpZiAoc1twb3NdICE9IHNbcG9zLTFdKSB0cmFuc2l0aW9ucysrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwb3MgKyAxIDwgbikgewogICAgICAgICAgICAgICAgaWYgKHNbcG9zXSAhPSBzW3BvcysxXSkgdHJhbnNpdGlvbnMrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW50IGJsb2NrcyA9IHRyYW5zaXRpb25zICsgMTsKCiAgICAgICAgICAgIC8vIHN1bSA9IGJsb2NrcyAqIDJee24tMX0gKyB0cmFuc2l0aW9ucyAqIDJee24tMn0KICAgICAgICAgICAgLy8gTm90ZTogMl57bi0yfSA9IDJee24tMX0gLyAyIG1vZAogICAgICAgICAgICAvLyBIYW5kbGUgbj0xIGNhc2U6CiAgICAgICAgICAgIGludCBwb3dfbl8xID0gcG93MltuLTFdOwogICAgICAgICAgICBpbnQgcG93X25fMiA9IChuID49IDIpID8gcG93MltuLTJdIDogMDsKCiAgICAgICAgICAgIGludCBhbnMgPSBtb2RfYWRkKG1vZF9tdWwoYmxvY2tzLCBwb3dfbl8xKSwgbW9kX211bCh0cmFuc2l0aW9ucywgcG93X25fMikpOwoKICAgICAgICAgICAgY291dCA8PCBhbnMgPDwgKGlkeCA9PSBxLTEgPyAnXG4nIDogJyAnKTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
