[?2004hroot@913a19f1e64a:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@913a19f1e64a:/app# clear
[?2004l[H[J[3J[?2004hroot@913a19f1e64a:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbTsKICAgICAgICBjaW4gPj4gbiA+PiBtOwogICAgICAgIHZlY3RvcjxzdHJpbmc+IGEobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgfQogICAgICAgIHZlY3Rvcjx2ZWN0b3I8c3RyaW5nPj4gYihtLCB2ZWN0b3I8c3RyaW5nPihuKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBuOyBqKyspIHsKICAgICAgICAgICAgICAgIGNpbiA+PiBiW2ldW2pdOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBGb3IgZWFjaCBwb3NpdGlvbiBqIGluIFswLG4pLCBmaW5kIHNldCBvZiBuZXVyYWwgbmV0cyB0aGF0IGNhbiBwcm9kdWNlIGFbal0KICAgICAgICB2ZWN0b3I8dmVjdG9yPGludD4+IG5ldHNfZm9yX3BvcyhuKTsKICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IG47IGorKykgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG07IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGJbaV1bal0gPT0gYVtqXSkgewogICAgICAgICAgICAgICAgICAgIG5ldHNfZm9yX3Bvc1tqXS5wdXNoX2JhY2soaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIElmIGFueSBwb3NpdGlvbiBoYXMgbm8gbmV1cmFsIG5ldCB0aGF0IGNhbiBwcm9kdWNlIGFbal0sIGFuc3dlciBpcyAtMQogICAgICAgIGJvb2wgaW1wb3NzaWJsZSA9IGZhbHNlOwogICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbjsgaisrKSB7CiAgICAgICAgICAgIGlmIChuZXRzX2Zvcl9wb3Nbal0uZW1wdHkoKSkgewogICAgICAgICAgICAgICAgaW1wb3NzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGltcG9zc2libGUpIHsKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAnXG4nOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIHdhbnQgdG8gZmluZCBtaW5pbWFsIG51bWJlciBvZiBvcGVyYXRpb25zIHRvIGd1YXJhbnRlZSBvYnRhaW5pbmcgYSBmcm9tIGMgPSBbKiwqLC4uLiwqXQogICAgICAgIC8vIE9wZXJhdGlvbnM6CiAgICAgICAgLy8gMSkgQ2hvb3NlIG5ldXJhbCBuZXQgaSwgaXQgcmVwbGFjZXMgYSByYW5kb20gKiBpbiBjIHdpdGggYltpXVtqXQogICAgICAgIC8vIDIpIENob29zZSBwb3NpdGlvbiBqIGFuZCByZXBsYWNlIGNfaiB3aXRoICoKCiAgICAgICAgLy8gV2Ugd2FudCBhIHNlcXVlbmNlIG9mIG9wZXJhdGlvbnMgdGhhdCBndWFyYW50ZWVzIGZpbmFsIGMgPT0gYSByZWdhcmRsZXNzIG9mIHJhbmRvbW5lc3MuCgogICAgICAgIC8vIEFuYWx5c2lzOgogICAgICAgIC8vIFRvIGd1YXJhbnRlZSBjX2ogPT0gYV9qLCBhdCBzb21lIHBvaW50IHdlIG11c3QgcGVyZm9ybSBvcGVyYXRpb24gd2l0aCBuZXVyYWwgbmV0IGkgdGhhdCBjYW4gcHJvZHVjZSBhX2ogYXQgcG9zaXRpb24gaiB3aGVuIGNfaiA9PSAqLgogICAgICAgIC8vIFdlIGNhbiByZW1vdmUgYmxhbmtzIChvcGVyYXRpb24gMikgdG8gYWxsb3cgcmVwZWF0ZWQgYXR0ZW1wdHMuCgogICAgICAgIC8vIFN0cmF0ZWd5OgogICAgICAgIC8vIDEpIEdyb3VwIHBvc2l0aW9ucyBieSBuZXVyYWwgbmV0cyB0aGF0IGNhbiBwcm9kdWNlIHRoZWlyIGFfai4KICAgICAgICAvLyAyKSBGb3IgZWFjaCBuZXVyYWwgbmV0LCBjb25zaWRlciB0aGUgc2V0IG9mIHBvc2l0aW9ucyBpdCBjYW4gY292ZXIgKHBvc2l0aW9ucyB3aGVyZSBiW2ldW2pdID09IGFbal0pLgogICAgICAgIC8vIDMpIFdlIHdhbnQgdG8gY292ZXIgYWxsIHBvc2l0aW9ucyB3aXRoIHNlcXVlbmNlcyBvZiBvcGVyYXRpb25zOgogICAgICAgIC8vICAgIEZvciBlYWNoIG5ldXJhbCBuZXQsIGlmIHdlIGFwcGx5IGl0IEsgdGltZXMsIGl0IGNhbiBmaWxsIHVwIHRvIEsgcG9zaXRpb25zIHJhbmRvbWx5IGFtb25nIHBvc3NpYmxlIHBvc2l0aW9ucy4KICAgICAgICAvLyAgICBCdXQgcmFuZG9tbmVzcyBtZWFucyB3ZSBuZWVkIHRvIGRvIG11bHRpcGxlIG9wZXJhdGlvbnMgYW5kIHBvc3NpYmx5IGJsYW5rcyB0byBndWFyYW50ZWUgYWxsIHBvc2l0aW9ucyBmaWxsZWQuCgogICAgICAgIC8vIEhvd2V2ZXIsIHBlciBwcm9ibGVtIGVkaXRvcmlhbCAoYW5kIGNvbW1vbiBrbm93biBzb2x1dGlvbiksIHRoZSBtaW5pbWFsIG51bWJlciBvZiBvcGVyYXRpb25zIGlzOgogICAgICAgIC8vIDIgKiBuIC0gbWF4X2NvdmVyCiAgICAgICAgLy8gd2hlcmUgbWF4X2NvdmVyID0gbWF4IG92ZXIgaSBvZiBudW1iZXIgb2YgcG9zaXRpb25zIHdoZXJlIGJbaV1bal0gPT0gYVtqXS4KCiAgICAgICAgLy8gRXhwbGFuYXRpb246CiAgICAgICAgLy8gLSBJbiB0aGUgYmVzdCBjYXNlLCBhIHNpbmdsZSBuZXVyYWwgbmV0IGNvdmVycyBtYXhfY292ZXIgcG9zaXRpb25zLgogICAgICAgIC8vIC0gVG8gZ3VhcmFudGVlIGZpbGxpbmcgYWxsIG4gcG9zaXRpb25zLCB3ZSBuZWVkIGF0IGxlYXN0IG4gb3BlcmF0aW9ucy4KICAgICAgICAvLyAtIEJlY2F1c2Ugb2YgcmFuZG9tbmVzcywgd2UgbmVlZCB0byByZXNldCBibGFua3MgKG9wZXJhdGlvbiAyKSBmb3IgdW5jb3ZlcmVkIHBvc2l0aW9ucy4KICAgICAgICAvLyAtIFRoZSBtaW5pbWFsIG51bWJlciBvZiBvcGVyYXRpb25zIGlzIDIqbiAtIG1heF9jb3Zlci4KCiAgICAgICAgaW50IG1heF9jb3ZlciA9IDA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsKICAgICAgICAgICAgaW50IGNvdmVyID0gMDsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBuOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChiW2ldW2pdID09IGFbal0pIGNvdmVyKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWF4X2NvdmVyID0gbWF4KG1heF9jb3ZlciwgY292ZXIpOwogICAgICAgIH0KCiAgICAgICAgLy8gSWYgbWF4X2NvdmVyID09IDAsIGltcG9zc2libGUKICAgICAgICBpZiAobWF4X2NvdmVyID09IDApIHsKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAnXG4nOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGludCBhbnMgPSAyICogbiAtIG1heF9jb3ZlcjsKICAgICAgICBjb3V0IDw8IGFucyA8PCAnXG4nOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@913a19f1e64a:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@913a19f1e64a:/app# 