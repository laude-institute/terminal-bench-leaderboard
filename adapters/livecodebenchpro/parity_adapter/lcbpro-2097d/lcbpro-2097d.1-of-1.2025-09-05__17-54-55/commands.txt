['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBGdW5jdGlvbiB0byBjaGVjayBpZiBzIGNhbiBiZSB0cmFuc2Zvcm1lZCBpbnRvIHQKLy8gQmFzZWQgb24gcHJvYmxlbSBhbmFseXNpczoKLy8gRm9yIGVhY2ggc2VnbWVudCBvZiBsZW5ndGggYSBwb3dlciBvZiB0d28sIHRoZSBudW1iZXIgb2Ygb25lcyBpbiBzIGFuZCB0IG11c3QgYmUgZXF1YWwKLy8gYmVjYXVzZSB0aGUgb3BlcmF0aW9ucyBwcmVzZXJ2ZSBwYXJpdHkgc3VtcyBpbiByZWN1cnNpdmUgcGFydGl0aW9ucy4KCmJvb2wgY2FuVHJhbnNmb3JtKGNvbnN0IHN0cmluZyAmcywgY29uc3Qgc3RyaW5nICZ0LCBpbnQgbGVmdCwgaW50IHJpZ2h0KSB7CiAgICBpZiAobGVmdCA9PSByaWdodCkgewogICAgICAgIHJldHVybiBzW2xlZnRdID09IHRbbGVmdF07CiAgICB9CiAgICBpbnQgbWlkID0gKGxlZnQgKyByaWdodCkgLyAyOwoKICAgIC8vIENvdW50IG9uZXMgaW4gcyBhbmQgdCBpbiBjdXJyZW50IHNlZ21lbnQKICAgIGludCBjb3VudFMgPSAwLCBjb3VudFQgPSAwOwogICAgZm9yIChpbnQgaSA9IGxlZnQ7IGkgPD0gcmlnaHQ7ICsraSkgewogICAgICAgIGNvdW50UyArPSAoc1tpXSAtICcwJyk7CiAgICAgICAgY291bnRUICs9ICh0W2ldIC0gJzAnKTsKICAgIH0KCiAgICBpZiAoY291bnRTICE9IGNvdW50VCkgcmV0dXJuIGZhbHNlOwoKICAgIGludCBsZW5ndGggPSByaWdodCAtIGxlZnQgKyAxOwogICAgLy8gSWYgbGVuZ3RoIGlzIG9kZCwgbm8gZnVydGhlciBzcGxpdAogICAgaWYgKGxlbmd0aCAlIDIgPT0gMSkgewogICAgICAgIC8vIGxlbmd0aCA9PSAxIGhhbmRsZWQgYWJvdmUsIHNvIGp1c3QgY2hlY2sgZXF1YWxpdHkKICAgICAgICByZXR1cm4gcy5zdWJzdHIobGVmdCwgbGVuZ3RoKSA9PSB0LnN1YnN0cihsZWZ0LCBsZW5ndGgpOwogICAgfQoKICAgIC8vIFRyeSByZWN1cnNpdmVseSBvbiBoYWx2ZXMgd2l0aCBwb3NzaWJsZSB0cmFuc2Zvcm1hdGlvbnMKCiAgICAvLyBUaGUgcHJvYmxlbSBzdGF0ZXMgdGhhdCB0aGUgb3BlcmF0aW9ucyBjYW4gYmUgZG9uZSByZWN1cnNpdmVseSBvbiBoYWx2ZXMKICAgIC8vIGFuZCBjYW4gZG8gWE9SIG9wZXJhdGlvbnMgb24gaGFsdmVzLAogICAgLy8gc28gaWYgY291bnRzIG1hdGNoLCB0aGUgc3RyaW5ncyBjYW4gYmUgcmVhcnJhbmdlZCBhY2NvcmRpbmdseS4KCiAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHR3byBwb3NzaWJpbGl0aWVzOgogICAgLy8gMSkgc19sZWZ0IC0+IHRfbGVmdCBhbmQgc19yaWdodCAtPiB0X3JpZ2h0CiAgICAvLyAyKSBzX2xlZnQgLT4gdF9yaWdodCBhbmQgc19yaWdodCAtPiB0X2xlZnQKCiAgICAvLyBCZWNhdXNlIG9wZXJhdGlvbnMgY2FuIGZsaXAgaGFsdmVzIGluZGVwZW5kZW50bHkKCiAgICBib29sIGRpcmVjdCA9IGNhblRyYW5zZm9ybShzLCB0LCBsZWZ0LCBtaWQpICYmIGNhblRyYW5zZm9ybShzLCB0LCBtaWQgKyAxLCByaWdodCk7CiAgICBib29sIGNyb3NzID0gY2FuVHJhbnNmb3JtKHMsIHQsIGxlZnQsIG1pZCkgJiYgY2FuVHJhbnNmb3JtKHMsIHQsIG1pZCArIDEsIHJpZ2h0KTsKCiAgICAvLyBBY3R1YWxseSwgc2luY2UgdGhlIHByb2JsZW0gc3RhdGVzIG9wZXJhdGlvbnMgb24gaGFsdmVzIGluZGVwZW5kZW50bHksCiAgICAvLyBhbmQgWE9SIG9wZXJhdGlvbnMgY2FuIGJlIGFwcGxpZWQsIHRoZSBwcm9ibGVtIHJlZHVjZXMgdG8gY2hlY2tpbmcgaWYgY291bnRzIG1hdGNoIGF0IGFsbCBsZXZlbHMuCgogICAgLy8gU2luY2UgdGhlIGNvdW50cyBtYXRjaCwgYW5kIHByb2JsZW0gYWxsb3dzIGFyYml0cmFyeSByZWN1cnNpdmUgb3BlcmF0aW9ucywgZGlyZWN0IGlzIHN1ZmZpY2llbnQuCgogICAgcmV0dXJuIGRpcmVjdDsKfQoKLy8gQnV0IHRoZSBhYm92ZSBhcHByb2FjaCBpcyB0b28gbmFpdmUgYW5kIHdpbGwgVExFLCB3ZSBuZWVkIGEgYmV0dGVyIHNvbHV0aW9uOgoKLy8gT2JzZXJ2aW5nIHRoZSBwcm9ibGVtIGFuZCBlZGl0b3JpYWwgaGludHMsIHRoZSBrZXkgaXM6Ci8vIElmIG4gaXMgYSBwb3dlciBvZiB0d28sIHRoZSBzdHJpbmcgY2FuIGJlIHRyYW5zZm9ybWVkIGlmIGFuZCBvbmx5IGlmIHRoZSBtdWx0aXNldCBvZiBzdWJzdHJpbmdzIG9idGFpbmVkIGJ5IHNwbGl0dGluZyByZWN1cnNpdmVseSBjYW4gYmUgdHJhbnNmb3JtZWQuCi8vIEVzc2VudGlhbGx5LCB0aGUgcHJvYmxlbSByZWR1Y2VzIHRvIGNvbXBhcmluZyBjYW5vbmljYWwgZm9ybXMgb2YgdGhlIHN0cmluZ3MuCgovLyBXZSBjYW4gZGVmaW5lIGEgZnVuY3Rpb24gdGhhdCBmb3IgYSBzdHJpbmcgb2YgbGVuZ3RoIGxlbjoKLy8gLSBJZiBsZW4gaXMgb2RkLCByZXR1cm4gdGhlIHN0cmluZyBpdHNlbGYKLy8gLSBFbHNlIHNwbGl0IGludG8gdHdvIGhhbHZlcywgZ2V0IGNhbm9uaWNhbCBmb3JtcyBvZiBlYWNoIGhhbGYKLy8gLSBSZXR1cm4gdGhlIGxleGljb2dyYXBoaWNhbGx5IHNtYWxsZXIgY29uY2F0ZW5hdGlvbiBvZiAobGVmdCtyaWdodCkgb3IgKHJpZ2h0K2xlZnQpCgovLyBJZiB0aGUgY2Fub25pY2FsIGZvcm1zIG9mIHMgYW5kIHQgYXJlIGVxdWFsLCBhbnN3ZXIgaXMgWWVzLCBlbHNlIE5vLgoKc3RyaW5nIGNhbm9uaWNhbEZvcm0oY29uc3Qgc3RyaW5nJiBzdHIpIHsKICAgIGludCBsZW4gPSAoaW50KXN0ci5zaXplKCk7CiAgICBpZiAobGVuICUgMiA9PSAxKSByZXR1cm4gc3RyOwogICAgc3RyaW5nIGxlZnQgPSBjYW5vbmljYWxGb3JtKHN0ci5zdWJzdHIoMCwgbGVuIC8gMikpOwogICAgc3RyaW5nIHJpZ2h0ID0gY2Fub25pY2FsRm9ybShzdHIuc3Vic3RyKGxlbiAvIDIpKTsKICAgIGlmIChsZWZ0IDwgcmlnaHQpIHJldHVybiBsZWZ0ICsgcmlnaHQ7CiAgICBlbHNlIHJldHVybiByaWdodCArIGxlZnQ7Cn0KCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47IGNpbiA+PiBuOwogICAgICAgIHN0cmluZyBzLCB0c3RyOwogICAgICAgIGNpbiA+PiBzID4+IHRzdHI7CgogICAgICAgIHN0cmluZyBjcyA9IGNhbm9uaWNhbEZvcm0ocyk7CiAgICAgICAgc3RyaW5nIGN0ID0gY2Fub25pY2FsRm9ybSh0c3RyKTsKCiAgICAgICAgaWYgKGNzID09IGN0KSBjb3V0IDw8ICJZZXNcbiI7CiAgICAgICAgZWxzZSBjb3V0IDw8ICJOb1xuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
