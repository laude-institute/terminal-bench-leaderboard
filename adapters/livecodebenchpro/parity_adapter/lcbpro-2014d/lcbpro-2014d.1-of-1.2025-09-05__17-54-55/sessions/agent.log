[?2004hroot@2b1d12d8f0f4:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@2b1d12d8f0f4:/app# clear
[?2004l[H[J[3J[?2004hroot@2b1d12d8f0f4:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBkLCBrOwogICAgICAgIGNpbiA+PiBuID4+IGQgPj4gazsKCiAgICAgICAgLy8gV2Ugd2lsbCB1c2UgYSBkaWZmZXJlbmNlIGFycmF5IHRvIGNvdW50IGhvdyBtYW55IGpvYnMgY292ZXIgZWFjaCBkYXkKICAgICAgICB2ZWN0b3I8aW50PiBkaWZmKG4gKyAyLCAwKTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBrOyBpKyspIHsKICAgICAgICAgICAgaW50IGwsIHI7CiAgICAgICAgICAgIGNpbiA+PiBsID4+IHI7CiAgICAgICAgICAgIGRpZmZbbF0rKzsKICAgICAgICAgICAgaWYgKHIgKyAxIDw9IG4pIGRpZmZbciArIDFdLS07CiAgICAgICAgfQoKICAgICAgICAvLyBDYWxjdWxhdGUgY292ZXJhZ2UgZm9yIGVhY2ggZGF5CiAgICAgICAgdmVjdG9yPGludD4gY292ZXJhZ2UobiArIDEsIDApOwogICAgICAgIGNvdmVyYWdlWzFdID0gZGlmZlsxXTsKICAgICAgICBmb3IgKGludCBpID0gMjsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgY292ZXJhZ2VbaV0gPSBjb3ZlcmFnZVtpIC0gMV0gKyBkaWZmW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gU2xpZGluZyB3aW5kb3cgdG8gY291bnQgaG93IG1hbnkgZGlzdGluY3Qgam9icyBvdmVybGFwIGEgd2luZG93IG9mIGxlbmd0aCBkCiAgICAgICAgLy8gU2luY2UgY292ZXJhZ2VbaV0gPSBudW1iZXIgb2Ygam9icyBjb3ZlcmluZyBkYXkgaSwgc3VtIG92ZXIgd2luZG93IGlzIHN1bSBvZiBjb3ZlcmFnZVtpXQogICAgICAgIC8vIEJ1dCB0aGUgcHJvYmxlbSB3YW50cyBudW1iZXIgb2YgZGlzdGluY3Qgam9icyBvdmVybGFwcGluZyB2aXNpdCBpbnRlcnZhbCwgd2hpY2ggd2UgbW9kZWwgYXMgY291bnQgb2Ygam9icyBjb3ZlcmluZyBhbnkgZGF5IGluIHRoZSBpbnRlcnZhbC4KICAgICAgICAvLyBTaW5jZSBlYWNoIGpvYiBpcyBjb3VudGVkIG9uY2UgcGVyIGRheSBpdCBjb3ZlcnMsIHN1bSBvdmVyIHdpbmRvdyBnaXZlcyB0aGUgc3VtIG9mIG92ZXJsYXBzLCBidXQgam9icyBjYW4gb3ZlcmxhcCBtdWx0aXBsZSBkYXlzLgogICAgICAgIC8vIEhvd2V2ZXIsIHNpbmNlIGpvYnMgYXJlIGludGVydmFscywgYW55IGpvYiBvdmVybGFwcGluZyBhdCBsZWFzdCBvbmUgZGF5IGluIHRoZSBpbnRlcnZhbCBjb3VudHMgb25jZS4KICAgICAgICAvLyBUaGUgY292ZXJhZ2UgYXJyYXkgY291bnRzIGhvdyBtYW55IGpvYnMgY292ZXIgZWFjaCBkYXksIGJ1dCBzdW0gb3ZlciBkYXlzIGNvdW50cyBqb2JzIG11bHRpcGxlIHRpbWVzLgogICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCBudW1iZXIgb2YgZGlzdGluY3Qgam9icyBvdmVybGFwcGluZyB0aGUgaW50ZXJ2YWwuCiAgICAgICAgLy8gSG93IHRvIGZpbmQgbnVtYmVyIG9mIGRpc3RpbmN0IGpvYnMgb3ZlcmxhcHBpbmcgZWFjaCBpbnRlcnZhbCBlZmZpY2llbnRseT8KICAgICAgICAvLyBXZSBjYW4gcHJvY2VzcyBlYWNoIGpvYiBhbmQgbWFyayB0aGUgZGF5cyBpdCBjb3ZlcnMsIGJ1dCB0aGF0IGlzIE8obiprKS4KICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBjYW4gdXNlIHByZWZpeCBzdW1zIGFuZCBhIGRpZmZlcmVuY2UgYXJyYXkgdG8gY291bnQgZm9yIGVhY2ggZGF5IGhvdyBtYW55IGpvYnMgY292ZXIgaXQuCiAgICAgICAgLy8gVGhlbiBmb3IgZWFjaCBpbnRlcnZhbCBbc3RhcnQsIHN0YXJ0ICsgZCAtIDFdLCB3ZSB3YW50IHRvIGtub3cgaG93IG1hbnkgam9icyBvdmVybGFwLgogICAgICAgIC8vIGpvYnMgb3ZlcmxhcCBpZiB0aGVpciBpbnRlcnZhbCBpbnRlcnNlY3RzIFtzdGFydCwgc3RhcnQgKyBkIC0xXS4KICAgICAgICAvLyBXZSBjYW4gY29uc2lkZXIgZm9yIGVhY2ggam9iIGkgaW50ZXJ2YWwgW2xfaSwgcl9pXSwgaWYgaXQgb3ZlcmxhcHMgd2l0aCB2aXNpdCBpbnRlcnZhbC4KICAgICAgICAvLyBCdXQgdGhpcyBpcyBwZXIgam9iIHBlciB0ZXN0IGNhc2UuCiAgICAgICAgLy8gU2luY2UgdG90YWwgayBjYW4gYmUgdXAgdG8gbiwgYW5kIHN1bSBvZiBuIHVwIHRvIDIqMTBeNSwgd2UgY2FuIGRvIHBlciB0ZXN0IGNhc2UuCgogICAgICAgIC8vIExldCdzIGRvIGFuIGludGVydmFsIGNvdW50IGFwcHJvYWNoOgogICAgICAgIC8vIEZvciBlYWNoIGpvYiBpbnRlcnZhbCBbbF9pLCByX2ldLCBpdCBvdmVybGFwcyB3aXRoIHZpc2l0IGludGVydmFsIFtzLCBzK2QtMV0gaWZmIGxfaSA8PSBzK2QtMSBhbmQgcl9pID49IHMuCiAgICAgICAgLy8gU28gZm9yIGVhY2ggam9iLCB0aGUgc3RhcnQgZGF5cyBzIHdoZXJlIHRoZSB2aXNpdCBvdmVybGFwcyB0aGUgam9iIGFyZSBmcm9tIG1heCgxLCBsX2kgLSBkICsgMSkgdG8gbWluKG4gLSBkICsgMSwgcl9pKS4KICAgICAgICAvLyBXZSBjYW4gYnVpbGQgYW4gYXJyYXkgb3ZlcmxhcF9jb3VudCBvZiBsZW5ndGggbiAtIGQgKyAyICgxLWJhc2VkKSB3aGVyZSBvdmVybGFwX2NvdW50W3NdID0gbnVtYmVyIG9mIGpvYnMgb3ZlcmxhcHBpbmcgdmlzaXQgc3RhcnRpbmcgYXQgcy4KCiAgICAgICAgaW50IG1heF9zdGFydCA9IG4gLSBkICsgMTsKICAgICAgICB2ZWN0b3I8aW50PiBvdmVybGFwX2NvdW50KG1heF9zdGFydCArIDIsIDApOwoKICAgICAgICAvLyBXZSByZWFkIGpvYnMgYWdhaW4sIHNvIHdlIG5lZWQgdG8gc3RvcmUgdGhlbQogICAgICAgIC8vIFdlJ2xsIHJlLXJlYWQgZnJvbSBpbnB1dCBidWZmZXIgaXMgbm90IHBvc3NpYmxlLCBzbyB3ZSBzdG9yZSBqb2JzIGluIHZlY3RvcgogICAgICAgIC8vIFNvIGxldCdzIHJlLXBhcnNlIGlucHV0CiAgICAgICAgLy8gVG8gYXZvaWQgcmUtcmVhZGluZyBpbnB1dCwgd2UgY2FuIHN0b3JlIGpvYnMgZHVyaW5nIGZpcnN0IHJlYWQKICAgICAgICAvLyBXZSdsbCByZWRvIHNvbHV0aW9uIHdpdGggc3RvcmluZyBqb2JzIGZpcnN0CiAgICAgICAgLy8gUmVzdGFydCBzb2x1dGlvbiBjb2RlOgogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@2b1d12d8f0f4:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@2b1d12d8f0f4:/app# 