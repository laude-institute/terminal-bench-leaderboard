[?2004hroot@35e74d14e8d3:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@35e74d14e8d3:/app# clear
[?2004l[H[J[3J[?2004hroot@35e74d14e8d3:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBQcm9ibGVtOiBDaGVjayBpZiBhIHBlcm11dGF0aW9uIGlzIGEgdmFsaWQgREZTIG9yZGVyIG9mIGEgcGVyZmVjdCBiaW5hcnkgdHJlZQovLyBBcHByb2FjaDoKLy8gVGhlIHRyZWUgaXMgcGVyZmVjdCBiaW5hcnkgdHJlZSwgcGFyZW50IG9mIGkgaXMgaS8yCi8vIEEgREZTIG9yZGVyIGNhbiBiZSBhbnkgb3JkZXIgb2J0YWluZWQgYnkgdmlzaXRpbmcgY2hpbGRyZW4gaW4gYW55IG9yZGVyCi8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBlcm11dGF0aW9uIGNhbiBiZSBhIERGUyBvcmRlciBmb3Igc29tZSBwZXJtdXRhdGlvbiBvZiBjaGlsZHJlbgovLyBLZXkgaW5zaWdodDogRm9yIGVhY2ggbm9kZSwgaXRzIGNoaWxkcmVuIGFwcGVhciBjb25zZWN1dGl2ZWx5IGluIHRoZSBERlMgb3JkZXIsIGJ1dCBvcmRlciBvZiBjaGlsZHJlbiBjYW4gYmUgc3dhcHBlZAovLyBTbywgdGhlIERGUyBvcmRlciBpcyBhIHRyYXZlcnNhbCB3aGVyZSBlYWNoIHN1YnRyZWUgZm9ybXMgYSBjb250aWd1b3VzIHNlZ21lbnQgaW4gdGhlIHBlcm11dGF0aW9uCi8vIFdlIHdpbGwgdXNlIHNlZ21lbnQgdHJlZSBvciBCSVQgdG8gbWFpbnRhaW4gdGhlIHBvc2l0aW9ucwovLyBTaW5jZSBjaGlsZHJlbiBjYW4gYmUgc3dhcHBlZCBhcmJpdHJhcmlseSwgdGhlIG9yZGVyIG9mIHRoZSB0d28gY2hpbGRyZW4gY2FuIGJlIGFueQovLyBXZSB3aWxsIGNoZWNrIGlmIHRoZSBwZXJtdXRhdGlvbiBjb3JyZXNwb25kcyB0byBhIHZhbGlkIERGUyBvcmRlciBieSB2ZXJpZnlpbmcgdGhlIHN1YnRyZWUgaW50ZXJ2YWxzIHVzaW5nIHBvc2l0aW9ucwoKaW50IHQ7Cgpjb25zdCBpbnQgTUFYTiA9IDY1NTM1ICsgNTsKaW50IG4sIHE7CmludCBwYXJlbnRbTUFYTl07CmludCBwW01BWE5dOwppbnQgcG9zW01BWE5dOwoKdmVjdG9yPGludD4gY2hpbGRyZW5bTUFYTl07CgovLyBGb3IgZWFjaCBub2RlLCB3ZSBzdG9yZSBzdWJ0cmVlIHJhbmdlIGluIHBlcm11dGF0aW9uIChsLHIpCnBhaXI8aW50LGludD4gc3VidHJlZV9yYW5nZVtNQVhOXTsKCi8vIFdlIHdpbGwgYnVpbGQgdGhlIHRyZWUgc3RydWN0dXJlIGZyb20gcGFyZW50IGFycmF5CgovLyBXZSB3aWxsIGNoZWNrIHJlY3Vyc2l2ZWx5IGlmIHRoZSBwZXJtdXRhdGlvbiBzdWJ0cmVlIGNvcnJlc3BvbmRzIHRvIGEgdmFsaWQgREZTIHN1YnRyZWUKLy8gU2luY2UgY2hpbGRyZW4gY2FuIGJlIHN3YXBwZWQgYXJiaXRyYXJpbHksIHRoZSBjaGlsZHJlbiBhcHBlYXIgYXMgY29udGlndW91cyBpbnRlcnZhbHMgaW4gYW55IG9yZGVyCi8vIFNvIHRoZSBzdWJ0cmVlIGlzIGNvbmNhdGVuYXRpb24gb2YgY2hpbGRyZW4gc3VidHJlZXMgaW50ZXJ2YWxzIGNvbnRpZ3VvdXNseQovLyBXZSBjaGVjayB0aGF0IHRoZSBzdWJ0cmVlIHJhbmdlIG1hdGNoZXMgdGhlIHBlcm11dGF0aW9uIGludGVydmFscwoKLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBzZWdtZW50IFtsLHJdIGluIHBlcm11dGF0aW9uIGNvcnJlc3BvbmRzIHRvIHN1YnRyZWUgb2YgdgovLyBSZXR1cm5zIHRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZQpib29sIGNoZWNrKGludCB2LCBpbnQgbCwgaW50IHIpIHsKICAgIGlmIChwb3Nbdl0gPCBsIHx8IHBvc1t2XSA+IHIpIHJldHVybiBmYWxzZTsKICAgIGlmIChjaGlsZHJlblt2XS5lbXB0eSgpKSB7CiAgICAgICAgLy8gbGVhZiBub2RlLCBzdWJ0cmVlIGlzIGp1c3QgaXRzZWxmCiAgICAgICAgcmV0dXJuIGwgPT0gciAmJiBwb3Nbdl0gPT0gbDsKICAgIH0KICAgIC8vIENvbGxlY3QgY2hpbGRyZW4gc3VidHJlZSBpbnRlcnZhbHMKICAgIHZlY3RvcjxwYWlyPGludCxpbnQ+PiBpbnRlcnZhbHM7CiAgICBmb3IgKGludCBjIDogY2hpbGRyZW5bdl0pIHsKICAgICAgICBpbnRlcnZhbHMucHVzaF9iYWNrKHN1YnRyZWVfcmFuZ2VbY10pOwogICAgfQogICAgLy8gQ2hlY2sgdGhhdCBpbnRlcnZhbHMgZm9ybSBhIHBhcnRpdGlvbiBvZiBbbCsxLCByXSAoc2luY2UgdiBpcyBhdCBwb3Nbdl0pCiAgICAvLyBUaGUgc3VidHJlZSBvZiB2IGluY2x1ZGVzIHYgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMKICAgIC8vIFNvIHRoZSBzdWJ0cmVlIHJhbmdlIGlzIGZyb20gbWluKHBvc1t2XSwgbWluIGNoaWxkJ3MgbCkgdG8gbWF4KHBvc1t2XSwgbWF4IGNoaWxkJ3MgcikKCiAgICAvLyBCZWNhdXNlIHRoZSBvcmRlciBvZiBjaGlsZHJlbiBjYW4gYmUgc3dhcHBlZCBhcmJpdHJhcmlseSwgaW50ZXJ2YWxzIGNhbiBiZSBpbiBhbnkgb3JkZXIsIGJ1dCB0aGV5IG11c3QgYmUgY29udGlndW91cyBzZWdtZW50cyBmb3JtaW5nIFtsKzEscl0KCiAgICAvLyBTb3J0IGludGVydmFscyBieSB0aGVpciBzdGFydAogICAgc29ydChpbnRlcnZhbHMuYmVnaW4oKSwgaW50ZXJ2YWxzLmVuZCgpKTsKCiAgICAvLyBDaGVjayBpZiBpbnRlcnZhbHMgY292ZXIgW2wrMSwgcl0gZXhhY3RseSBhbmQgbm8gb3ZlcmxhcHMKICAgIGludCBjdXIgPSBsKzE7CiAgICBmb3IgKGF1dG8gJml0IDogaW50ZXJ2YWxzKSB7CiAgICAgICAgaWYgKGl0LmZpcnN0ICE9IGN1cikgcmV0dXJuIGZhbHNlOwogICAgICAgIGN1ciA9IGl0LnNlY29uZCArIDE7CiAgICB9CiAgICBpZiAoY3VyICE9IHIrMSkgcmV0dXJuIGZhbHNlOwoKICAgIC8vIFJlY3Vyc2l2ZWx5IGNoZWNrIGNoaWxkcmVuCiAgICBmb3IgKGludCBjIDogY2hpbGRyZW5bdl0pIHsKICAgICAgICBpZiAoIWNoZWNrKGMsIHN1YnRyZWVfcmFuZ2VbY10uZmlyc3QsIHN1YnRyZWVfcmFuZ2VbY10uc2Vjb25kKSkgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCi8vIEJ1aWxkIHN1YnRyZWUgcmFuZ2VzIGZyb20gcGVybXV0YXRpb24KLy8gc3VidHJlZV9yYW5nZVt2XSA9IFtsLHJdIHNlZ21lbnQgaW4gcFtdIHJlcHJlc2VudGluZyBzdWJ0cmVlIG9mIHYKdm9pZCBidWlsZF9zdWJ0cmVlX3JhbmdlKGludCB2KSB7CiAgICBpZiAoY2hpbGRyZW5bdl0uZW1wdHkoKSkgewogICAgICAgIHN1YnRyZWVfcmFuZ2Vbdl0gPSB7cG9zW3ZdLCBwb3Nbdl19OwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGludCBsID0gcG9zW3ZdLCByID0gcG9zW3ZdOwogICAgZm9yIChpbnQgYyA6IGNoaWxkcmVuW3ZdKSB7CiAgICAgICAgYnVpbGRfc3VidHJlZV9yYW5nZShjKTsKICAgICAgICBpZiAoc3VidHJlZV9yYW5nZVtjXS5maXJzdCA8IGwpIGwgPSBzdWJ0cmVlX3JhbmdlW2NdLmZpcnN0OwogICAgICAgIGlmIChzdWJ0cmVlX3JhbmdlW2NdLnNlY29uZCA+IHIpIHIgPSBzdWJ0cmVlX3JhbmdlW2NdLnNlY29uZDsKICAgIH0KICAgIHN1YnRyZWVfcmFuZ2Vbdl0gPSB7bCwgcn07Cn0KCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBjaW4gPj4gbiA+PiBxOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgY2hpbGRyZW5baV0uY2xlYXIoKTsKCiAgICAgICAgLy8gcmVhZCBwYXJlbnRzCiAgICAgICAgZm9yIChpbnQgaSA9IDI7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGNpbiA+PiBwYXJlbnRbaV07CiAgICAgICAgICAgIGNoaWxkcmVuW3BhcmVudFtpXV0ucHVzaF9iYWNrKGkpOwogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGNpbiA+PiBwW2ldOwogICAgICAgICAgICBwb3NbcFtpXV0gPSBpOwogICAgICAgIH0KCiAgICAgICAgLy8gRm9yIGVhY2ggcXVlcnksIHN3YXAgYW5kIGNoZWNrIHZhbGlkaXR5CiAgICAgICAgZm9yIChpbnQgXyA9IDA7IF8gPCBxOyBfKyspIHsKICAgICAgICAgICAgaW50IHgseTsgY2luID4+IHggPj4geTsKICAgICAgICAgICAgc3dhcChwW3hdLCBwW3ldKTsKICAgICAgICAgICAgcG9zW3BbeF1dID0geDsKICAgICAgICAgICAgcG9zW3BbeV1dID0geTsKCiAgICAgICAgICAgIC8vIEJ1aWxkIHN1YnRyZWUgcmFuZ2VzCiAgICAgICAgICAgIGJ1aWxkX3N1YnRyZWVfcmFuZ2UoMSk7CgogICAgICAgICAgICAvLyBDaGVjayBpZiB2YWxpZCBERlMgb3JkZXIKICAgICAgICAgICAgYm9vbCB2YWxpZCA9IGNoZWNrKDEsIDEsIG4pOwogICAgICAgICAgICBjb3V0IDw8ICh2YWxpZCA/ICJZRVMiIDogIk5PIikgPDwgIlxuIjsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@35e74d14e8d3:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@35e74d14e8d3:/app# 