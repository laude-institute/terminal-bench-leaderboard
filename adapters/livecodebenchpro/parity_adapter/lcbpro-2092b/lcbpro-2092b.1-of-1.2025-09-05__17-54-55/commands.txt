['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47IGNpbiA+PiBuOwogICAgICAgIHN0cmluZyBhLCBiOwogICAgICAgIGNpbiA+PiBhID4+IGI7CgogICAgICAgIC8vIFdlIHdhbnQgdG8gY2hlY2sgaWYgaXQgaXMgcG9zc2libGUgdG8gbWFrZSBhIGFsbCB6ZXJvcwogICAgICAgIC8vIHVzaW5nIHRoZSBnaXZlbiBvcGVyYXRpb25zLgogICAgICAgIC8vIEtleSBpbnNpZ2h0OgogICAgICAgIC8vIE9wZXJhdGlvbnMgYWxsb3cgc3dhcHBpbmcgYV9pIHdpdGggYl97aS0xfSBvciBiX2kgd2l0aCBhX3tpLTF9IGZvciBpPj0yLgogICAgICAgIC8vIFRoaXMgYWxsb3dzIG1vdmluZyAnMSdzIGFsb25nIGNlcnRhaW4gZWRnZXMgYmV0d2VlbiB0aGUgdHdvIHN0cmluZ3MuCiAgICAgICAgLy8gQnkgYW5hbHl6aW5nIHRoZSBncmFwaCBvZiBhbGxvd2VkIHN3YXBzLCBiaXRzIGNhbiBiZSByZWFycmFuZ2VkCiAgICAgICAgLy8gd2l0aGluIGNvbm5lY3RlZCBjb21wb25lbnRzIGZvcm1lZCBieSBlZGdlczoKICAgICAgICAvLyAoYV9pLCBiX3tpLTF9KSBhbmQgKGJfaSwgYV97aS0xfSkgZm9yIGkgaW4gWzIuLm5dLgogICAgICAgIC8vCiAgICAgICAgLy8gV2UgY2FuIGNvbnNpZGVyIHRoZSAyKm4gcG9zaXRpb25zIGFzIG5vZGVzOgogICAgICAgIC8vIDAuLm4tMSBmb3IgYV9pLCBuLi4ybi0xIGZvciBiX2kuCiAgICAgICAgLy8gRWRnZXMgY29ubmVjdCBhX2kgd2l0aCBiX3tpLTF9IGFuZCBiX2kgd2l0aCBhX3tpLTF9LgogICAgICAgIC8vIEluIGVhY2ggY29ubmVjdGVkIGNvbXBvbmVudCwgYml0cyBjYW4gYmUgcGVybXV0ZWQgYXJiaXRyYXJpbHkuCiAgICAgICAgLy8KICAgICAgICAvLyBUbyBoYXZlIGEgYWxsIHplcm9zLCBhbGwgb25lcyBpbiBhIG11c3QgYmUgcmVtb3ZlZCBieSBzd2FwcGluZyB3aXRoIHplcm9zIGZyb20gYi4KICAgICAgICAvLyBTaW5jZSBiaXRzIGNhbiBiZSBwZXJtdXRlZCBhcmJpdHJhcmlseSBpbiBjb25uZWN0ZWQgY29tcG9uZW50cywKICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZXMgaW4gdGhlIGNvbXBvbmVudCBpcyBmaXhlZC4KICAgICAgICAvLyBTbyB0byBnZXQgYSBhbGwgemVyb3MsIHRoZSBudW1iZXIgb2Ygb25lcyBpbiB0aGUgYS1wYXJ0IG9mIGNvbXBvbmVudAogICAgICAgIC8vIG11c3QgYmUgPD0gbnVtYmVyIG9mIHplcm9zIGluIHRoZSBiLXBhcnQgb2YgY29tcG9uZW50LCBzbyB0aGV5IGNhbiBiZSBzd2FwcGVkIGF3YXkuCgogICAgICAgIGludCBzaXplID0gMipuOwogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gYWRqKHNpemUpOwogICAgICAgIC8vIEFkZCBlZGdlcyBhY2NvcmRpbmcgdG8gcHJvYmxlbSBjb25kaXRpb25zCiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgLy8gc3dhcChhX2krMSwgYl9pKSAtPiB6ZXJvLWJhc2VkOiBhX2kgd2l0aCBiX3tpLTF9CiAgICAgICAgICAgIGFkaltpXS5wdXNoX2JhY2sobiArIGkgLSAxKTsKICAgICAgICAgICAgYWRqW24gKyBpIC0gMV0ucHVzaF9iYWNrKGkpOwogICAgICAgICAgICAvLyBzd2FwKGJfaSsxLCBhX2kpIC0+IHplcm8tYmFzZWQ6IGJfaSB3aXRoIGFfe2ktMX0KICAgICAgICAgICAgYWRqW24gKyBpXS5wdXNoX2JhY2soaSAtIDEpOwogICAgICAgICAgICBhZGpbaSAtIDFdLnB1c2hfYmFjayhuICsgaSk7CiAgICAgICAgfQoKICAgICAgICB2ZWN0b3I8Ym9vbD4gdmlzaXRlZChzaXplLCBmYWxzZSk7CiAgICAgICAgYm9vbCBwb3NzaWJsZSA9IHRydWU7CgogICAgICAgIGZvciAoaW50IHN0YXJ0ID0gMDsgc3RhcnQgPCBzaXplOyBzdGFydCsrKSB7CiAgICAgICAgICAgIGlmICghdmlzaXRlZFtzdGFydF0pIHsKICAgICAgICAgICAgICAgIHZlY3RvcjxpbnQ+IGNvbXA7CiAgICAgICAgICAgICAgICAvLyBCRlMgdG8gZ2V0IGNvbm5lY3RlZCBjb21wb25lbnQKICAgICAgICAgICAgICAgIHF1ZXVlPGludD4gcTsKICAgICAgICAgICAgICAgIHEucHVzaChzdGFydCk7CiAgICAgICAgICAgICAgICB2aXNpdGVkW3N0YXJ0XSA9IHRydWU7CiAgICAgICAgICAgICAgICB3aGlsZSAoIXEuZW1wdHkoKSkgewogICAgICAgICAgICAgICAgICAgIGludCB1ID0gcS5mcm9udCgpOyBxLnBvcCgpOwogICAgICAgICAgICAgICAgICAgIGNvbXAucHVzaF9iYWNrKHUpOwogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IHcgOiBhZGpbdV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW3ddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3ddID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEucHVzaCh3KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBDb3VudCBvbmVzIGluIGEtcGFydCBhbmQgemVyb3MgaW4gYi1wYXJ0CiAgICAgICAgICAgICAgICBpbnQgb25lc19hID0gMCwgemVyb3NfYiA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKGludCBub2RlIDogY29tcCkgewogICAgICAgICAgICAgICAgICAgIGlmIChub2RlIDwgbikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVtub2RlXSA9PSAnMScpIG9uZXNfYSsrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGludCBpZHggPSBub2RlIC0gbjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJbaWR4XSA9PSAnMCcpIHplcm9zX2IrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gVG8gcmVtb3ZlIGFsbCBvbmVzIGluIGEgaW4gdGhpcyBjb21wb25lbnQsCiAgICAgICAgICAgICAgICAvLyBtdXN0IGhhdmUgZW5vdWdoIHplcm9zIGluIGIgdG8gc3dhcCB3aXRoCiAgICAgICAgICAgICAgICBpZiAob25lc19hID4gemVyb3NfYikgewogICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgKHBvc3NpYmxlID8gIllFUyIgOiAiTk8iKSA8PCAiXG4iOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
