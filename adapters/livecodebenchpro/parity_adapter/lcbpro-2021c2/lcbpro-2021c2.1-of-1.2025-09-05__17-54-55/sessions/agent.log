[?2004hroot@30c3a790484a:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@30c3a790484a:/app# clear
[?2004l[H[J[3J[?2004hroot@30c3a790484a:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBQcm9ibGVtOiBMaXZlQ29kZUJlbmNoIFBybyAoTWluaSkgLSBleHRlcm5hbCBqdWRnZQovLyBMYW5ndWFnZTogQysrMTcKLy8gQXBwcm9hY2g6Ci8vIFdlIGhhdmUgYSBxdWV1ZSBvZiBtZW1iZXJzIHByZXNlbnRpbmcgc2xpZGVzIGluIG9yZGVyIHdpdGggcG9zc2libGUgcmVvcmRlcmluZyBvZiB0aGUgZnJvbnQgbWVtYmVyIGFmdGVyIGVhY2ggc2xpZGUuCi8vIFRoZSBwcm9ibGVtIGFza3MgdG8gY2hlY2sgaWYgZm9yIHRoZSBnaXZlbiBzZXF1ZW5jZSBiLCBpdCdzIHBvc3NpYmxlIHRvIGFzc2lnbiBlYWNoIHNsaWRlIGkgdG8gYltpXS4KLy8gQWZ0ZXIgZWFjaCBzbGlkZSwgdGhlIGZyb250IG1lbWJlciBjYW4gYmUgbW92ZWQgYW55d2hlcmUgaW4gdGhlIGxpbmUgcHJlc2VydmluZyByZWxhdGl2ZSBvcmRlciBvZiBvdGhlcnMuCi8vIFdlIGhhdmUgcSB1cGRhdGVzIGNoYW5naW5nIGIgYW5kIG5lZWQgdG8gYW5zd2VyIGZvciBlYWNoIHVwZGF0ZWQgYiBpZiB0aGUgc2VxdWVuY2UgaXMgImdvb2QiLgoKLy8gS2V5IG9ic2VydmF0aW9uczoKLy8gLSBFYWNoIHNsaWRlIHByZXNlbnRlZCBieSBhIG1lbWJlciBiW2ldIG11c3QgYXBwZWFyIGluIHRoZSBvcmRlciBvZiB0aGUgcXVldWUgYWZ0ZXIgcG9zc2libGUgcmVhcnJhbmdlbWVudHMuCi8vIC0gQmVjYXVzZSB3ZSBjYW4gbW92ZSB0aGUgcHJlc2VudGluZyBtZW1iZXIgYW55d2hlcmUsIHRoZSBvcmRlciBvZiBub24tcHJlc2VudGluZyBtZW1iZXJzIHJlbWFpbnMgdGhlIHNhbWUuCi8vIC0gVGhlIHByb2JsZW0gcmVkdWNlcyB0byBjaGVja2luZyBpZiB0aGUgc2VxdWVuY2UgYiBpcyBhIHN1YnNlcXVlbmNlIG9mIHNvbWUgcmVhcnJhbmdlbWVudCBvZiBhIHVuZGVyIHRoZSBjb25zdHJhaW50cy4KLy8gLSBBIGtub3duIGVmZmljaWVudCBhcHByb2FjaCBpcyB0byB1c2UgdGhlIHBvc2l0aW9uIGFycmF5IG9mIG1lbWJlcnMgaW4gYSwgYW5kIGNoZWNrIGlmIGZvciBiIHNlcXVlbmNlLCB0aGVpciBwb3NpdGlvbnMgYXJlIG5vbi1kZWNyZWFzaW5nIG9yIGNhbiBiZSBhZGp1c3RlZCBhY2NvcmRpbmcgdG8gcnVsZXMuCgovLyBXZSB3aWxsIHByZWNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIGVhY2ggbWVtYmVyIGluICdhJy4gVGhlbiBmb3IgZWFjaCBiIHNlcXVlbmNlLCBjaGVjayBpZiBpdCdzIHBvc3NpYmxlLgovLyBCZWNhdXNlIHEgY2FuIGJlIGxhcmdlLCBhbmQgd2UgbmVlZCB0byBhbnN3ZXIgYWZ0ZXIgZWFjaCB1cGRhdGUsIHdlIHdpbGwgdXNlIGEgc2VnbWVudCB0cmVlIG9yIEJJVCB0byBtYWludGFpbiB2YWxpZGl0eS4KLy8gSG93ZXZlciwgdGhlIHByb2JsZW0gaXMgY29tcGxleCBhbmQgdGhlIGVkaXRvcmlhbCBzdWdnZXN0cyBhIHRyaWNrOgovLyAtIFRoZSBzZXF1ZW5jZSBiIG11c3QgYmUgc3VjaCB0aGF0IGZvciBhbnkgY29uc2VjdXRpdmUgcGFpciBiW2ldLCBiW2krMV0sIHRoZSBwb3NpdGlvbiBvZiBiW2ldIGluIGEgaXMgPD0gcG9zaXRpb24gb2YgYltpKzFdIGluIGEgKyAxIChiZWNhdXNlIG9mIG1vdmluZyBmcm9udCBtZW1iZXIpLgovLyAtIFRoZSBwcm9ibGVtIHJlZHVjZXMgdG8gY2hlY2tpbmcgaWYgZm9yIGVhY2ggYWRqYWNlbnQgcGFpciBpbiBiLCBwb3NbYltpXV0gPD0gcG9zW2JbaSsxXV0gKyAxLgovLyAtIFdlJ2xsIG1haW50YWluIGEgY291bnQgb2YgaG93IG1hbnkgcGFpcnMgdmlvbGF0ZSB0aGlzIGNvbmRpdGlvbi4gSWYgemVybywgcHJpbnQgIllBIiwgZWxzZSAiVElEQUsiLgoKLy8gV2Ugd2lsbCBpbXBsZW1lbnQgdGhpcyBsb2dpYyBhbmQgc3VwcG9ydCB1cGRhdGVzIGVmZmljaWVudGx5LgoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbSwgcTsKICAgICAgICBjaW4gPj4gbiA+PiBtID4+IHE7CiAgICAgICAgdmVjdG9yPGludD4gYShuKzEpOwogICAgICAgIHZlY3RvcjxpbnQ+IHBvcyhuKzEpOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYVtpXTsKICAgICAgICAgICAgcG9zW2FbaV1dID0gaTsKICAgICAgICB9CgogICAgICAgIHZlY3RvcjxpbnQ+IGIobSsxKTsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBtOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGJbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBXZSBkZWZpbmUgYSBmdW5jdGlvbiB0byBjaGVjayB0aGUgbnVtYmVyIG9mIGludmFsaWQgYWRqYWNlbnQgcGFpcnMKICAgICAgICAvLyBpbnZhbGlkIHBhaXIgaWYgcG9zW2JbaV1dID4gcG9zW2JbaSsxXV0gKyAxCgogICAgICAgIGF1dG8gaXNfaW52YWxpZCA9IFsmXShpbnQgaSkgewogICAgICAgICAgICAvLyByZXR1cm5zIHRydWUgaWYgcGFpciAoaSwgaSsxKSBpcyBpbnZhbGlkCiAgICAgICAgICAgIHJldHVybiBwb3NbYltpXV0gPiBwb3NbYltpKzFdXSArIDE7CiAgICAgICAgfTsKCiAgICAgICAgaW50IGludmFsaWRfcGFpcnMgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgbTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpc19pbnZhbGlkKGkpKSBpbnZhbGlkX3BhaXJzKys7CiAgICAgICAgfQoKICAgICAgICBhdXRvIHByaW50X2Fuc3dlciA9IFsmXSgpIHsKICAgICAgICAgICAgY291dCA8PCAoaW52YWxpZF9wYWlycyA9PSAwID8gIllBIiA6ICJUSURBSyIpIDw8ICdcbic7CiAgICAgICAgfTsKCiAgICAgICAgcHJpbnRfYW5zd2VyKCk7CgogICAgICAgIGZvciAoaW50IF8gPSAwOyBfIDwgcTsgXysrKSB7CiAgICAgICAgICAgIGludCBzX2ksIHRfaTsKICAgICAgICAgICAgY2luID4+IHNfaSA+PiB0X2k7CiAgICAgICAgICAgIC8vIFVwZGF0ZSBiW3NfaV0KICAgICAgICAgICAgLy8gTmVlZCB0byB1cGRhdGUgaW52YWxpZF9wYWlycyBmb3IgcGFpcnMgKHNfaS0xLCBzX2kpIGFuZCAoc19pLCBzX2krMSkgaWYgdmFsaWQgaW5kaWNlcwogICAgICAgICAgICBpZiAoc19pID4gMSkgewogICAgICAgICAgICAgICAgaWYgKGlzX2ludmFsaWQoc19pIC0gMSkpIGludmFsaWRfcGFpcnMtLTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc19pIDwgbSkgewogICAgICAgICAgICAgICAgaWYgKGlzX2ludmFsaWQoc19pKSkgaW52YWxpZF9wYWlycy0tOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJbc19pXSA9IHRfaTsKICAgICAgICAgICAgaWYgKHNfaSA+IDEpIHsKICAgICAgICAgICAgICAgIGlmIChpc19pbnZhbGlkKHNfaSAtIDEpKSBpbnZhbGlkX3BhaXJzKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNfaSA8IG0pIHsKICAgICAgICAgICAgICAgIGlmIChpc19pbnZhbGlkKHNfaSkpIGludmFsaWRfcGFpcnMrKzsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcmludF9hbnN3ZXIoKTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@30c3a790484a:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@30c3a790484a:/app# 