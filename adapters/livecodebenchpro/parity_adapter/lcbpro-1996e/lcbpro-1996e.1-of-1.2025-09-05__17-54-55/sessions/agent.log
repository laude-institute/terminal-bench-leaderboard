[?2004hroot@9f783475ebeb:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@9f783475ebeb:/app# clear
[?2004l[H[J[3J[?2004hroot@9f783475ebeb:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gMTAwMDAwMDAwNzsKCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmlubGluZSBUIG1vZF9hZGQoVCBhLCBUIGIpIHsKICAgIGEgKz0gYjsKICAgIGlmIChhID49IE1PRCkgYSAtPSBNT0Q7CiAgICByZXR1cm4gYTsKfQoKdGVtcGxhdGU8dHlwZW5hbWUgVD4KaW5saW5lIFQgbW9kX3N1YihUIGEsIFQgYikgewogICAgYSAtPSBiOwogICAgaWYgKGEgPCAwKSBhICs9IE1PRDsKICAgIHJldHVybiBhOwp9CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKCiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgc3RyaW5nIHM7CiAgICAgICAgY2luID4+IHM7CiAgICAgICAgaW50IG4gPSAoaW50KXMuc2l6ZSgpOwogICAgICAgIHZlY3RvcjxpbnQ+IHByZShuICsgMSwgMCk7CgogICAgICAgIC8vIENvbnZlcnQgJzAnIHRvIC0xIGFuZCAnMScgdG8gKzEgdG8gdXNlIHByZWZpeCBzdW1zIGZvciBlcXVhbCB6ZXJvcyBhbmQgb25lcwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHByZVtpICsgMV0gPSBwcmVbaV0gKyAoc1tpXSA9PSAnMScgPyAxIDogLTEpOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byBjb3VudCBzdW0gb3ZlciBhbGwgKGwscikgb2YgbnVtYmVyIG9mIHN1YnN0cmluZ3MgaW4gc1tsLi5yXSB3aXRoIGVxdWFsIHplcm9zIGFuZCBvbmVzCiAgICAgICAgLy8gVGhpcyBlcXVhbHMgc3VtIG92ZXIgYWxsIHBhaXJzIChsLHIpIG9mIGNvdW50IG9mIHN1YnN0cmluZ3Mgd2l0aCBzdW0gemVybyBpbnNpZGUgc1tsLi5yXQoKICAgICAgICAvLyBSZWZvcm11bGF0ZSB0byBjb3VudCB0b3RhbCBudW1iZXIgb2Ygc3Vic3RyaW5ncyB3aXRoIHN1bSB6ZXJvIGZvciBhbGwgc3Vic3RyaW5ncyBzW2wuLnJdCiAgICAgICAgLy8gQXBwcm9hY2g6CiAgICAgICAgLy8gRm9yIGVhY2ggcHJlZml4IHN1bSB2YWx1ZSwgc3RvcmUgaW5kaWNlcyB3aGVyZSBpdCBvY2N1cnMuCiAgICAgICAgLy8gVGhlc2UgaW5kaWNlcyBmb3JtIGFyaXRobWV0aWMgc2VxdWVuY2VzIHdoZXJlIHN1YnN0cmluZ3Mgd2l0aCBzdW0gemVybyBvY2N1ciBiZXR3ZWVuIHRoZXNlIGluZGljZXMuCgogICAgICAgIC8vIGZyZXFfbWFwOiBwcmVmaXhfc3VtX3ZhbHVlIC0+IHZlY3RvciBvZiBpbmRpY2VzIHdoZXJlIHByZWZpeF9zdW1fdmFsdWUgYXBwZWFycwogICAgICAgIHVub3JkZXJlZF9tYXA8aW50LCB2ZWN0b3I8aW50Pj4gZnJlcV9tYXA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgICAgIGZyZXFfbWFwW3ByZVtpXV0ucHVzaF9iYWNrKGkpOwogICAgICAgIH0KCiAgICAgICAgbG9uZyBsb25nIGFuc3dlciA9IDA7CgogICAgICAgIC8vIEZvciBlYWNoIHByZWZpeCBzdW0gdmFsdWUgZ3JvdXAsIGNhbGN1bGF0ZSBjb250cmlidXRpb24KICAgICAgICAvLyBFeHBsYW5hdGlvbjoKICAgICAgICAvLyBUaGUgc3Vic3RyaW5nIHNfeC4uc195IGhhcyBlcXVhbCB6ZXJvcyBhbmQgb25lcyBpZiBwcmVbeV0gPT0gcHJlW3gtMV0KICAgICAgICAvLyBGb3IgaW5kaWNlcyBvZiBlcXVhbCBwcmVmaXggc3VtczogaV8wIDwgaV8xIDwgLi4uIDwgaV9tCiAgICAgICAgLy8gTnVtYmVyIG9mIHN1YnN0cmluZ3Mgd2l0aCBzdW0gemVybyA9IHN1bSBvdmVyIGFsbCBwYWlycyAoaV9qLCBpX2spIHdpdGggaiA8IGsgb2YgMQogICAgICAgIC8vID0gbSAqIChtKzEpIC8gMiB3aGVyZSBtID0gY291bnQtMQoKICAgICAgICAvLyBCdXQgd2UgbmVlZCBzdW0gb3ZlciBhbGwgKGwscikgb2YgbnVtYmVyIG9mIHN1YnN0cmluZ3Mgd2l0aCBzdW0gemVybyBpbnNpZGUgc1tsLi5yXQogICAgICAgIC8vIEtleSBpbnNpZ2h0OgogICAgICAgIC8vIEZvciBlYWNoIHBhaXIgKGlfaiwgaV9rKSwgdGhlIHN1YnN0cmluZyBzX3tpX2orMX0uLnNfe2lfa30gaXMgb25lIHdpdGggc3VtIHplcm8uCiAgICAgICAgLy8gQW5kIHRoaXMgc3Vic3RyaW5nIGlzIGluY2x1ZGVkIGluIGFsbCAobCxyKSB3aXRoIGwgPD0gaV9qKzEgYW5kIHIgPj0gaV9rCiAgICAgICAgLy8gTnVtYmVyIG9mIHN1Y2ggKGwscikgPSAoaV9qKzEpICogKG4gLSBpX2sgKyAxKQogICAgICAgIC8vIFNvIGNvbnRyaWJ1dGlvbiBwZXIgcGFpciAoaV9qLCBpX2spID0gKGlfaisxKSoobiAtIGlfayArIDEpCgogICAgICAgIC8vIFdlIHdpbGwgY29tcHV0ZSB0aGlzIGVmZmljaWVudGx5OgogICAgICAgIC8vIEZvciBlYWNoIGZyZXEgdmVjdG9yIFY6CiAgICAgICAgLy8gc3VtIG92ZXIgajxrIG9mIChWW2pdKzEpKihuIC0gVltrXSArMSkKCiAgICAgICAgZm9yIChhdXRvICZwIDogZnJlcV9tYXApIHsKICAgICAgICAgICAgYXV0byAmdmVjID0gcC5zZWNvbmQ7CiAgICAgICAgICAgIGludCBtID0gKGludCl2ZWMuc2l6ZSgpOwoKICAgICAgICAgICAgLy8gUHJlY29tcHV0ZSBwcmVmaXggc3VtcyBmb3IgKFZbal0rMSkKICAgICAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gcHJlZml4X3N1bV9qKG0gKyAxLCAwKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsKICAgICAgICAgICAgICAgIHByZWZpeF9zdW1faltpICsgMV0gPSBwcmVmaXhfc3VtX2pbaV0gKyAodmVjW2ldICsgMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFByZWNvbXB1dGUgc3VmZml4IHN1bXMgZm9yIChuIC0gVltrXSArMSkKICAgICAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gc3VmZml4X3N1bV9rKG0gKyAxLCAwKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IG0gLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgc3VmZml4X3N1bV9rW2ldID0gc3VmZml4X3N1bV9rW2kgKyAxXSArIChuIC0gdmVjW2ldICsgMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHN1bSBvdmVyIGo8ayBvZiAoVltqXSsxKSoobiAtIFZba10gKzEpID0gc3VtIG92ZXIgaz0xLi5tLTEgb2YgKG4gLSBWW2tdICsxKSpzdW1fe2o9MH1ee2stMX0oVltqXSsxKQogICAgICAgICAgICBmb3IgKGludCBrID0gMTsgayA8IG07IGsrKykgewogICAgICAgICAgICAgICAgbG9uZyBsb25nIGxlZnRfcGFydCA9IHByZWZpeF9zdW1faltrXTsKICAgICAgICAgICAgICAgIGxvbmcgbG9uZyByaWdodF9wYXJ0ID0gc3VmZml4X3N1bV9rW2tdOwogICAgICAgICAgICAgICAgLy8gQWN0dWFsbHkgd2UgbmVlZCAobiAtIFZba10gKzEpIGZvciBzaW5nbGUgaywgc28gc3VmZml4X3N1bV9rIG5vdCB1c2VkIGhlcmUgZGlyZWN0bHkKICAgICAgICAgICAgICAgIC8vIExldCdzIGp1c3QgY29tcHV0ZSBkaXJlY3RseSB0aGUgZm9ybXVsYToKICAgICAgICAgICAgICAgIC8vIHN1bV9qPGsgKFZbal0rMSkqKG4gLSBWW2tdICsxKSA9IChuIC0gVltrXSArMSkqc3VtX3tqPTB9XntrLTF9KFZbal0rMSkKICAgICAgICAgICAgICAgIGxvbmcgbG9uZyB2YWwgPSAobG9uZyBsb25nKShuIC0gdmVjW2tdICsgMSkgKiBwcmVmaXhfc3VtX2pba107CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSAoYW5zd2VyICsgdmFsKSAlIE1PRDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnN3ZXIgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@9f783475ebeb:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@9f783475ebeb:/app# 