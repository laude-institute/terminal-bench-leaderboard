['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBXZSB3YW50IHRvIG1heGltaXplIHNjb3JlX24gLSBzY29yZV9jCi8vIHNjb3JlX246IG51bWJlciBvZiBjb21wbGV0ZSAibmFyZWsiIHNlcXVlbmNlcyAqIDUKLy8gc2NvcmVfYzogbnVtYmVyIG9mIGxlZnRvdmVyIHVzZWQgbGV0dGVycyArIHVudXNlZCBsZXR0ZXJzIGZyb20gdGhlIGNob3NlbiBzdHJpbmdzCi8vIEtleSBpbnNpZ2h0OgovLyBMZXQgY250W2NdIGJlIHRoZSB0b3RhbCBjb3VudCBvZiBjaGFyYWN0ZXIgYyBpbiB0aGUgY2hvc2VuIHN0cmluZ3MKLy8gTGV0IGsgYmUgdGhlIG51bWJlciBvZiBmdWxsIHNlcXVlbmNlcyAibmFyZWsiIHdlIGNhbiBmb3JtOiBrID0gbWluKGNudFsnbiddLCBjbnRbJ2EnXSwgY250WydyJ10sIGNudFsnZSddLCBjbnRbJ2snXSkKLy8gVGhlbiBzY29yZV9uID0gNSAqIGsKLy8gVGhlIGxlZnRvdmVyIGxldHRlcnMgdXNlZCBieSBOYXJlayBpbiBpbmNvbXBsZXRlIGxhc3Qgc2VxdWVuY2UgYXJlIHplcm8gYmVjYXVzZSB3ZSBvbmx5IGNvdW50IGNvbXBsZXRlIHNlcXVlbmNlcwovLyBzY29yZV9jID0gc3VtIG9mIGFsbCBsZXR0ZXJzIHVzZWQgaW4gY2hvc2VuIHN0cmluZ3MgLSA1KmsKLy8gU28gc2NvcmVfbiAtIHNjb3JlX2MgPSA1KmsgLSAodG90YWxfdXNlZF9sZXR0ZXJzIC0gNSprKSA9IDEwKmsgLSB0b3RhbF91c2VkX2xldHRlcnMKLy8gV2Ugd2FudCB0byBjaG9vc2Ugc3Vic2V0IG9mIHN0cmluZ3MgdG8gbWF4aW1pemUgKDEwICogayAtIHRvdGFsX3VzZWRfbGV0dGVycykKCi8vIFdlIHRyeSBhbGwgc3Vic2V0cyBpcyBpbXBvc3NpYmxlIGR1ZSB0byBjb25zdHJhaW50cwovLyBTbyB3ZSB1c2UgYSBoZXVyaXN0aWM6IGZvciBlYWNoIHN0cmluZywgY29tcHV0ZSBpdHMgY29udHJpYnV0aW9uOgovLyBGb3IgZWFjaCBzdHJpbmcgcywgY291bnQgaG93IG1hbnkgJ24nLCdhJywncicsJ2UnLCdrJyBsZXR0ZXJzIGl0IGhhczogY250X3MKLy8gRm9yIGVhY2ggc3RyaW5nLCBtYXggcG9zc2libGUgayBhZnRlciBpbmNsdWRpbmcgcyBpcyBtaW4gb2Ygc3VtcyBvZiBsZXR0ZXIgY291bnRzCi8vIFdlIHRyeSB0byBwaWNrIHN0cmluZ3MgdG8gbWF4aW1pemUgdGhlIGZvcm11bGEKCi8vIEJ1dCB0aGlzIGlzIGNvbXBsaWNhdGVkOyB3ZSB1c2UgdGhlIGZvbGxvd2luZyBhcHByb2FjaDoKLy8gRm9yIGVhY2ggc3RyaW5nLCB3ZSBjb21wdXRlIGEgdmVjdG9yIG9mIGNvdW50cyBvZiAnbicsICdhJywgJ3InLCAnZScsICdrJyBhbmQgbGVuZ3RoCi8vIFdlIHRyeSB0byBzZWxlY3Qgc3RyaW5ncyB0byBtYXhpbWl6ZSAxMCAqIGsgLSB0b3RhbF9sZW4KLy8gV2Ugd2lsbCBkbyBhIGdyZWVkeSBhcHByb2FjaDogdHJ5IGFsbCBzdWJzZXRzIGlzIGltcG9zc2libGUsIGJ1dCB3ZSBjYW4gdXNlIHRoZSBmb2xsb3dpbmcgaWRlYToKLy8gU2luY2UgdG90YWwgbGVuZ3RoIGFuZCBsZXR0ZXJzIGNvdW50IGFyZSB1cCB0byAxZTYsIHdlIGNhbiBkbyBEUCBieSBjb3VudHMgb2YgbGV0dGVycz8gVGhhdCBpcyB0b28gYmlnLgovLyBJbnN0ZWFkLCB3ZSB0cnkgdG8gc29ydCBzdHJpbmdzIGJ5IHRoZWlyICJlZmZpY2llbmN5IiBpbiB0ZXJtcyBvZiBsZXR0ZXIgY291bnRzLwovLyBCdXQgc2luY2Ugd2Ugd2FudCB0byBtYXhpbWl6ZSAxMCprIC0gdG90YWxfbGVuLCBhbmQgayA9IG1pbihjbnRzIG9mIGxldHRlcnMpLCB0aGUgYm90dGxlbmVjayBpcyB0aGUgbGV0dGVyIHdpdGggc21hbGxlc3QgdG90YWwgY291bnQuCgovLyBXZSB0cnkgYSBiaW5hcnkgc2VhcmNoIG9uIGssIGFuZCBjaGVjayBpZiB3ZSBjYW4gc2VsZWN0IGEgc3Vic2V0IG9mIHN0cmluZ3Mgd2l0aCB0b3RhbCBsZXR0ZXJzIGNvdW50cyA+PSBrIGZvciBlYWNoIGxldHRlciBhbmQgbWluaW1pemUgdG90YWwgbGVuZ3RoLgoKLy8gSW1wbGVtZW50YXRpb24gcGxhbjoKLy8gMSkgcHJlZml4IHN1bXMgb3ZlciBzb3J0ZWQgb3JkZXI/Ci8vIDIpIEluc3RlYWQsIHRyeSBhbGwgayBmcm9tIG1heCBwb3NzaWJsZSBkb3duIHRvIDAsIGFuZCBjaGVjayBpZiB3ZSBjYW4gc2VsZWN0IHN1YnNldCB3aXRoIGxldHRlciBjb3VudHMgPj0gayBmb3IgYWxsIGxldHRlcnMgYW5kIHRvdGFsIGxlbmd0aCA8PSBMPwovLyBXZSB3YW50IG1pbiB0b3RhbCBsZW5ndGggZm9yIGsuCgovLyBXZSBjYW4gZG8gRFAgb3ZlciBzdHJpbmdzOgovLyBkcFtpXVtuXVthXVtyXVtlXVtrXSB0b28gYmlnCgovLyBBbHRlcm5hdGl2ZSBwbGFuOgovLyBTaW5jZSB3ZSBvbmx5IG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUncyBhIHN1YnNldCB3aXRoIGNvdW50cyA+PSBrIGZvciBlYWNoIGxldHRlciwgd2UgY2FuIGRvIG1lZXQgaW4gdGhlIG1pZGRsZSBvciB1c2UgYSBoZXVyaXN0aWMuCgovLyBCdXQgc2luY2UgY29uc3RyYWludHMgYXJlIGxhcmdlLCB3ZSB3aWxsIGltcGxlbWVudCBhIGdyZWVkeSBoZXVyaXN0aWM6Ci8vIEZvciBlYWNoIHN0cmluZywgY2FsY3VsYXRlIGNvbnRyaWJ1dGlvbiB2ZWN0b3IgYW5kIGxlbmd0aAovLyBTb3J0IHN0cmluZ3MgYnkgKHN1bSBvZiBjb3VudHMgb2YgbmFyZWsgbGV0dGVycykgLyBsZW5ndGggZGVzY2VuZGluZwovLyBHcmVlZGlseSBhZGQgc3RyaW5ncyB1bnRpbCBtaW4gY291bnQgb2YgbGV0dGVycyA8IGsgKHdlIHRyeSBkZWNyZWFzaW5nIGsgZnJvbSBtYXggdG8gMCkKCi8vIFdlIHdpbGwgaW1wbGVtZW50IGEgYmluYXJ5IHNlYXJjaCBvbiBrIGZyb20gbWF4IHBvc3NpYmxlIHRvIDA6Ci8vIEZvciBlYWNoIGssIHdlIGNoZWNrIGlmIHN1YnNldCBleGlzdHMgd2l0aCBjb3VudHMgb2YgZWFjaCBsZXR0ZXIgPj0gayBhbmQgbWluaW1pemUgdG90YWwgbGVuZ3RoCi8vIFNpbmNlIHN1YnNldCBzdW0gcHJvYmxlbSBpcyBOUC1oYXJkLCB3ZSBzaW1wbGlmeToKLy8gV2UgZ3JlZWRpbHkgcGljayBzdHJpbmdzIHdpdGggYmVzdCByYXRpbyBvZiBjb3VudHMgdG8gbGVuZ3RoCgovLyBXZSB3aWxsIGltcGxlbWVudCBhIGJpbmFyeSBzZWFyY2ggb24gayAoZnJvbSAwIHRvIG1heCBwb3NzaWJsZSksIGFuZCBmb3IgZWFjaCBrLCB3ZSB0cnkgdG8gZmluZCBtaW5pbWFsIGxlbmd0aCBzdWJzZXQgd2l0aCBjb3VudHMgPj0gawovLyBXZSBkbyB0aGlzIGJ5IHNvcnRpbmcgc3RyaW5ncyBieSBlZmZpY2llbmN5IGFuZCBhZGRpbmcgdW50aWwgY291bnRzID49IGsKCi8vIEZpbmFsbHkgb3V0cHV0IG1heCgxMCAqIGsgLSB0b3RhbF9sZW5ndGgpCgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7IGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBtOwogICAgICAgIGNpbiA+PiBuID4+IG07CiAgICAgICAgdmVjdG9yPHN0cmluZz4gc3RyaW5ncyhuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gc3RyaW5nc1tpXTsKICAgICAgICB9CgogICAgICAgIC8vIENvdW50IHRvdGFsIGxldHRlcnMgdG8gZmluZCBtYXggawogICAgICAgIGludCB0b3RhbF9uID0gMCwgdG90YWxfYSA9IDAsIHRvdGFsX3IgPSAwLCB0b3RhbF9lID0gMCwgdG90YWxfayA9IDA7CiAgICAgICAgZm9yIChhdXRvICZzIDogc3RyaW5ncykgewogICAgICAgICAgICBmb3IgKGNoYXIgYyA6IHMpIHsKICAgICAgICAgICAgICAgIGlmIChjID09ICduJykgdG90YWxfbisrOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnYScpIHRvdGFsX2ErKzsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT0gJ3InKSB0b3RhbF9yKys7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09ICdlJykgdG90YWxfZSsrOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnaycpIHRvdGFsX2srKzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaW50IG1heF9rID0gbWluKHt0b3RhbF9uLCB0b3RhbF9hLCB0b3RhbF9yLCB0b3RhbF9lLCB0b3RhbF9rfSk7CgogICAgICAgIC8vIFByZWNvbXB1dGUgY291bnRzIGFuZCBsZW5ndGggZm9yIGVhY2ggc3RyaW5nCiAgICAgICAgc3RydWN0IEluZm8gewogICAgICAgICAgICBpbnQgY250X24gPSAwLCBjbnRfYSA9IDAsIGNudF9yID0gMCwgY250X2UgPSAwLCBjbnRfayA9IDA7CiAgICAgICAgICAgIGludCBsZW4gPSAwOwogICAgICAgIH07CiAgICAgICAgdmVjdG9yPEluZm8+IGluZm8obik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgaW5mb1tpXS5sZW4gPSBtOwogICAgICAgICAgICBmb3IgKGNoYXIgYyA6IHN0cmluZ3NbaV0pIHsKICAgICAgICAgICAgICAgIGlmIChjID09ICduJykgaW5mb1tpXS5jbnRfbisrOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnYScpIGluZm9baV0uY250X2ErKzsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT0gJ3InKSBpbmZvW2ldLmNudF9yKys7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09ICdlJykgaW5mb1tpXS5jbnRfZSsrOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnaycpIGluZm9baV0uY250X2srKzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgZnVuY3Rpb246IGZvciBnaXZlbiBrLCBjYW4gd2Ugc2VsZWN0IHN1YnNldCB3aXRoIGNvdW50cyA+PSBrIGZvciBhbGwgbGV0dGVycyB3aXRoIG1pbmltYWwgdG90YWwgbGVuZ3RoCiAgICAgICAgLy8gV2UgdHJ5IGdyZWVkeSBhcHByb2FjaDogc29ydCBzdHJpbmdzIGJ5ICJlZmZpY2llbmN5IiBvZiBwcm92aWRpbmcgbmVlZGVkIGxldHRlcnMKICAgICAgICAvLyBlZmZpY2llbmN5ID0gbnVtYmVyIG9mIGxldHRlcnMgdG93YXJkcyBrIC8gbGVuZ3RoCgogICAgICAgIGF1dG8gY2FuID0gWyZdKGludCBuZWVkKSAtPiBpbnQgewogICAgICAgICAgICAvLyBpZiBuZWVkID09IDAsIHdlIGNhbiBzZWxlY3QgZW1wdHkgc3Vic2V0IHdpdGggbGVuZ3RoIDAKICAgICAgICAgICAgaWYgKG5lZWQgPT0gMCkgcmV0dXJuIDA7CgogICAgICAgICAgICAvLyBjb21wdXRlIGNvbnRyaWJ1dGlvbiBvZiBlYWNoIHN0cmluZyB0b3dhcmRzIG5lZWQKICAgICAgICAgICAgdmVjdG9yPHR1cGxlPGRvdWJsZSwgaW50LCBpbnQ+PiBhcnI7IC8vIGVmZmljaWVuY3ksIGluZGV4LCBsZW5ndGgKICAgICAgICAgICAgLy8gZWZmaWNpZW5jeSA9IHN1bSBvZiBtaW4oY250X3gsIG5lZWQpIC8gbGVuZ3RoCiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBpbnQgY19uID0gbWluKGluZm9baV0uY250X24sIG5lZWQpOwogICAgICAgICAgICAgICAgaW50IGNfYSA9IG1pbihpbmZvW2ldLmNudF9hLCBuZWVkKTsKICAgICAgICAgICAgICAgIGludCBjX3IgPSBtaW4oaW5mb1tpXS5jbnRfciwgbmVlZCk7CiAgICAgICAgICAgICAgICBpbnQgY19lID0gbWluKGluZm9baV0uY250X2UsIG5lZWQpOwogICAgICAgICAgICAgICAgaW50IGNfayA9IG1pbihpbmZvW2ldLmNudF9rLCBuZWVkKTsKICAgICAgICAgICAgICAgIGludCBzdW1fYyA9IGNfbiArIGNfYSArIGNfciArIGNfZSArIGNfazsKICAgICAgICAgICAgICAgIGRvdWJsZSBlZmYgPSAoZG91YmxlKXN1bV9jIC8gaW5mb1tpXS5sZW47CiAgICAgICAgICAgICAgICBhcnIuZW1wbGFjZV9iYWNrKGVmZiwgaSwgaW5mb1tpXS5sZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzb3J0KGFyci5yYmVnaW4oKSwgYXJyLnJlbmQoKSk7CgogICAgICAgICAgICBpbnQgc3VtX24gPSAwLCBzdW1fYSA9IDAsIHN1bV9yID0gMCwgc3VtX2UgPSAwLCBzdW1fayA9IDA7CiAgICAgICAgICAgIGludCB0b3RhbF9sZW4gPSAwOwogICAgICAgICAgICBmb3IgKGF1dG8gJltlZmYsIGlkeCwgbGVuZ3RoXSA6IGFycikgewogICAgICAgICAgICAgICAgc3VtX24gKz0gbWluKGluZm9baWR4XS5jbnRfbiwgbmVlZCk7CiAgICAgICAgICAgICAgICBzdW1fYSArPSBtaW4oaW5mb1tpZHhdLmNudF9hLCBuZWVkKTsKICAgICAgICAgICAgICAgIHN1bV9yICs9IG1pbihpbmZvW2lkeF0uY250X3IsIG5lZWQpOwogICAgICAgICAgICAgICAgc3VtX2UgKz0gbWluKGluZm9baWR4XS5jbnRfZSwgbmVlZCk7CiAgICAgICAgICAgICAgICBzdW1fayArPSBtaW4oaW5mb1tpZHhdLmNudF9rLCBuZWVkKTsKICAgICAgICAgICAgICAgIHRvdGFsX2xlbiArPSBsZW5ndGg7CgogICAgICAgICAgICAgICAgaWYgKHN1bV9uID49IG5lZWQgJiYgc3VtX2EgPj0gbmVlZCAmJiBzdW1fciA+PSBuZWVkICYmIHN1bV9lID49IG5lZWQgJiYgc3VtX2sgPj0gbmVlZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbF9sZW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9OwoKICAgICAgICBpbnQgbGVmdCA9IDAsIHJpZ2h0ID0gbWF4X2s7CiAgICAgICAgaW50IGFucyA9IDA7CiAgICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHsKICAgICAgICAgICAgaW50IG1pZCA9IChsZWZ0ICsgcmlnaHQpIC8gMjsKICAgICAgICAgICAgaW50IHJlcyA9IGNhbihtaWQpOwogICAgICAgICAgICBpZiAocmVzID49IDApIHsKICAgICAgICAgICAgICAgIGludCB2YWwgPSAxMCAqIG1pZCAtIHJlczsKICAgICAgICAgICAgICAgIGlmICh2YWwgPiBhbnMpIGFucyA9IHZhbDsKICAgICAgICAgICAgICAgIGxlZnQgPSBtaWQgKyAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmlnaHQgPSBtaWQgLSAxOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBBbHNvIGNvbnNpZGVyIG5vdCBjaG9vc2luZyBhbnkgc3RyaW5ncyAoMCkKICAgICAgICBpZiAoYW5zIDwgMCkgYW5zID0gMDsKCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
