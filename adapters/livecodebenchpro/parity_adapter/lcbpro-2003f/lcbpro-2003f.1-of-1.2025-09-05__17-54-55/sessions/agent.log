[?2004hroot@51fa3d065bc0:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@51fa3d065bc0:/app# clear
[?2004l[H[J[3J[?2004hroot@51fa3d065bc0:/app# echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8dW5vcmRlcmVkX3NldD4KI2luY2x1ZGUgPGNsaW1pdHM+Cgp1c2luZyBuYW1lc3BhY2Ugc3RkOwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCBuLCBtOwogICAgY2luID4+IG4gPj4gbTsKICAgIHZlY3RvcjxpbnQ+IGEobiksIGIobiksIGMobik7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGFbaV07CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGJbaV07CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGNbaV07CgogICAgLy8gZHBba11baV06IG1heGltdW0gc3VtIGNob29zaW5nIGsgZWxlbWVudHMgZW5kaW5nIGF0IHBvc2l0aW9uIGkKICAgIC8vIHdpdGggc3RyaWN0bHkgbm9uLWRlY3JlYXNpbmcgYSBhbmQgZGlzdGluY3QgYgogICAgLy8gV2UnbGwgc3RvcmUgZm9yIGVhY2ggayBhIHZlY3RvciBvZiB0dXBsZXMgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZToKICAgIC8vIGIgdmFsdWVzIGNob3NlbiBzdG9yZWQgaW4gYSBiaXRtYXNrIG9yIHNldCBpcyB0b28gbGFyZ2UgZm9yIGIgdXAgdG8gbj0zMDAwLAogICAgLy8gYnV0IG0gPD0gNSwgc28gd2UgY2FuIHN0b3JlIGNob3NlbiBiIGluIGEgc21hbGwgc3RydWN0dXJlIHVzaW5nIGJhY2t0cmFja2luZy4KCiAgICAvLyBCZWNhdXNlIG0gPD0gNSwgd2UgY2FuIGRvIGJhY2t0cmFja2luZyBvdmVyIHN1YnNlcXVlbmNlcyBvZiBsZW5ndGggbS4KICAgIC8vIEJ1dCBuPTMwMDAgaXMgdG9vIGxhcmdlIGZvciBuYWl2ZSBiYWNrdHJhY2tpbmcuCgogICAgLy8gV2UnbGwgZG8gRFAgd2l0aCBzdGF0ZXM6CiAgICAvLyBkcFtrXVtpXTogbWF4aW11bSBzdW0gb2Ygc3Vic2VxdWVuY2UgbGVuZ3RoIGsgZW5kaW5nIGF0IGkKICAgIC8vIHdpdGggZGlzdGluY3QgYiB2YWx1ZXMgY2hvc2VuIHNvIGZhcgogICAgLy8gV2UgbXVzdCB0cmFjayB3aGljaCBiIGFyZSBjaG9zZW4uCgogICAgLy8gU2luY2UgbSA8PSA1LCB3ZSBjYW4gc3RvcmUgY2hvc2VuIGIgaW4gYSB2ZWN0b3IgcGVyIHN0YXRlIGFuZCBkbyBwcnVuaW5nLgogICAgLy8gQnV0IHRoYXQgY291bGQgYmUgbGFyZ2UsIHNvIHdlIGNhbiBkbyBhIERQIHdpdGggbWFwOgogICAgLy8gRm9yIGVhY2ggbGVuZ3RoIGssIHdlIHN0b3JlIGEgdmVjdG9yIG9mIHN0YXRlczoKICAgIC8vIHN0YXRlOiBsYXN0IGluZGV4IGksIGFbaV0sIGFuZCBhIGJpdHNldCBvZiBjaG9zZW4gYiBvciBhIHZlY3RvciBvZiBjaG9zZW4gYi4KCiAgICAvLyBXZSBjYW4gb3B0aW1pemUgYnkgc29ydGluZyBieSBhW2ldIGFuZCBwcm9jZXNzIGluIG9yZGVyLgoKICAgIC8vIEFwcHJvYWNoOgogICAgLy8gV2UnbGwgZG8gYSBEUCB3aXRoIGEgdmVjdG9yIG9mIHN0YXRlcyBmb3IgZWFjaCBsZW5ndGggazoKICAgIC8vIEVhY2ggc3RhdGUgc3RvcmVzIGxhc3QgaW5kZXgsIHN1bSwgYW5kIHNldCBvZiBjaG9zZW4gYi4KICAgIC8vIEJlY2F1c2UgbSBpcyBzbWFsbCwgd2UgY2FuIHN0b3JlIGNob3NlbiBiIGluIGFuIGludGVnZXIgdmVjdG9yLgoKICAgIC8vIFdlJ2xsIGltcGxlbWVudCBhIHJlY3Vyc2l2ZSBiYWNrdHJhY2tpbmcgd2l0aCBtZW1vaXphdGlvbiB0byBwcnVuZSBzdGF0ZXMuCgogICAgLy8gSG93ZXZlciwgdG8ga2VlcCBpdCB3aXRoaW4gdGltZSBsaW1pdHMsIHdlJ2xsIGltcGxlbWVudCBhIERQIHdpdGggcHJ1bmluZzoKCiAgICAvLyBMZXQncyB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2g6CiAgICAvLyBGb3IgZWFjaCBwb3NpdGlvbiBpLCBmb3IgbGVuZ3RoIGsgZnJvbSAxIHRvIG06CiAgICAvLyBXZSdsbCBrZWVwIGEgZHAgYXJyYXkgZHBba11baV0gPSBtYXhpbXVtIHN1bSBvZiBzdWJzZXF1ZW5jZSBsZW5ndGggayBlbmRpbmcgYXQgaQogICAgLy8gYW5kIGEgbWFzayBvciB2ZWN0b3Igb2YgY2hvc2VuIGIuIEJ1dCBtYXNrIGlzIGltcG9zc2libGUgc2luY2UgYiB1cCB0byAzMDAwLgoKICAgIC8vIEluc3RlYWQsIHdlIGtlZXAgZHAgYXMgbWFwIGZyb20gYSB0dXBsZSAobGFzdCBiIGNob3NlbiBzZXQpIHRvIG1heCBzdW0uCiAgICAvLyBCdXQgdGhhdCBpcyBodWdlLgoKICAgIC8vIFNpbmNlIG0gPD0gNSwgd2UgY2FuIGRvIGEgbWVldC1pbi10aGUtbWlkZGxlIGFwcHJvYWNoOgogICAgLy8gQnV0IHNpbmNlIG49MzAwMCwgdGhhdCBpcyBjb21wbGljYXRlZC4KCiAgICAvLyBBbHRlcm5hdGl2ZSBzb2x1dGlvbjoKICAgIC8vIFVzZSBEUCB3aXRoIGJpdG1hc2sgb3ZlciBjaG9zZW4gYiB2YWx1ZXMgbm90IGZlYXNpYmxlLgoKICAgIC8vIEluc3RlYWQsIHdlIGNhbiBkbyBEUCB3aXRoIHRyYW5zaXRpb25zOgogICAgLy8gZHBba11baV0gPSBtYXggb3ZlciBqIDwgaSB3aGVyZSBhW2pdIDw9IGFbaV0gYW5kIGJbal0gIT0gYltpXSBhbmQgYltpXSBub3QgdXNlZCBpbiBzdWJzZXF1ZW5jZQogICAgLy8gVGhpcyByZXF1aXJlcyBjaGVja2luZyB0aGF0IGJbaV0gaXMgZGlzdGluY3QuCgogICAgLy8gU2luY2UgbSA8PSA1LCB3ZSBjYW4gc3RvcmUgZm9yIGVhY2ggZHBba11baV0gdGhlIHNldHMgb2YgYiBjaG9zZW4uCiAgICAvLyBCdXQgdGhhdCBpcyBsYXJnZS4KCiAgICAvLyBJbnN0ZWFkLCB3ZSBpbXBsZW1lbnQgYSBEUCB3aXRoIHN0YXRlczoKICAgIC8vIEVhY2ggc3RhdGU6IGxlbmd0aCBrLCBpbmRleCBpLCBhbmQgYSB2ZWN0b3Igb2YgY2hvc2VuIGIgaW5kaWNlcy4KICAgIC8vIFdlJ2xsIGltcGxlbWVudCBhIHJlY3Vyc2l2ZSBERlMgd2l0aCBtZW1vaXphdGlvbi4KCiAgICAvLyBXZSdsbCBpbXBsZW1lbnQgYSBiYWNrdHJhY2tpbmcgd2l0aCBwcnVuaW5nOgoKICAgIC8vIFByZXByb2Nlc3Npbmc6CiAgICAvLyBGb3IgZWFjaCBpbmRleCBpLCB3ZSBjYW4gZmluZCBjYW5kaWRhdGVzIGogPCBpIHdoZXJlIGFbal0gPD0gYVtpXS4KCiAgICAvLyBUbyBzcGVlZCB1cCwgd2UgY2FuIHNvcnQgaW5kaWNlcyBieSBhW2ldLgoKICAgIC8vIFRvIHBydW5lOiBJZiBjdXJyZW50IHN1bSArIHN1bSBvZiB0b3AgcmVtYWluaW5nIGMgaXMgbGVzcyB0aGFuIGJlc3QsIHBydW5lLgoKICAgIC8vIEJlY2F1c2UgbSA8PSA1LCB0aGlzIGlzIGZlYXNpYmxlLgoKICAgIHZlY3RvcjxpbnQ+IG9yZGVyKG4pOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIG9yZGVyW2ldID0gaTsKICAgIHNvcnQob3JkZXIuYmVnaW4oKSwgb3JkZXIuZW5kKCksIFsmXShpbnQgeCwgaW50IHkpewogICAgICAgIGlmIChhW3hdICE9IGFbeV0pIHJldHVybiBhW3hdIDwgYVt5XTsKICAgICAgICByZXR1cm4geCA8IHk7CiAgICB9KTsKCiAgICBsb25nIGxvbmcgYW5zID0gLTE7CgogICAgLy8gV2UnbGwgc3RvcmUgZm9yIGVhY2ggcG9zaXRpb24gaSwgdGhlIGxpc3Qgb2YgaW5kaWNlcyBqIDwgaSB3aXRoIGFbal0gPD0gYVtpXS4KICAgIC8vIEJ1dCBzaW5jZSBvcmRlciBpcyBzb3J0ZWQgYnkgYSwgZm9yIGkgaW4gb3JkZXIsIGogPCBpIGltcGxpZXMgYVtqXSA8PSBhW2ldLgoKICAgIC8vIFdlJ2xsIGRvIERGUyB3aXRoIG1lbW9pemF0aW9uOgogICAgLy8gc3RhdGU6IGN1cnJlbnQgbGVuZ3RoLCBsYXN0IGNob3NlbiBpbmRleCBpbiBvcmRlciBhcnJheSwgc2V0IG9mIGNob3NlbiBiCgogICAgLy8gV2UnbGwgaW1wbGVtZW50IGl0ZXJhdGl2ZSBEUDoKICAgIC8vIGRwW2tdW2ldOiBtYXggc3VtIG9mIHN1YnNlcXVlbmNlIGxlbmd0aCBrIGVuZGluZyBhdCBvcmRlcltpXSB3aXRoIGNob3NlbiBiIHNldHMKICAgIC8vIGJ1dCBzZXRzIHRvbyBsYXJnZSwgc28gd2Ugc3RvcmUgZm9yIGVhY2ggZHBba11baV0gdGhlIG1heCBzdW0gZm9yIGFsbCBzZXRzIG9mIGIgd2hpY2ggaW5jbHVkZSBiW29yZGVyW2ldXQogICAgLy8gV2UnbGwga2VlcCBmb3IgZHBba11baV0gdGhlIGJlc3Qgc3VtLgoKICAgIHZlY3Rvcjx2ZWN0b3I8bG9uZyBsb25nPj4gZHAobSsxLCB2ZWN0b3I8bG9uZyBsb25nPihuLCBMTE9OR19NSU4pKTsKCiAgICAvLyBJbml0aWFsaXplIGRwWzFdW2ldID0gY1tvcmRlcltpXV0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBkcFsxXVtpXSA9IGNbb3JkZXJbaV1dOwoKICAgIGZvciAoaW50IGsgPSAyOyBrIDw9IG07IGsrKykgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIC8vIGRwW2tdW2ldID0gbWF4IG92ZXIgaiA8IGkgd2l0aCBhW29yZGVyW2pdXSA8PSBhW29yZGVyW2ldXSBhbmQgYltvcmRlcltqXV0gIT0gYltvcmRlcltpXV0gYW5kIGRwW2stMV1bal0gIT0gTExPTkdfTUlOCiAgICAgICAgICAgIGludCBiaSA9IGJbb3JkZXJbaV1dOwogICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IGk7IGorKykgewogICAgICAgICAgICAgICAgaW50IGJqID0gYltvcmRlcltqXV07CiAgICAgICAgICAgICAgICBpZiAoYmogPT0gYmkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaWYgKGFbb3JkZXJbal1dID4gYVtvcmRlcltpXV0pIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaWYgKGRwW2stMV1bal0gPT0gTExPTkdfTUlOKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGRwW2tdW2ldID0gbWF4KGRwW2tdW2ldLCBkcFtrLTFdW2pdICsgY1tvcmRlcltpXV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgaWYgKGRwW21dW2ldID4gYW5zKSBhbnMgPSBkcFttXVtpXTsKICAgIH0KCiAgICBjb3V0IDw8IChhbnMgPT0gTExPTkdfTUlOID8gLTEgOiBhbnMpIDw8ICJcbiI7CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@51fa3d065bc0:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@51fa3d065bc0:/app# 