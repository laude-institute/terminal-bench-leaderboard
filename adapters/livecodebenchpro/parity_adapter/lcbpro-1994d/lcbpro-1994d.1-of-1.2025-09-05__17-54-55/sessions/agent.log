[?2004hroot@ce2023594911:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@ce2023594911:/app# clear
[?2004l[H[J[3J[?2004hroot@ce2023594911:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUodC0tKSB7CiAgICAgICAgaW50IG47CiAgICAgICAgY2luID4+IG47CiAgICAgICAgdmVjdG9yPGludD4gYShuKzEpOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgY2luID4+IGFbaV07CgogICAgICAgIC8vIFRoZSBpZGVhIGlzIHRvIHRyeSB0byBidWlsZCBlZGdlcyBmb3IgZWFjaCBvcGVyYXRpb24geCA9IDEgdG8gbi0xCiAgICAgICAgLy8gRm9yIG9wZXJhdGlvbiB4LCB3ZSBuZWVkIHRvIGFkZCBhbiBlZGdlIGJldHdlZW4gdSBhbmQgdiB3aGVyZSB8YV91IC0gYV92fCBpcyBkaXZpc2libGUgYnkgeAogICAgICAgIC8vIFdlIHdhbnQgdG8gYnVpbGQgYSBjb25uZWN0ZWQgZ3JhcGggd2l0aCBuLTEgZWRnZXMsIG9uZSBwZXIgb3BlcmF0aW9uCgogICAgICAgIC8vIEFwcHJvYWNoOgogICAgICAgIC8vIEZvciBlYWNoIG9wZXJhdGlvbiB4IGZyb20gMSB0byBuLTEsIHRyeSB0byBmaW5kIGEgcGFpciAodSx2KSB3aXRoIHUgIT0gdiBzdWNoIHRoYXQKICAgICAgICAvLyB8YV91IC0gYV92fCAlIHggPT0gMCBhbmQgZWRnZSAodSx2KSBpcyBub3QgdXNlZCB5ZXQuCiAgICAgICAgLy8gQnV0IHRoaXMgaXMgY29tcGxleCB0byBpbXBsZW1lbnQgZGlyZWN0bHkuCgogICAgICAgIC8vIEluc3RlYWQsIHdlIHJlbHkgb24gYSBjb25zdHJ1Y3RpdmUgYXBwcm9hY2g6CiAgICAgICAgLy8gSWYgd2UgZml4IHZlcnRleCAxIGFzIHRoZSByb290LCB0cnkgdG8gY29ubmVjdCBhbGwgb3RoZXIgdmVydGljZXMgdG8gdmVydGV4IDEKICAgICAgICAvLyBpZiBmb3IgZWFjaCB4IHRoZXJlIGlzIGFuIGVkZ2UgKHUsdikgdGhhdCBzYXRpc2ZpZXMgdGhlIGNvbmRpdGlvbi4KCiAgICAgICAgLy8gV2UgdHJ5IHRvIGJ1aWxkIHRoZSBlZGdlcyBpbiBvcmRlciAxIHRvIG4tMToKICAgICAgICAvLyBGb3IgZWFjaCB4LCBmaW5kIGEgdmVydGV4IHYgKDIgPD0gdiA8PSBuKSBzdWNoIHRoYXQgfGFfMSAtIGFfdnwgJSB4ID09IDAgYW5kIGVkZ2UgKDEsdikgaXMgbm90IHVzZWQuCiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCB2ZXJ0aWNlcyBhcmUgY29ubmVjdGVkLgoKICAgICAgICAvLyBJZiBhdCB0aGUgZW5kIHdlIGhhdmUgbi0xIGVkZ2VzLCBvdXRwdXQgIllFUyIgYW5kIHRoZSBlZGdlcy4KICAgICAgICAvLyBFbHNlIG91dHB1dCAiTk8iLgoKICAgICAgICB2ZWN0b3I8Ym9vbD4gY29ubmVjdGVkKG4rMSwgZmFsc2UpOwogICAgICAgIGNvbm5lY3RlZFsxXSA9IHRydWU7CiAgICAgICAgdmVjdG9yPHBhaXI8aW50LGludD4+IGVkZ2VzOwoKICAgICAgICB2ZWN0b3I8Ym9vbD4gdXNlZChuKzEsIGZhbHNlKTsgLy8gdG8gbWFyayB3aGljaCB2ZXJ0aWNlcyBhcmUgY29ubmVjdGVkCiAgICAgICAgdXNlZFsxXSA9IHRydWU7CgogICAgICAgIC8vIFdlIHdpbGwgdHJ5IHRvIGNvbm5lY3Qgb25lIHZlcnRleCBwZXIgb3BlcmF0aW9uIHgKICAgICAgICAvLyBCdXQgd2UgbXVzdCBlbnN1cmUgbm8gZHVwbGljYXRlIGVkZ2VzCgogICAgICAgIGZvciAoaW50IHggPSAxOyB4IDw9IG4tMTsgeCsrKSB7CiAgICAgICAgICAgIGJvb2wgZm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgZm9yIChpbnQgdiA9IDI7IHYgPD0gbjsgdisrKSB7CiAgICAgICAgICAgICAgICBpZiAoIXVzZWRbdl0gJiYgYWJzKGFbMV0gLSBhW3ZdKSAlIHggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIGVkZ2VzLmVtcGxhY2VfYmFjayh2LCAxKTsKICAgICAgICAgICAgICAgICAgICB1c2VkW3ZdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgICAgICAgLy8gTm8gc3VpdGFibGUgdmVydGV4IGZvdW5kIGZvciBvcGVyYXRpb24geAogICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbm5lY3QgYW1vbmcgYWxyZWFkeSBjb25uZWN0ZWQgdmVydGljZXM/CiAgICAgICAgICAgICAgICAvLyBCdXQgdGhhdCB3b3VsZCBjcmVhdGUgY3ljbGUgb3IgZHVwbGljYXRlIGVkZ2VzCiAgICAgICAgICAgICAgICAvLyBTbyBzb2x1dGlvbiBpbXBvc3NpYmxlCiAgICAgICAgICAgICAgICBlZGdlcy5jbGVhcigpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgoaW50KWVkZ2VzLnNpemUoKSAhPSBuLTEpIHsKICAgICAgICAgICAgY291dCA8PCAiTm8iIDw8ICdcbic7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY291dCA8PCAiWWVzIiA8PCAnXG4nOwogICAgICAgICAgICBmb3IgKGF1dG8mIGUgOiBlZGdlcykgewogICAgICAgICAgICAgICAgY291dCA8PCBlLmZpcnN0IDw8ICcgJyA8PCBlLnNlY29uZCA8PCAnXG4nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@ce2023594911:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@ce2023594911:/app# 