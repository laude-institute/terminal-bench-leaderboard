['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47IGNpbiA+PiBuOwogICAgICAgIHZlY3RvcjxpbnQ+IGEobiksIGIobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIGNpbiA+PiBhW2ldOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gYltpXTsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIGEgYW5kIGIgcmV2ZXJzZSBvZiBlYWNoIG90aGVyIGJ5IGF0IG1vc3QgbiBzd2FwcyBvZiB0aGUgZm9ybToKICAgICAgICAvLyBzd2FwIGFbaV0sIGFbal0gYW5kIHN3YXAgYltpXSwgYltqXSBzaW11bHRhbmVvdXNseS4KCiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBwb3NzaWJsZToKICAgICAgICAvLyBJZiBiIHJldmVyc2VkIGVxdWFscyB0byBhIGFmdGVyIHNvbWUgc3dhcHMsIHRoZW4gYVtpXSA9IGJbbi0xLWldIGZvciBhbGwgaS4KICAgICAgICAvLyBUaGUgc3dhcHMgc3dhcCBwYWlycyBvZiBlbGVtZW50cyBhdCBpIGFuZCBqIHNpbXVsdGFuZW91c2x5IGluIGJvdGggYXJyYXlzLgoKICAgICAgICAvLyBBcHByb2FjaDoKICAgICAgICAvLyBFYWNoIHN3YXAgZXhjaGFuZ2VzIHBhaXJzIChhW2ldLGJbaV0pIGFuZCAoYVtqXSxiW2pdKS4KICAgICAgICAvLyBXZSB3YW50IHRvIHJlYXJyYW5nZSB0aGUgcGFpcnMgKGFbaV0sIGJbaV0pIHNvIHRoYXQgZm9yIGFsbCBpOgogICAgICAgIC8vIGFbaV0gPT0gYltuLTEtaV0uCgogICAgICAgIC8vIExldCdzIGNvbnNpZGVyIHBhaXJzIHBbaV0gPSAoYVtpXSwgYltpXSkuIEFmdGVyIHN3YXBwaW5nIGluZGljZXMgaSBhbmQgaiwKICAgICAgICAvLyBwW2ldIGFuZCBwW2pdIHN3YXAgcGxhY2VzLgoKICAgICAgICAvLyBTbyB3ZSB3YW50IHRvIHBlcm11dGUgcCB0byBhY2hpZXZlIGFbaV0gPT0gYltuLTEtaV0uCiAgICAgICAgLy8gVGhhdCBtZWFucyBwW2ldLmZpcnN0ID09IHBbbi0xLWldLnNlY29uZC4KCiAgICAgICAgLy8gV2UnbGwgY2hlY2sgaWYgdGhlIHBhaXJzIGNhbiBiZSByZWFycmFuZ2VkIHNvIHRoYXQgcFtpXS5maXJzdCA9PSBwW24tMS1pXS5zZWNvbmQKICAgICAgICAvLyBieSBzd2FwcGluZyBwYWlycyBwW2ldLCBwW2pdLgoKICAgICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgbXVsdGlzZXQgb2YgZmlyc3QgZWxlbWVudHMgZXF1YWxzIG11bHRpc2V0IG9mIHNlY29uZCBlbGVtZW50cyAodGhleSBhcmUgcGVybXV0YXRpb25zLCBzbyB5ZXMpLgoKICAgICAgICAvLyBXZSdsbCBhdHRlbXB0IHRvIHJlYXJyYW5nZSBwIHRvIHNhdGlzZnkgY29uZGl0aW9uczoKICAgICAgICAvLyBGb3IgaSBpbiBbMC4uKG4tMSkvMl06CiAgICAgICAgLy8gcFtpXS5maXJzdCA9PSBwW24tMS1pXS5zZWNvbmQKCiAgICAgICAgLy8gSWYgbiBpcyBvZGQsIHBbbWlkXS5maXJzdCA9PSBwW21pZF0uc2Vjb25kIG11c3QgaG9sZC4KCiAgICAgICAgLy8gU3RyYXRlZ3k6CiAgICAgICAgLy8gV2UnbGwgcGxhY2UgcGFpcnMgc28gdGhhdCBwW2ldLmZpcnN0ID09IHBbbi0xLWldLnNlY29uZCBieSBzd2FwcGluZyBwYWlycy4KCiAgICAgICAgLy8gV2UgY2FuIHRyeSB0byBhc3NpZ24gcGFpcnMgdG8gcG9zaXRpb25zIGkgd2l0aCBwW2ldLmZpcnN0ID0geCBhbmQgcG9zaXRpb24gbi0xLWkgd2l0aCBwW24tMS1pXS5zZWNvbmQgPSB4LgoKICAgICAgICAvLyBUbyBkbyB0aGlzLCB3ZSBtYXAgZnJvbSBmaXJzdCB0byBpbmRpY2VzIGFuZCBmcm9tIHNlY29uZCB0byBpbmRpY2VzLgoKICAgICAgICAvLyBXZSdsbCBidWlsZCBhIHBvc2l0aW9uIGFycmF5IGFuZCBzd2FwIHBhaXJzIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgY29uZGl0aW9uLgoKICAgICAgICB2ZWN0b3I8cGFpcjxpbnQsaW50Pj4gcChuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgcFtpXSA9IHthW2ldLCBiW2ldfTsKCiAgICAgICAgLy8gV2UnbGwgY3JlYXRlIGEgbWFwIGZyb20gKGZpcnN0IHZhbHVlKSB0byBpbmRpY2VzIHdoZXJlIHBbaV0uZmlyc3QgPT0gdmFsCiAgICAgICAgdW5vcmRlcmVkX21hcDxpbnQsIGRlcXVlPGludD4+IHBvc19maXJzdDsKICAgICAgICB1bm9yZGVyZWRfbWFwPGludCwgZGVxdWU8aW50Pj4gcG9zX3NlY29uZDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBwb3NfZmlyc3RbcFtpXS5maXJzdF0ucHVzaF9iYWNrKGkpOwogICAgICAgICAgICBwb3Nfc2Vjb25kW3BbaV0uc2Vjb25kXS5wdXNoX2JhY2soaSk7CiAgICAgICAgfQoKICAgICAgICB2ZWN0b3I8aW50PiBwb3MobiwgLTEpOyAvLyBwb3NbaV0gPSBpbmRleCBpbiBvcmlnaW5hbCBwIGFzc2lnbmVkIHRvIHBvc2l0aW9uIGkKICAgICAgICB2ZWN0b3I8Ym9vbD4gdXNlZChuLCBmYWxzZSk7CgogICAgICAgIC8vIFdlJ2xsIGFzc2lnbiBwYWlycyB0byBwb3NpdGlvbnMgMC4ubi0xIHNhdGlzZnlpbmcgcFtwb3NbaV1dLmZpcnN0ID09IHBbcG9zW24tMS1pXV0uc2Vjb25kCgogICAgICAgIC8vIFdlJ2xsIGFzc2lnbiBwb3NpdGlvbnMgaW4gcGFpcnMgZnJvbSBvdXRzaWRlLWluCgogICAgICAgIGJvb2wgcG9zc2libGUgPSB0cnVlOwoKICAgICAgICAvLyBJZiBuIGlzIG9kZCwgdGhlIG1pZGRsZSBlbGVtZW50IG11c3Qgc2F0aXNmeSBwW3Bvc1ttaWRdXS5maXJzdCA9PSBwW3Bvc1ttaWRdXS5zZWNvbmQKICAgICAgICBpbnQgbWlkID0gbiAvIDI7CgogICAgICAgIC8vIFdlJ2xsIGNyZWF0ZSBhbiBhcnJheSB0byBzdG9yZSBhc3NpZ25lZCBpbmRpY2VzCiAgICAgICAgdmVjdG9yPGludD4gYXNzaWduZWQobiwgLTEpOwoKICAgICAgICAvLyBUbyBzb2x2ZSB0aGUgcHJvYmxlbSBlZmZpY2llbnRseSwgd2UgY2FuIHVzZSBhIGdyZWVkeSBhcHByb2FjaDoKICAgICAgICAvLyBGb3IgaSBpbiBbMC4ubWlkIC0gMV0sIHdlIHdhbnQgdG8gYXNzaWduIHBhaXIgaW5kaWNlcyBpMSBhbmQgajEgc3VjaCB0aGF0OgogICAgICAgIC8vIHBbaTFdLmZpcnN0ID0geCwgcFtqMV0uc2Vjb25kID0geCwgYW5kIGkxICE9IGoxCiAgICAgICAgLy8gYW5kIGFzc2lnbiBhc3NpZ25lZFtpXSA9IGkxLCBhc3NpZ25lZFtuLTEtaV0gPSBqMQoKICAgICAgICAvLyBGb3IgbWlkZGxlIGVsZW1lbnQgaWYgb2RkLCBmaW5kIGEgcGFpciB3aXRoIHBbaV0uZmlyc3QgPT0gcFtpXS5zZWNvbmQKCiAgICAgICAgLy8gV2UnbGwgbWFpbnRhaW4gYXZhaWxhYmlsaXR5IG9mIHBhaXJzLgoKICAgICAgICB2ZWN0b3I8Ym9vbD4gdXNlZF9wYWlyKG4sIGZhbHNlKTsKCiAgICAgICAgLy8gRm9yIHRoZSBtaWRkbGUgZWxlbWVudCBpZiBuIG9kZAogICAgICAgIGlmIChuICUgMiA9PSAxKSB7CiAgICAgICAgICAgIGJvb2wgZm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICghdXNlZF9wYWlyW2ldICYmIHBbaV0uZmlyc3QgPT0gcFtpXS5zZWNvbmQpIHsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZFttaWRdID0gaTsKICAgICAgICAgICAgICAgICAgICB1c2VkX3BhaXJbaV0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICAgICAgICBwb3NzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocG9zc2libGUpIHsKICAgICAgICAgICAgLy8gRm9yIGkgaW4gMC4ubWlkLTEKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuIC8gMiAmJiBwb3NzaWJsZTsgaSsrKSB7CiAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgcGFpcnMgaTEgYW5kIGoxICh1bnVzZWQpIHdpdGggcFtpMV0uZmlyc3QgPT0gcFtqMV0uc2Vjb25kCiAgICAgICAgICAgICAgICAvLyBhbmQgYXNzaWduIGFzc2lnbmVkW2ldID0gaTEsIGFzc2lnbmVkW24tMS1pXSA9IGoxCgogICAgICAgICAgICAgICAgLy8gV2UnbGwgdHJ5IGFsbCB1bnVzZWQgcGFpcnMgaTEKICAgICAgICAgICAgICAgIGJvb2wgZm91bmRfcGFpciA9IGZhbHNlOwogICAgICAgICAgICAgICAgZm9yIChpbnQgaTEgPSAwOyBpMSA8IG47IGkxKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlZF9wYWlyW2kxXSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaW50IHggPSBwW2kxXS5maXJzdDsKICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHVudXNlZCBqMSB3aXRoIHBbajFdLnNlY29uZCA9PSB4CiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgajEgPSAwOyBqMSA8IG47IGoxKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZWRfcGFpcltqMV0pIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocFtqMV0uc2Vjb25kID09IHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdCBzYW1lIGluZGV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaTEgIT0gajEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZFtpXSA9IGkxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkW24gLSAxIC0gaV0gPSBqMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkX3BhaXJbaTFdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkX3BhaXJbajFdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZF9wYWlyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRfcGFpcikgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kX3BhaXIpIHsKICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXBvc3NpYmxlKSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICAvLyBOb3cgYXNzaWduZWQgYXJyYXkgZ2l2ZXMgdGhlIGluZGljZXMgb2YgcGFpcnMgaW4gcCBhc3NpZ25lZCB0byBwb3NpdGlvbnMgMC4ubi0xCiAgICAgICAgLy8gV2Ugd2FudCB0byBnZXQgZnJvbSBwIG9yaWdpbmFsIG9yZGVyIHRvIGFzc2lnbmVkIG9yZGVyIGJ5IHN3YXBwaW5nIHBhaXJzCgogICAgICAgIC8vIEVhY2ggc3dhcCBzd2FwcyBwW2ldIGFuZCBwW2pdCgogICAgICAgIC8vIFdlJ2xsIGZpbmQgYSBzZXF1ZW5jZSBvZiBzd2FwcyB0byB0cmFuc2Zvcm0gaWRlbnRpdHkgcGVybXV0YXRpb24gdG8gYXNzaWduZWQgcGVybXV0YXRpb24KCiAgICAgICAgdmVjdG9yPGludD4gcG9zX2ludihuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgcG9zX2ludlthc3NpZ25lZFtpXV0gPSBpOwoKICAgICAgICB2ZWN0b3I8Ym9vbD4gZG9uZShuLCBmYWxzZSk7CiAgICAgICAgdmVjdG9yPHBhaXI8aW50LGludD4+IG9wczsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRvbmVbaV0gfHwgcG9zX2ludltpXSA9PSBpKSB7CiAgICAgICAgICAgICAgICBkb25lW2ldID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBjeWNsZQogICAgICAgICAgICBpbnQgY3VyID0gaTsKICAgICAgICAgICAgd2hpbGUgKCFkb25lW2N1cl0pIHsKICAgICAgICAgICAgICAgIGludCBueHQgPSBwb3NfaW52W2N1cl07CiAgICAgICAgICAgICAgICBpZiAoY3VyICE9IG54dCkgewogICAgICAgICAgICAgICAgICAgIC8vIHN3YXAgcGFpcnMgYXQgcG9zaXRpb25zIGN1ciBhbmQgbnh0CiAgICAgICAgICAgICAgICAgICAgb3BzLmVtcGxhY2VfYmFjayhjdXIgKyAxLCBueHQgKyAxKTsKICAgICAgICAgICAgICAgICAgICBzd2FwKHBvc19pbnZbY3VyXSwgcG9zX2ludltueHRdKTsKICAgICAgICAgICAgICAgICAgICBzd2FwKGFzc2lnbmVkW2N1cl0sIGFzc2lnbmVkW254dF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9uZVtjdXJdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGN1ciA9IG54dDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKChpbnQpb3BzLnNpemUoKSA+IG4pIHsKICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG4gc3dhcHMgbm90IGFsbG93ZWQKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAiXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgKGludClvcHMuc2l6ZSgpIDw8ICJcbiI7CiAgICAgICAgZm9yIChhdXRvICZvcCA6IG9wcykgewogICAgICAgICAgICBjb3V0IDw8IG9wLmZpcnN0IDw8ICIgIiA8PCBvcC5zZWNvbmQgPDwgIlxuIjsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
