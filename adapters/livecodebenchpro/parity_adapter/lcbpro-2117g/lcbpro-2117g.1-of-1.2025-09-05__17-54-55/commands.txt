['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgpzdHJ1Y3QgRWRnZSB7CiAgICBpbnQgdG87CiAgICBpbnQgdzsKfTsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwoKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbTsKICAgICAgICBjaW4gPj4gbiA+PiBtOwoKICAgICAgICB2ZWN0b3I8dmVjdG9yPEVkZ2U+PiBhZGoobiArIDEpOwogICAgICAgIHZlY3RvcjxpbnQ+IHdlaWdodHM7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbTsgaSsrKSB7CiAgICAgICAgICAgIGludCB1LCB2LCB3OwogICAgICAgICAgICBjaW4gPj4gdSA+PiB2ID4+IHc7CiAgICAgICAgICAgIGFkalt1XS5wdXNoX2JhY2soe3YsIHd9KTsKICAgICAgICAgICAgYWRqW3ZdLnB1c2hfYmFjayh7dSwgd30pOwogICAgICAgICAgICB3ZWlnaHRzLnB1c2hfYmFjayh3KTsKICAgICAgICB9CgogICAgICAgIC8vIFNvcnQgYW5kIHVuaXF1ZSB3ZWlnaHRzCiAgICAgICAgc29ydCh3ZWlnaHRzLmJlZ2luKCksIHdlaWdodHMuZW5kKCkpOwogICAgICAgIHdlaWdodHMuZXJhc2UodW5pcXVlKHdlaWdodHMuYmVnaW4oKSwgd2VpZ2h0cy5lbmQoKSksIHdlaWdodHMuZW5kKCkpOwoKICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgdGhlIG1pbmltYWwgY29zdCA9IG1pbl97bWluX3cgaW4gd2VpZ2h0c30gKG1pbl93ICsgbWF4X3cpIHdoZXJlIHRoZXJlIGlzIGEgcGF0aCAxLT5uCiAgICAgICAgLy8gd2l0aCBhbGwgZWRnZXMgd2VpZ2h0cyBpbiBbbWluX3csIG1heF93XS4gV2UnbGwgYmluYXJ5IHNlYXJjaCBtYXhfdyBmb3IgZWFjaCBtaW5fdy4KCiAgICAgICAgaW50IGFucyA9IElOVF9NQVg7CgogICAgICAgIC8vIEZvciBlYWNoIHBvc3NpYmxlIG1pbl93LCBiaW5hcnkgc2VhcmNoIGZvciBtaW5pbWFsIG1heF93ID49IG1pbl93CgogICAgICAgIC8vIFdlIGNhbiBkbyBhIHR3byBwb2ludGVyIGFwcHJvYWNoOgogICAgICAgIC8vIFNvcnQgd2VpZ2h0cyBhc2NlbmRpbmcuCiAgICAgICAgLy8gRm9yIGVhY2ggaSBmcm9tIDAgdG8gbGVuLTEgKG1pbl93ID0gd2VpZ2h0c1tpXSkgbW92ZSBqIGZyb20gcHJldmlvdXMgcG9zaXRpb24gdG8gbGVuLTEgKG1heF93ID0gd2VpZ2h0c1tqXSkKICAgICAgICAvLyBhbmQgY2hlY2sgaWYgcGF0aCBmcm9tIDEgdG8gbiBleGlzdHMgdXNpbmcgZWRnZXMgd2l0aCB3ZWlnaHQgaW4gW3dlaWdodHNbaV0sIHdlaWdodHNbal1dLgogICAgICAgIAogICAgICAgIGludCBqID0gMDsKCiAgICAgICAgLy8gUHJlLXNvcnQgZWRnZXMgYnkgd2VpZ2h0IGlzIG5vdCBuZWNlc3NhcnksIHdlIHdpbGwganVzdCBjaGVjayBpbiBhZGouCgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgKGludCl3ZWlnaHRzLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGludCBsb3cgPSB3ZWlnaHRzW2ldOwogICAgICAgICAgICBpZiAoaiA8IGkpIGogPSBpOwoKICAgICAgICAgICAgLy8gTW92ZSBqIHVwIHdoaWxlIG5vIHBhdGggZnJvbSAxIHRvIG4KICAgICAgICAgICAgd2hpbGUgKGogPCAoaW50KXdlaWdodHMuc2l6ZSgpKSB7CiAgICAgICAgICAgICAgICBpbnQgaGlnaCA9IHdlaWdodHNbal07CgogICAgICAgICAgICAgICAgLy8gQkZTIG9yIERGUyB0byBjaGVjayBjb25uZWN0aXZpdHkgZnJvbSAxIHRvIG4gd2l0aCBlZGdlcyB3ZWlnaHQgaW4gW2xvdywgaGlnaF0KICAgICAgICAgICAgICAgIHZlY3Rvcjxib29sPiB2aXNpdGVkKG4gKyAxLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBxdWV1ZTxpbnQ+IHE7CiAgICAgICAgICAgICAgICBxLnB1c2goMSk7CiAgICAgICAgICAgICAgICB2aXNpdGVkWzFdID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICB3aGlsZSAoIXEuZW1wdHkoKSkgewogICAgICAgICAgICAgICAgICAgIGludCB1ID0gcS5mcm9udCgpOyBxLnBvcCgpOwogICAgICAgICAgICAgICAgICAgIGZvciAoYXV0byAmZSA6IGFkalt1XSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWRbZS50b10gJiYgZS53ID49IGxvdyAmJiBlLncgPD0gaGlnaCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtlLnRvXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLnB1c2goZS50byk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHZpc2l0ZWRbbl0pIHsKICAgICAgICAgICAgICAgICAgICBhbnMgPSBtaW4oYW5zLCBsb3cgKyBoaWdoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChqID09IChpbnQpd2VpZ2h0cy5zaXplKCkpIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
