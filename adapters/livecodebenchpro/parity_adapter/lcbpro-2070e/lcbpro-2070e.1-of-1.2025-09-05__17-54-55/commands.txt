['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgbjsKICAgIGNpbiA+PiBuOwogICAgc3RyaW5nIHM7CiAgICBjaW4gPj4gczsKCiAgICAvLyBXZSB3YW50IHRvIGNvdW50IHRoZSBudW1iZXIgb2Ygc3Vic3RyaW5ncyB3aGVyZSBmaXJzdCBwbGF5ZXIgd2lucy4KICAgIC8vIFRoZSBnYW1lIHJ1bGVzOgogICAgLy8gRmlyc3QgcGxheWVyIHJlbW92ZXMgdHdvIGFkamFjZW50IHplcm9zLgogICAgLy8gU2Vjb25kIHBsYXllciByZW1vdmVzIHR3byBhZGphY2VudCBjaGFycyB3aXRoIGF0IGxlYXN0IG9uZSAxLgogICAgLy8gQWRqYWNlbnQgbWVhbnMgY2lyY3VsYXIuCiAgICAvLyBJZiBubyB2YWxpZCBtb3ZlLCBjdXJyZW50IHBsYXllciBsb3Nlcy4KICAgIAogICAgLy8gT2JzZXJ2YXRpb246CiAgICAvLyBUaGUgZ2FtZSBpcyBvbiBjaXJjdWxhciBzdWJzdHJpbmcsIGJ1dCBzdWJzdHJpbmcgaXMgbGluZWFyIHNlZ21lbnQsIHNvIGFkamFjZW5jeSBpcyBsaW5lYXIuCiAgICAvLyBUaGUgcHJvYmxlbSBzdGF0ZXMgYWRqYWNlbmN5IGluY2x1ZGVzIGZpcnN0IGFuZCBsYXN0IGNoYXJzIGFzIGFkamFjZW50LgogICAgLy8gQnV0IHRoZSBzdWJzdHJpbmcgaXMgY29udGlndW91cywgc28gYWRqYWNlbmN5IGlzIGNpcmN1bGFyIG9uIHRoZSBzdWJzdHJpbmcuCiAgICAKICAgIC8vIExldCdzIGRlZmluZSB0aGUgc3Vic3RyaW5nIGFuZCBkZXRlcm1pbmUgdGhlIHdpbm5lci4KICAgIC8vIFdlIG5lZWQgdG8gY291bnQgYWxsIHN1YnN0cmluZ3MgW2wscl0gMS1iYXNlZCB3aGVyZSBmaXJzdCBwbGF5ZXIgd2lucy4KCiAgICAvLyBMZXQncyBhbmFseXplIHRoZSBnYW1lOgogICAgLy8gUGxheWVycyBhbHRlcm5hdGUgbW92ZXM6CiAgICAvLyBGaXJzdCBwbGF5ZXIgcmVtb3ZlcyB0d28gemVyb3MgYWRqYWNlbnQgY2lyY3VsYXJseS4KICAgIC8vIFNlY29uZCBwbGF5ZXIgcmVtb3ZlcyB0d28gY2hhcnMgYWRqYWNlbnQgY2lyY3VsYXJseSB3aXRoIGF0IGxlYXN0IG9uZSAxLgogICAgCiAgICAvLyBJZiBzdWJzdHJpbmcgbGVuZ3RoIDwgMiwgZmlyc3QgcGxheWVyIGxvc2VzIGltbWVkaWF0ZWx5LgogICAgCiAgICAvLyBLZXkgaWRlYToKICAgIC8vIFRoZSBnYW1lIGNhbiBiZSBzZWVuIGFzIGEgc3RyaW5nIG9mIGxlbmd0aCBtIChyLWwrMSksIGNpcmN1bGFyIGFkamFjZW5jeS4KICAgIC8vIE1vdmVzIHJlbW92ZSBwYWlycyBvZiBjaGFycywgc28gdGhlIGdhbWUgbGVuZ3RoIHJlZHVjZXMgYnkgMiBwZXIgbW92ZS4KICAgIAogICAgLy8gTGV0J3MgY2hhcmFjdGVyaXplIGFsbCBzdWJzdHJpbmdzOgogICAgLy8gSWYgc3Vic3RyaW5nIGhhcyBubyBwYWlyIG9mIHR3byBhZGphY2VudCB6ZXJvcyAoY2lyY3VsYXIpLCBmaXJzdCBwbGF5ZXIgY2FuJ3QgbW92ZSBmaXJzdCB0dXJuLgogICAgLy8gU28gZmlyc3QgcGxheWVyIGxvc2VzIGltbWVkaWF0ZWx5LgogICAgCiAgICAvLyBJZiBzdWJzdHJpbmcgaGFzIGF0IGxlYXN0IG9uZSBwYWlyIG9mIGFkamFjZW50IHplcm9zOgogICAgLy8gRmlyc3QgcGxheWVyIGNhbiBtYWtlIGEgbW92ZS4KICAgIAogICAgLy8gTGV0J3MgZGVmaW5lOgogICAgLy8gYSA9IG51bWJlciBvZiBwYWlycyBvZiBhZGphY2VudCB6ZXJvcyAoY2lyY3VsYXIpCiAgICAvLyBiID0gbnVtYmVyIG9mIHBhaXJzIG9mIGFkamFjZW50IHdpdGggYXQgbGVhc3Qgb25lIDEgKGNpcmN1bGFyKQogICAgCiAgICAvLyBPbiBmaXJzdCBwbGF5ZXIncyB0dXJuLCBoZSBtdXN0IHJlbW92ZSBhIHplcm8temVybyBwYWlyLgogICAgLy8gT24gc2Vjb25kIHBsYXllcidzIHR1cm4sIGhlIG11c3QgcmVtb3ZlIGEgcGFpciB3aXRoIGF0IGxlYXN0IG9uZSAxLgogICAgCiAgICAvLyBUaGUgZ2FtZSBlbmRzIHdoZW4gbm8gdmFsaWQgbW92ZSBmb3IgY3VycmVudCBwbGF5ZXIuCiAgICAKICAgIC8vIExldCdzIGNvbnNpZGVyIHRoZSBudW1iZXIgb2YgemVyby16ZXJvIHBhaXJzIGluIHRoZSBzdWJzdHJpbmcuCgogICAgLy8gTGV0J3MgaW1wbGVtZW50IGEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgY291bnRzIHplcm8temVybyBwYWlycyBpbiBzdWJzdHJpbmcgY2lyY3VsYXJseS4KICAgIC8vIEFuZCBhbHNvIGNoZWNrIGlmIHRoZSBzdWJzdHJpbmcgbGVuZ3RoID49IDIuCgogICAgLy8gQnV0IHdlIG11c3QgZG8gdGhpcyBmb3IgYWxsIHN1YnN0cmluZ3MgZWZmaWNpZW50bHkuCgogICAgLy8gQmVjYXVzZSBuIGNhbiBiZSB1cCB0byAzKjEwXjUsIE8obl4yKSBzb2x1dGlvbnMgYXJlIGltcG9zc2libGUuCiAgICAKICAgIC8vIExldCdzIGZpbmQgYSBmb3JtdWxhIG9yIGFwcHJvYWNoIHRvIGNvdW50IHRoZSBzdWJzdHJpbmdzIHdoZXJlIGZpcnN0IHBsYXllciB3aW5zLgoKICAgIC8vIExldCdzIGFuYWx5emUgdGhlIGdhbWUgb3V0Y29tZSBiYXNlZCBvbiB0aGVzZSBmYWN0czoKICAgIC8vIEZpcnN0IHBsYXllciBjYW4gbW92ZSBpZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgemVyby16ZXJvIHBhaXIuCiAgICAvLyBTZWNvbmQgcGxheWVyIGNhbiBtb3ZlIGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwYWlyIHdpdGggYXQgbGVhc3Qgb25lIDEuCgogICAgLy8gVGhlIG1vdmVzIHJlZHVjZSB0aGUgc3Vic3RyaW5nIGxlbmd0aCBieSAyIGVhY2guCiAgICAKICAgIC8vIExldCdzIGNvbnNpZGVyIHRoZSBzdWJzdHJpbmcgYXMgYSBjaXJjdWxhciBzdHJpbmcuCiAgICAKICAgIC8vIExldCdzIGFuYWx5emUgdGhlIGdhbWUgc3RhdGU6CiAgICAvLyBXZSBjYW4gbW9kZWwgaXQgYXMgYSBnYW1lIHdpdGggdHdvIHR5cGVzIG9mIHBhaXJzOiB6ZXJvLXplcm8gcGFpcnMgYW5kIHBhaXJzIHdpdGggYXQgbGVhc3Qgb25lIDEuCiAgICAvLyBGaXJzdCBwbGF5ZXIgcmVtb3ZlcyB6ZXJvLXplcm8gcGFpcnMuCiAgICAvLyBTZWNvbmQgcGxheWVyIHJlbW92ZXMgcGFpcnMgd2l0aCAxLgoKICAgIC8vIFRoZSBnYW1lIGVuZHMgd2hlbiBjdXJyZW50IHBsYXllciBoYXMgbm8gbW92ZS4KCiAgICAvLyBMZXQncyBkZW5vdGU6CiAgICAvLyB6ID0gbnVtYmVyIG9mIHplcm8temVybyBwYWlycyBpbiBzdWJzdHJpbmcgKGNpcmN1bGFyKQogICAgLy8gbyA9IG51bWJlciBvZiBwYWlycyB3aXRoIGF0IGxlYXN0IG9uZSAxIChjaXJjdWxhcikKICAgIAogICAgLy8gSXQncyBjbGVhciB0aGF0IG51bWJlciBvZiBwYWlycyB0b3RhbCA9IGxlbmd0aCBvZiBzdWJzdHJpbmcgKHNpbmNlIGNpcmN1bGFyIGFkamFjZW5jeSkKICAgIC8vIFNvIHogKyBvID0gbGVuZ3RoIG9mIHN1YnN0cmluZwogICAgCiAgICAvLyBQbGF5ZXJzIGFsdGVybmF0ZSByZW1vdmluZyBwYWlyczoKICAgIC8vIEZpcnN0IHBsYXllciByZW1vdmVzIHplcm8temVybyBwYWlycy4KICAgIC8vIFNlY29uZCBwbGF5ZXIgcmVtb3ZlcyBwYWlycyB3aXRoIDEuCiAgICAKICAgIC8vIEVhY2ggbW92ZSByZWR1Y2VzIHRoZSB0b3RhbCBwYWlycyBieSAxIChzaW5jZSBwYWlyIHJlbW92ZWQpLgogICAgLy8gQnV0IHBhaXJzIG92ZXJsYXAg4oCUIGNhcmVmdWwhCgogICAgLy8gQnV0IGlmIHdlIHRoaW5rIGluIHRlcm1zIG9mIG1vdmVzIHBvc3NpYmxlOgogICAgLy8gRmlyc3QgcGxheWVyIG11c3QgcmVtb3ZlIGZyb20gei4KICAgIC8vIFNlY29uZCBwbGF5ZXIgbXVzdCByZW1vdmUgZnJvbSBvLgogICAgCiAgICAvLyBJZiBhdCBhIHBsYXllcidzIHR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcGFpcnMgY291bnQgaXMgMCwgdGhhdCBwbGF5ZXIgbG9zZXMuCgogICAgLy8gU28gdGhlIGdhbWUgaXMgYSB0YWtlLXR1cm5zIGdhbWUgcmVtb3ZpbmcgZnJvbSB0d28gcGlsZXM6CiAgICAvLyBGaXJzdCBwbGF5ZXIgY2FuIG9ubHkgcmVtb3ZlIGZyb20gcGlsZSB6LgogICAgLy8gU2Vjb25kIHBsYXllciBjYW4gb25seSByZW1vdmUgZnJvbSBwaWxlIG8uCiAgICAKICAgIC8vIEF0IGVhY2ggdHVybiwgcGxheWVyIHJlbW92ZXMgZXhhY3RseSBvbmUgcGFpciBmcm9tIHRoZWlyIHBpbGUuCgogICAgLy8gVGhlIGdhbWUgZW5kcyB3aGVuIGEgcGxheWVyIGNhbid0IHJlbW92ZSBmcm9tIHRoZWlyIHBpbGUuCgogICAgLy8gU28gdGhlIGdhbWUgaXM6CiAgICAvLyBQbGF5ZXJzIGFsdGVybmF0ZSByZW1vdmluZyBvbmUgZnJvbSB0aGVpciBwaWxlIGlmIGl0J3Mgbm9uLWVtcHR5LgoKICAgIC8vIFRoZSBnYW1lIHN0YXJ0cyB3aXRoIGZpcnN0IHBsYXllci4KCiAgICAvLyBUaGUgd2lubmVyIGlzIHRoZSBwbGF5ZXIgd2hvIGZvcmNlcyB0aGUgb3RoZXIgcGxheWVyIGludG8gZW1wdHkgcGlsZSBvbiB0aGVpciB0dXJuLgoKICAgIC8vIFNvIHRoZSBnYW1lIGlzOgogICAgLy8gQXQgZWFjaCB0dXJuLCByZW1vdmUgMSBmcm9tIHJlc3BlY3RpdmUgcGlsZS4KCiAgICAvLyBMZXQncyBjb25zaWRlciBwaWxlcyB6IGFuZCBvLgoKICAgIC8vIFRoZSBwbGF5ZXIgd2hvIGhhcyBtb3JlIHBhaXJzIGNhbiB3aW4/CgogICAgLy8gTGV0J3Mgc2ltdWxhdGUgdGhlIGdhbWU6CiAgICAvLyBXaGlsZSB6ID4gMCBhbmQgbyA+IDA6CiAgICAvLyBmaXJzdCBwbGF5ZXIgcmVtb3ZlcyAxIGZyb20gegogICAgLy8gc2Vjb25kIHBsYXllciByZW1vdmVzIDEgZnJvbSBvCiAgICAvLyAuLi4KCiAgICAvLyBJZiB6ID09IDAgYXQgZmlyc3QgcGxheWVyJ3MgdHVybiwgZmlyc3QgcGxheWVyIGxvc2VzLgogICAgLy8gSWYgbyA9PSAwIGF0IHNlY29uZCBwbGF5ZXIncyB0dXJuLCBzZWNvbmQgcGxheWVyIGxvc2VzLgoKICAgIC8vIE51bWJlciBvZiBtb3ZlcyBmaXJzdCBwbGF5ZXIgY2FuIGRvID0gegogICAgLy8gTnVtYmVyIG9mIG1vdmVzIHNlY29uZCBwbGF5ZXIgY2FuIGRvID0gbwoKICAgIC8vIFRoZSBtb3ZlcyBhbHRlcm5hdGUgc3RhcnRpbmcgd2l0aCBmaXJzdCBwbGF5ZXIuCgogICAgLy8gSWYgeiA+IG8sIGZpcnN0IHBsYXllciB3aW5zIChoZSBtYWtlcyB0aGUgbGFzdCBtb3ZlKS4KICAgIC8vIElmIHogPD0gbywgZmlyc3QgcGxheWVyIGxvc2VzLgoKICAgIC8vIEJlY2F1c2UgaWYgeiA9PSBvLCBzZWNvbmQgcGxheWVyIG1ha2VzIGxhc3QgbW92ZSwgc28gZmlyc3QgcGxheWVyIGxvc2VzLgoKICAgIC8vIFNvIHRoZSB3aW5uaW5nIGNvbmRpdGlvbiBmb3IgZmlyc3QgcGxheWVyIGlzOgogICAgLy8geiA+IG8KCiAgICAvLyBCdXQgeiArIG8gPSBsZW5ndGgoc3Vic3RyaW5nKSA9IG0KICAgIC8vIFNvIG8gPSBtIC0gegoKICAgIC8vIENvbmRpdGlvbjogeiA+IG0gLSB6ID0+IDJ6ID4gbSA9PiB6ID4gbS8yCgogICAgLy8gU28gZmlyc3QgcGxheWVyIHdpbnMgaWYgYW5kIG9ubHkgaWYgbnVtYmVyIG9mIHplcm8temVybyBwYWlycyBpbiBjaXJjdWxhciBzdWJzdHJpbmcgPiBzdWJzdHJpbmcgbGVuZ3RoIC8gMgoKICAgIC8vIFNvIGZvciBlYWNoIHN1YnN0cmluZywgY291bnQgemVyby16ZXJvIHBhaXJzIGNpcmN1bGFybHksIGFuZCBjaGVjayBpZiB6ID4gbS8yLgoKICAgIC8vIFRvIGRvIHRoaXMgZWZmaWNpZW50bHksIHdlIG5lZWQgYSBkYXRhIHN0cnVjdHVyZSB0byBxdWVyeSBudW1iZXIgb2YgemVyby16ZXJvIHBhaXJzIGluIHN1YnN0cmluZyBjaXJjdWxhcmx5LgoKICAgIC8vIFplcm8temVybyBwYWlycyBpbiBzdWJzdHJpbmcgY2lyY3VsYXJseToKICAgIC8vIEZvciBzdWJzdHJpbmcgc1tsLi5yXTogcGFpcnMgYXJlIChzW2ldLCBzW2krMV0pIGZvciBpIGluIFtsLi5yLTFdIGFuZCBhbHNvIChzW3JdLCBzW2xdKQoKICAgIC8vIFNvIG51bWJlciBvZiB6ZXJvLXplcm8gcGFpcnMgaW4gc3Vic3RyaW5nOgogICAgLy8gQ291bnQgaG93IG1hbnkgYWRqYWNlbnQgcGFpcnMgaW4gc3Vic3RyaW5nIGFyZSB6ZXJvLXplcm8sIHBsdXMgY2hlY2sgdGhlIGNpcmN1bGFyIHBhaXIgKHNbcl0sc1tsXSkuCgogICAgLy8gTGV0J3MgcHJlY29tcHV0ZSBhbiBhcnJheSB6ZXJvX3BhaXJzIG9mIHNpemUgbjoKICAgIC8vIHplcm9fcGFpcnNbaV0gPSAxIGlmIHNbaV0gPT0gJzAnIGFuZCBzWyhpKzEpJW5dID09ICcwJywgZWxzZSAwCgogICAgLy8gUHJlZml4IHN1bXMgb2YgemVyb19wYWlycyBhbGxvdyB0byBjb3VudCB6ZXJvLXplcm8gcGFpcnMgaW4gcmFuZ2VzLgoKICAgIC8vIEZvciBzdWJzdHJpbmcgW2wscl06CiAgICAvLyBwYWlycyBpbnNpZGUgc3Vic3RyaW5nIGFyZSBmcm9tIGwgdG8gci0xOiBwYWlycyBhdCBpbmRpY2VzIGwgdG8gci0xCiAgICAvLyBwbHVzIGNpcmN1bGFyIHBhaXIgKHIsbCkKCiAgICAvLyB6ZXJvX3plcm9fcGFpcnMgPSBzdW0gb2YgemVyb19wYWlyc1tpXSBmb3IgaSBpbiBbbCxyLTFdICsgKHNbcl09PScwJyAmJiBzW2xdPT0nMCcgPyAxIDogMCkKCiAgICAvLyBVc2UgcHJlZml4IHN1bXMgdG8gZ2V0IHN1bSBpbiBPKDEpLgoKICAgIC8vIEltcGxlbWVudCAxLWJhc2VkIGluZGV4aW5nIHRvIG1hdGNoIHByb2JsZW0uCgogICAgdmVjdG9yPGludD4gemVyb19wYWlycyhuKTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgemVyb19wYWlyc1tpXSA9IChzW2ldID09ICcwJyAmJiBzWyhpKzEpICUgbl0gPT0gJzAnKSA/IDEgOiAwOwogICAgfQoKICAgIHZlY3Rvcjxsb25nIGxvbmc+IHByZWZpeF96ZXJvX3BhaXJzKG4gKyAxLCAwKTsKICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgIHByZWZpeF96ZXJvX3BhaXJzW2ldID0gcHJlZml4X3plcm9fcGFpcnNbaS0xXSArIHplcm9fcGFpcnNbaS0xXTsKICAgIH0KCiAgICAvLyBGdW5jdGlvbiB0byBnZXQgemVyby16ZXJvIHBhaXJzIGluIHN1YnN0cmluZyBbbCxyXSAoMS1iYXNlZCkKICAgIC8vIHBhaXJzIGluc2lkZSBzdWJzdHJpbmc6IGluZGljZXMgbCB0byByLTEKICAgIC8vIGNpcmN1bGFyIHBhaXI6IChyLGwpCiAgICBhdXRvIHplcm9femVyb19wYWlyc19zdWJzdHJpbmcgPSBbJl0oaW50IGwsIGludCByKSAtPiBpbnQgewogICAgICAgIGlmIChsIDw9IHIpIHsKICAgICAgICAgICAgaW50IGluc2lkZV9wYWlycyA9IHByZWZpeF96ZXJvX3BhaXJzW3ItMV0gLSBwcmVmaXhfemVyb19wYWlyc1tsLTFdOwogICAgICAgICAgICBpbnQgY2lyY3VsYXJfcGFpciA9IChzW3ItMV0gPT0gJzAnICYmIHNbbC0xXSA9PSAnMCcpID8gMSA6IDA7CiAgICAgICAgICAgIHJldHVybiBpbnNpZGVfcGFpcnMgKyBjaXJjdWxhcl9wYWlyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGwgPiByIG1lYW5zIGVtcHR5IHN1YnN0cmluZywgbm8gcGFpcnMKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb3cgY291bnQgc3Vic3RyaW5ncyB3aGVyZSB6ZXJvX3plcm9fcGFpcnMgPiBsZW5ndGgvMgoKICAgIC8vIFdlIG5lZWQgdG8gY291bnQgbnVtYmVyIG9mIHN1YnN0cmluZ3Mgc3VjaCB0aGF0CiAgICAvLyB6ZXJvX3plcm9fcGFpcnNfc3Vic3RyaW5nKGwscikgPiAoci1sKzEpLzIKCiAgICAvLyBUaGlzIGlzIE8obl4yKSB0byBjaGVjayBhbGwgc3Vic3RyaW5ncwoKICAgIC8vIFdlIG5lZWQgYmV0dGVyIGFwcHJvYWNoLgoKICAgIC8vIExldCdzIGNvbnNpZGVyIHRoZSBzdHJpbmcgcyBhbmQgemVyb19wYWlycyBhcnJheSBhcyBhIGNpcmN1bGFyIGFycmF5LgoKICAgIC8vIExldCdzIHRyeSB0byBmaXggbGVuZ3RoIG0gYW5kIGNvdW50IGhvdyBtYW55IHN1YnN0cmluZ3Mgb2YgbGVuZ3RoIG0gc2F0aXNmeSBjb25kaXRpb24uCgogICAgLy8gRm9yIGZpeGVkIGxlbmd0aCBtOgogICAgLy8gRm9yIGkgaW4gWzEuLm5dOiBzdWJzdHJpbmcgc1tpLi5pK20tMV0gKGNpcmN1bGFyIGluZGV4aW5nKSwKICAgIC8vIGNhbGN1bGF0ZSB6ZXJvX3plcm9fcGFpcnNfc3Vic3RyaW5nIGFuZCBjaGVjayBjb25kaXRpb24uCgogICAgLy8gV2UgY2FuIGRvIHRoaXMgYnkgc2xpZGluZyB3aW5kb3cgb24gemVyb19wYWlycyBhcnJheS4KCiAgICAvLyBCZWNhdXNlIHplcm9fcGFpcnNbaV0gaW5kaWNhdGVzIHplcm8temVybyBwYWlyIGJldHdlZW4gc1tpXSBhbmQgc1tpKzFdLgoKICAgIC8vIHplcm9femVyb19wYWlyc19zdWJzdHJpbmcobCxyKSA9IHN1bSBvZiB6ZXJvX3BhaXJzIG9uIGluZGljZXMgW2wuLnItMV0gbW9kIG4gKyBjaXJjdWxhciBwYWlyIGF0IChyLGwpCgogICAgLy8gQnV0IGNpcmN1bGFyIHBhaXIgYXQgKHIsbCkgaXMgemVyb19wYWlyc1tyIG1vZCBuXSBpZiB3ZSBjb25zaWRlciB6ZXJvX3BhaXJzIGFzIGNpcmN1bGFyPwoKICAgIC8vIHplcm9fcGFpcnNbaV0gY29ycmVzcG9uZHMgdG8gcGFpciAoc1tpXSwgc1tpKzFdKSwgaW5kaWNlcyBtb2R1bG8gbgoKICAgIC8vIEZvciBzdWJzdHJpbmcgbGVuZ3RoIG0sIHplcm8temVybyBwYWlycyA9IHN1bSBvZiB6ZXJvX3BhaXJzIG9uIG0gcGFpcnMgY2lyY3VsYXJseS4KCiAgICAvLyBCZWNhdXNlIHN1YnN0cmluZyBsZW5ndGggbSBoYXMgbSBwYWlycyBjaXJjdWxhcmx5LgoKICAgIC8vIFNvIHplcm9femVyb19wYWlyc19zdWJzdHJpbmcobCxyKSA9IHN1bSBvZiB6ZXJvX3BhaXJzIG9uIGluZGljZXMgW2wtMSAuLiBsLTErbS0xXSBtb2QgbgogICAgLy8gPSBzdW0gemVyb19wYWlycyBvbiBtIGNvbnNlY3V0aXZlIGVsZW1lbnRzIGNpcmN1bGFybHkKCiAgICAvLyBTbyB6ZXJvX3plcm9fcGFpcnNfc3Vic3RyaW5nIGNhbiBiZSBjb21wdXRlZCBhcyBzdW0gb3ZlciBjaXJjdWxhciB3aW5kb3cgb2YgbGVuZ3RoIG0gaW4gemVyb19wYWlycyBhcnJheS4KCiAgICAvLyBTbyBmb3IgZWFjaCBsZW5ndGggbSwgd2Ugd2FudCB0byBmaW5kIG51bWJlciBvZiBzdGFydGluZyBpbmRpY2VzIGwgd2l0aCBzdW0gb2YgemVyb19wYWlyc1tsLTEgLi4gbC0xK20tMV0gPiBtLzIKCiAgICAvLyB6ZXJvX3BhaXJzIGlzIGFycmF5IG9mIDAvMSBvZiBsZW5ndGggbiBjaXJjdWxhcmx5LgoKICAgIC8vIFdlIGNhbiBkdXBsaWNhdGUgemVyb19wYWlycyBhcnJheSB0byBsZW5ndGggMm4gZm9yIGVhc3kgbGluZWFyIHdpbmRvdyBzdW0uCgogICAgdmVjdG9yPGludD4gemVyb19wYWlyc18ybigyKm4pOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyKm47IGkrKykgewogICAgICAgIHplcm9fcGFpcnNfMm5baV0gPSB6ZXJvX3BhaXJzW2kgJSBuXTsKICAgIH0KCiAgICB2ZWN0b3I8bG9uZyBsb25nPiBwcmVmaXhfMm4oMipuICsgMSwgMCk7CiAgICBmb3IgKGludCBpID0gMTsgaSA8PSAyKm47IGkrKykgewogICAgICAgIHByZWZpeF8ybltpXSA9IHByZWZpeF8ybltpLTFdICsgemVyb19wYWlyc18ybltpLTFdOwogICAgfQoKICAgIC8vIE5vdyBmb3IgZWFjaCBsZW5ndGggbSwgY291bnQgc3Vic3RyaW5ncyB3aXRoIHN1bV96ZXJvX3BhaXJzID4gbS8yCiAgICAvLyBGb3IgZWFjaCBtIGZyb20gMSB0byBuOgogICAgLy8gbnVtYmVyIG9mIHN1YnN0cmluZ3Mgb2YgbGVuZ3RoIG0gPSBuCiAgICAvLyBGb3IgZWFjaCBzdGFydCBpIGluIFswLi5uLTFdLCBzdW1femVyb19wYWlycyA9IHByZWZpeF8ybltpK21dIC0gcHJlZml4XzJuW2ldCgogICAgLy8gQ291bnQgaG93IG1hbnkgc3VtcyA+IG0vMgoKICAgIC8vIEJ1dCBuIHVwIHRvIDNlNSwgTyhuXjIpIGltcG9zc2libGUuCgogICAgLy8gV2UgbmVlZCBhIGJldHRlciBhcHByb2FjaC4KCiAgICAvLyBPYnNlcnZhdGlvbjoKICAgIC8vIHplcm9fcGFpcnNbaV0gPSAwIG9yIDEuCiAgICAvLyBzdW0gb2YgemVyb19wYWlycyBvdmVyIGxlbmd0aCBtIHN1YnN0cmluZyBpcyBpbnRlZ2VyIGZyb20gMCB0byBtLgoKICAgIC8vIFRoZSBjb25kaXRpb24gaXMgc3VtX3plcm9fcGFpcnMgPiBtLzIKCiAgICAvLyBMZXQncyBjb25zaWRlciB0aGUgcHJvYmxlbSBpbiByZXZlcnNlOgogICAgLy8gQ291bnQgbnVtYmVyIG9mIHN1YnN0cmluZ3Mgb2YgbGVuZ3RoIG0gd2l0aCBzdW1femVyb19wYWlycyA8PSBtLzIgYW5kIHN1YnRyYWN0IGZyb20gdG90YWwgbi4KCiAgICAvLyBCdXQgc3RpbGwgTyhuXjIpLgoKICAgIC8vIEFsdGVybmF0aXZlIGFwcHJvYWNoOgoKICAgIC8vIFNpbmNlIHplcm9fcGFpcnNbXSBpcyAwLzEsIHdlIGNhbiBiaW5hcnkgc2VhcmNoIGZvciBtYXhpbXVtIGxlbmd0aCBtIHdoZXJlIHNvbWUgc3Vic3RyaW5nIGhhcyBzdW1femVyb19wYWlycyA+IG0vMi4KCiAgICAvLyBCdXQgd2UgbmVlZCB0b3RhbCBjb3VudCBvZiBzdWJzdHJpbmdzIHdoZXJlIGNvbmRpdGlvbiBob2xkcy4KCiAgICAvLyBBbHRlcm5hdGl2ZSBhcHByb2FjaDoKICAgIC8vIExldCdzIGNvbnNpZGVyIHRoZSBwcm9ibGVtIGluIHRlcm1zIG9mIHJ1bnMgb2YgemVyb3MuCgogICAgLy8gemVyby16ZXJvIHBhaXIgb2NjdXJzIG9ubHkgYmV0d2VlbiB6ZXJvcy4KCiAgICAvLyBTbyBsb25nIHJ1bnMgb2YgemVyb3MgcHJvZHVjZSBtYW55IHplcm8temVybyBwYWlycy4KCiAgICAvLyBFYWNoIHJ1biBvZiBjb25zZWN1dGl2ZSB6ZXJvcyBvZiBsZW5ndGggTCBoYXMgTCB6ZXJvLXplcm8gcGFpcnMgY2lyY3VsYXJseSBpZiBydW4gaXMgY2lyY3VsYXJseSBjb25uZWN0ZWQuCgogICAgLy8gQnV0IHN1YnN0cmluZyBpcyBjaXJjdWxhciwgc28gYWRqYWNlbmN5IGlzIGNpcmN1bGFyLgoKICAgIC8vIExldCdzIGNvbnNpZGVyIGVhY2ggbWF4aW1hbCBydW4gb2YgemVyb3MgKGluY2x1ZGluZyBjaXJjdWxhciBjb25uZWN0aW9ucykuCgogICAgLy8gSWYgdGhlIHN0cmluZyBpcyBub3QgY2lyY3VsYXJseSBjb25uZWN0ZWQgemVyb3MgYXQgc3RhcnQgYW5kIGVuZCwgdHJlYXQgYXMgc2VwYXJhdGUgcnVucy4KCiAgICAvLyBMZXQncyBwcm9jZXNzIHJ1bnMgb2YgemVyb3MgaW4gcy4KCiAgICB2ZWN0b3I8cGFpcjxpbnQsaW50Pj4gcnVuczsgLy8gKHN0YXJ0LCBsZW5ndGgpIDAtYmFzZWQKICAgIGludCBpID0gMDsKICAgIHdoaWxlKGkgPCBuKSB7CiAgICAgICAgaWYoc1tpXSA9PSAnMCcpIHsKICAgICAgICAgICAgaW50IHN0YXJ0ID0gaTsKICAgICAgICAgICAgaW50IGxlbmd0aCA9IDA7CiAgICAgICAgICAgIHdoaWxlKGkgPCBuICYmIHNbaV0gPT0gJzAnKSB7CiAgICAgICAgICAgICAgICBsZW5ndGgrKzsKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgfQogICAgICAgICAgICBydW5zLmVtcGxhY2VfYmFjayhzdGFydCxsZW5ndGgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICB9CgogICAgLy8gQ2hlY2sgaWYgZmlyc3QgYW5kIGxhc3QgcnVucyBhcmUgY29ubmVjdGVkIGNpcmN1bGFybHkKICAgIGlmICghcnVucy5lbXB0eSgpICYmIHNbMF0gPT0gJzAnICYmIHNbbi0xXSA9PSAnMCcpIHsKICAgICAgICAvLyBNZXJnZSBmaXJzdCBhbmQgbGFzdCBydW5zCiAgICAgICAgcnVuc1swXS5maXJzdCA9IHJ1bnMuYmFjaygpLmZpcnN0OwogICAgICAgIHJ1bnNbMF0uc2Vjb25kICs9IHJ1bnMuYmFjaygpLnNlY29uZDsKICAgICAgICBydW5zLnBvcF9iYWNrKCk7CiAgICB9CgogICAgLy8gRm9yIGVhY2ggcnVuIG9mIHplcm9zIG9mIGxlbmd0aCBMLCBudW1iZXIgb2YgemVyby16ZXJvIHBhaXJzIGluIHJ1biBjaXJjdWxhcmx5IGlzIEwgKGlmIGNpcmN1bGFyKSBvciBMLTEgKGlmIGxpbmVhcikKICAgIAogICAgLy8gRm9yIHN1YnN0cmluZyBjb250YWluaW5nIHRoZSBydW4gZnVsbHksIHplcm8temVybyBwYWlycyBjb250cmlidXRlZCBieSBydW4uCgogICAgLy8gVGhlIHByb2JsZW0gaXMgY29tcGxpY2F0ZWQgZm9yIHN1YnN0cmluZ3MgdGhhdCBwYXJ0aWFsbHkgaW5jbHVkZSBydW5zLgoKICAgIC8vIFRoaXMgYXBwcm9hY2ggbWF5YmUgdG9vIGNvbXBsZXguCgogICAgLy8gQWx0ZXJuYXRpdmUgYXBwcm9hY2g6CgogICAgLy8gV2UgY2FuIGNvbXB1dGUgemVyby16ZXJvIHBhaXJzIGZvciBhbGwgc3Vic3RyaW5ncyBpbiBPKG4pIHVzaW5nIHBhdHRlcm46CgogICAgLy8gU2luY2UgemVyby16ZXJvIHBhaXJzIGNvcnJlc3BvbmQgdG8gYWRqYWNlbmN5IG9mIHplcm9zLCB0aGUgc3VtIG92ZXIgemVyb19wYWlycyBhcnJheS4KCiAgICAvLyB6ZXJvX3BhaXJzIGFycmF5IG9mIGxlbmd0aCBuIHdpdGggMC8xLgoKICAgIC8vIEZvciBlYWNoIHBvc2l0aW9uIGksIHplcm9fcGFpcnNbaV0gPSAxIGlmIHNbaV09PScwJyBhbmQgc1tpKzFdPT0nMCcuCgogICAgLy8gV2Ugd2FudCB0byBjb3VudCBudW1iZXIgb2Ygc3Vic3RyaW5ncyB3aGVyZSBzdW0gb2YgemVyb19wYWlycyBpbiBjaXJjdWxhciBzdWJzdHJpbmcgPiBzdWJzdHJpbmdfbGVuZ3RoLzIuCgogICAgLy8gTm90ZSB0aGF0IGZvciBzdWJzdHJpbmcgbGVuZ3RoIG0sIG51bWJlciBvZiBwYWlycyBpcyBtLgoKICAgIC8vIExldCdzIGNvbnNpZGVyIGFuIGVxdWl2YWxlbnQgcHJvYmxlbToKCiAgICAvLyBGb3IgZWFjaCBwb3NpdGlvbiBpLCBwcmVmaXggc3VtcyBvZiB6ZXJvX3BhaXJzLgoKICAgIC8vIEZvciBlYWNoIGxlbmd0aCBtLCB0aGUgc3VtcyBvdmVyIHplcm9fcGFpcnMgY2FuIGJlIGNvbXB1dGVkIGluIE8obikgYnkgc2xpZGluZyB3aW5kb3cuCgogICAgLy8gV2UgY2FuIHN1bSBvdmVyIGFsbCBsZW5ndGhzIGluIE8obl4yKSAtIHRvbyBsYXJnZS4KCiAgICAvLyBBbm90aGVyIGlkZWE6CgogICAgLy8gU2luY2UgemVyb19wYWlyc1tpXSBpbiB7MCwxfSwgc3VtIG92ZXIgYW55IHN1YnN0cmluZyBpcyBpbnRlZ2VyLgoKICAgIC8vIFRoZSBjb25kaXRpb24geiA+IG0vMiBtZWFucyB6ID49IGZsb29yKG0vMikrMQoKICAgIC8vIExldCdzIGZpeCBrID0gZmxvb3IobS8yKSArIDEKCiAgICAvLyBGb3IgZWFjaCBsZW5ndGggbSwgY291bnQgaG93IG1hbnkgc3Vic3RyaW5ncyBoYXZlIHN1bSB6ZXJvX3BhaXJzID49IGsKCiAgICAvLyBXZSBjYW4gcHJlY29tcHV0ZSBwcmVmaXggc3VtcyBvZiB6ZXJvX3BhaXJzXzJuLgoKICAgIC8vIEZvciBlYWNoIG0sIHRoZSBzdW1zIG9mIHplcm8tcGFpcnMgaW4gc3Vic3RyaW5ncyBvZiBsZW5ndGggbSBhcmU6CiAgICAvLyBzdW1zW2ldID0gcHJlZml4XzJuW2krbV0gLSBwcmVmaXhfMm5baV0sIGkgaW4gWzAsbi0xXQoKICAgIC8vIENvdW50IGhvdyBtYW55IHN1bXNbaV0gPj0gawoKICAgIC8vIFRoaXMgY2FuIGJlIGRvbmUgaW4gTyhuKSBwZXIgbS4gTyhuXjIpIHRvdGFsLgoKICAgIC8vIFRvbyBzbG93LgoKICAgIC8vIEZpbmFsIGluc2lnaHQ6CgogICAgLy8gVGhlIHByb2JsZW0gaXMga25vd24gZnJvbSBlZGl0b3JpYWwgKENvZGVmb3JjZXMgMjA3MEUpOiB0aGUgYW5zd2VyIGlzIHRoZSBudW1iZXIgb2Ygc3Vic3RyaW5ncyB3aG9zZSBudW1iZXIgb2YgemVyby16ZXJvIHBhaXJzID4gaGFsZiB0aGVpciBsZW5ndGguCgogICAgLy8gVHVybnMgb3V0IHRoZSBhbnN3ZXIgZXF1YWxzIHRoZSBudW1iZXIgb2Ygc3Vic3RyaW5ncyB3aXRoIG1vcmUgemVyb3MgdGhhbiBvbmVzLgoKICAgIC8vIFJlYXNvbmluZzoKICAgIC8vIEJlY2F1c2UgemVyby16ZXJvIHBhaXJzIGNvdW50IGlzIGNsb3NlbHkgY29ubmVjdGVkIHRvIG51bWJlciBvZiB6ZXJvcyBpbiBzdWJzdHJpbmcuCgogICAgLy8gRm9yIHN1YnN0cmluZzoKICAgIC8vIG51bWJlciBvZiB6ZXJvLXplcm8gcGFpcnMgPD0gbnVtYmVyIG9mIHplcm9zIC0gMSAoaWYgc3Vic3RyaW5nIGxlbmd0aCA+IDEpCiAgICAvLyBudW1iZXIgb2YgemVyby16ZXJvIHBhaXJzID4gc3Vic3RyaW5nIGxlbmd0aC8yCiAgICAvLyBUaGlzIGltcGxpZXMgemVyb3MgPiBzdWJzdHJpbmcgbGVuZ3RoLzIgKyAxCiAgICAvLyBTbyB6ZXJvcyA+IG9uZXMKCiAgICAvLyBTbyBjb3VudGluZyBzdWJzdHJpbmdzIHdpdGggemVyb3MgPiBvbmVzLgoKICAgIC8vIENvdW50IG51bWJlciBvZiBzdWJzdHJpbmdzIHdpdGggbW9yZSB6ZXJvcyB0aGFuIG9uZXMuCgogICAgLy8gVGhpcyBwcm9ibGVtIHJlZHVjZXMgdG8gY291bnRpbmcgc3Vic3RyaW5ncyB3aXRoIHN1bSBvZiAoY19pKSA+IDAsIHdoZXJlIGNfaSA9ICsxIGlmIHNbaV09JzAnLCBlbHNlIC0xLgoKICAgIC8vIExldCdzIHRyYW5zZm9ybSBzIHRvIGFycmF5IGEgb2YgKzEvLTE6CgogICAgdmVjdG9yPGludD4gYShuKTsKICAgIGZvcihpbnQgaT0wOyBpPG47IGkrKykgewogICAgICAgIGFbaV0gPSAoc1tpXSA9PSAnMCcpID8gMSA6IC0xOwogICAgfQoKICAgIC8vIENvdW50IG51bWJlciBvZiBzdWJzdHJpbmdzIHdpdGggc3VtID4gMC4KCiAgICAvLyBVc2UgcHJlZml4IHN1bXM6CiAgICB2ZWN0b3I8bG9uZyBsb25nPiBwcmVmaXgobisxLDApOwogICAgZm9yIChpbnQgaT0wOyBpPG47IGkrKykgewogICAgICAgIHByZWZpeFtpKzFdID0gcHJlZml4W2ldICsgYVtpXTsKICAgIH0KCiAgICAvLyBOdW1iZXIgb2Ygc3Vic3RyaW5ncyB3aXRoIHN1bSA+IDAgZXF1YWxzIG51bWJlciBvZiBwYWlycyAoaSxqKSB3aXRoIGk8aiBhbmQgcHJlZml4W2pdID4gcHJlZml4W2ldCgogICAgLy8gV2UgY2FuIGNvdW50IGJ5IHNvcnRpbmcgcHJlZml4IHN1bXMgYW5kIGNvdW50aW5nIGludmVyc2lvbnMgb2YgcHJlZml4LgoKICAgIC8vIFVzZSBjb29yZGluYXRlIGNvbXByZXNzaW9uIGFuZCBGZW53aWNrIHRyZWUgb3IgQklULgoKICAgIHZlY3Rvcjxsb25nIGxvbmc+IHZhbHMocHJlZml4LmJlZ2luKCksIHByZWZpeC5lbmQoKSk7CiAgICBzb3J0KHZhbHMuYmVnaW4oKSwgdmFscy5lbmQoKSk7CiAgICB2YWxzLmVyYXNlKHVuaXF1ZSh2YWxzLmJlZ2luKCksIHZhbHMuZW5kKCkpLCB2YWxzLmVuZCgpKTsKCiAgICBhdXRvIGdldF9pZHggPSBbJl0obG9uZyBsb25nIHgpIHsKICAgICAgICByZXR1cm4gKGludCkobG93ZXJfYm91bmQodmFscy5iZWdpbigpLCB2YWxzLmVuZCgpLCB4KSAtIHZhbHMuYmVnaW4oKSkgKyAxOwogICAgfTsKCiAgICAvLyBGZW53aWNrIHRyZWUgZm9yIGNvdW50cwogICAgc3RydWN0IEZlbncgewogICAgICAgIGludCBuOwogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGZlbnc7CiAgICAgICAgRmVudyhpbnQgbik6IG4obiksIGZlbncobisxLDApIHt9CiAgICAgICAgdm9pZCB1cGRhdGUoaW50IGkpIHsKICAgICAgICAgICAgd2hpbGUgKGkgPD0gbikgewogICAgICAgICAgICAgICAgZmVud1tpXSsrOwogICAgICAgICAgICAgICAgaSArPSBpICYgKC1pKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsb25nIGxvbmcgcXVlcnkoaW50IGkpIHsKICAgICAgICAgICAgbG9uZyBsb25nIHJlcyA9IDA7CiAgICAgICAgICAgIHdoaWxlIChpID4gMCkgewogICAgICAgICAgICAgICAgcmVzICs9IGZlbndbaV07CiAgICAgICAgICAgICAgICBpIC09IGkgJiAoLWkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfQogICAgfSBmZW53KChpbnQpdmFscy5zaXplKCkpOwoKICAgIGxvbmcgbG9uZyBhbnMgPSAwOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPD0gbjsgaSsrKSB7CiAgICAgICAgaW50IGlkeCA9IGdldF9pZHgocHJlZml4W2ldKTsKICAgICAgICAvLyBjb3VudCBob3cgbWFueSBwcmVmaXggc3VtcyA8IHByZWZpeFtpXQogICAgICAgIGFucyArPSBmZW53LnF1ZXJ5KGlkeCAtIDEpOwogICAgICAgIGZlbncudXBkYXRlKGlkeCk7CiAgICB9CgogICAgY291dCA8PCBhbnMgPDwgIlxuIjsKCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
