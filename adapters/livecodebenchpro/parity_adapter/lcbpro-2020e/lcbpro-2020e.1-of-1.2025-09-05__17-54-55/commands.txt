['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gMTAwMDAwMDAwNzsKCi8vIE1vZHVsYXIgaW52ZXJzZSB1c2luZyBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbQppbnQgbW9kcG93KGludCBiYXNlLCBpbnQgZXhwLCBpbnQgbW9kKSB7CiAgICBpbnQgcmVzdWx0ID0gMTsKICAgIGludCBjdXIgPSBiYXNlOwogICAgd2hpbGUgKGV4cCA+IDApIHsKICAgICAgICBpZiAoZXhwICYgMSkgcmVzdWx0ID0gKGludCkoKDFMTCAqIHJlc3VsdCAqIGN1cikgJSBtb2QpOwogICAgICAgIGN1ciA9IChpbnQpKCgxTEwgKiBjdXIgKiBjdXIpICUgbW9kKTsKICAgICAgICBleHAgPj49IDE7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9CgppbnQgbW9kaW52KGludCB4KSB7CiAgICByZXR1cm4gbW9kcG93KHgsIE1PRCAtIDIsIE1PRCk7Cn0KCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIC8vIFNpbmNlIHN1bSBvZiBuIHVwIHRvIDJlNSwgd2UgY2FuIHByb2Nlc3MgZWZmaWNpZW50bHkuCiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47IGNpbiA+PiBuOwogICAgICAgIHZlY3RvcjxpbnQ+IGEobiksIHAobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIGNpbiA+PiBhW2ldOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gcFtpXTsKCiAgICAgICAgLy8gUHJvYmFiaWxpdHkgcF9pLzEwMDAwIG1vZCBNT0QKICAgICAgICAvLyBXZSdsbCBzdG9yZSBwcm9iYWJpbGl0aWVzIGFuZCB0aGVpciBjb21wbGVtZW50cyBtb2QgTU9ECiAgICAgICAgLy8gcF9pID0gcFtpXSAvIDEwMDAwCiAgICAgICAgLy8gVXNlIG1vZHVsYXIgaW52ZXJzZXMgdG8gcmVwcmVzZW50IHByb2JhYmlsaXRpZXMKICAgICAgICBjb25zdCBpbnQgaW52MTAwMDAgPSBtb2RpbnYoMTAwMDApOwoKICAgICAgICB2ZWN0b3I8aW50PiBwcm9iKG4pLCBjb21wKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHByb2JbaV0gPSAoaW50KSgoMUxMICogcFtpXSAqIGludjEwMDAwKSAlIE1PRCk7CiAgICAgICAgICAgIGNvbXBbaV0gPSAoTU9EICsgMSAtIHByb2JbaV0pICUgTU9EOwogICAgICAgIH0KCiAgICAgICAgLy8gZihTKSA9IFhPUiBvZiBlbGVtZW50cyBpbiBTCiAgICAgICAgLy8gV2Ugd2FudCBFWyhmKFMpKV4yXSA9IHN1bV94IHheMiAqIFAoWD14KQogICAgICAgIC8vIHdoZXJlIFggPSBYT1Igb2YgY2hvc2VuIGVsZW1lbnRzCgogICAgICAgIC8vIGRwW3hdID0gcHJvYmFiaWxpdHkgdGhhdCBYT1Igb2YgY2hvc2VuIGVsZW1lbnRzIGlzIHgKICAgICAgICAvLyBTdGFydCBkcCB3aXRoIGRwWzBdID0gMSAoZW1wdHkgc2V0KQogICAgICAgIHZlY3RvcjxpbnQ+IGRwKDEwMjQsIDApOwogICAgICAgIGRwWzBdID0gMTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgdmVjdG9yPGludD4gbmRwKDEwMjQsIDApOwogICAgICAgICAgICBmb3IgKGludCB4ID0gMDsgeCA8IDEwMjQ7IHgrKykgewogICAgICAgICAgICAgICAgLy8gTm90IGNob29zZSBhW2ldCiAgICAgICAgICAgICAgICBuZHBbeF0gPSAobmRwW3hdICsgKGludCkoKDFMTCAqIGRwW3hdICogY29tcFtpXSkgJSBNT0QpKSAlIE1PRDsKICAgICAgICAgICAgICAgIC8vIENob29zZSBhW2ldCiAgICAgICAgICAgICAgICBpbnQgbnggPSB4IF4gYVtpXTsKICAgICAgICAgICAgICAgIG5kcFtueF0gPSAobmRwW254XSArIChpbnQpKCgxTEwgKiBkcFt4XSAqIHByb2JbaV0pICUgTU9EKSkgJSBNT0Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZHAuc3dhcChuZHApOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2FsY3VsYXRlIGFuc3dlciA9IHN1bV94IHheMiAqIGRwW3hdIG1vZCBNT0QKICAgICAgICBsb25nIGxvbmcgYW5zID0gMDsKICAgICAgICBmb3IgKGludCB4ID0gMDsgeCA8IDEwMjQ7IHgrKykgewogICAgICAgICAgICBhbnMgKz0gKDFMTCAqIHggKiB4ICUgTU9EKSAqIGRwW3hdOwogICAgICAgICAgICBpZiAoYW5zID49IE1PRCkgYW5zIC09IE1PRDsKICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgYW5zIDw8ICJcbiI7CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
