[?2004hroot@88d635d7c482:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@88d635d7c482:/app# clear
[?2004l[H[J[3J[?2004hroot@88d635d7c482:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBUbyByZXByZXNlbnQgYSBjb29sIHN3YXAgd2FsayBwYXRoCnN0cnVjdCBXYWxrIHsKICAgIHN0cmluZyBwYXRoOwp9OwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsgY2luID4+IG47CiAgICAgICAgdmVjdG9yPGludD4gYShuKzEpOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgY2luID4+IGFbaV07CgogICAgICAgIC8vIFRoZSBwcm9ibGVtOiBwZXJmb3JtIGF0IG1vc3Qgbis0IGNvb2wgc3dhcCB3YWxrcyAoZWFjaCBwYXRoIGxlbmd0aCAybi0yKQogICAgICAgIC8vIHRvIHNvcnQgdGhlIGFycmF5IGEgaW4gbm9uLWRlY3JlYXNpbmcgb3JkZXIuCgogICAgICAgIC8vIEFwcHJvYWNoIG91dGxpbmU6CiAgICAgICAgLy8gV2UgY2FuIHNpbXVsYXRlIHRoZSBrbm93biBjb25zdHJ1Y3RpdmUgYXBwcm9hY2g6CiAgICAgICAgLy8gLSBFYWNoIGNvb2wgc3dhcCB3YWxrIGNvcnJlc3BvbmRzIHRvIGEgcGF0aCBmcm9tICgxLDEpIHRvIChuLG4pIHdpdGggc3RlcHMgUiBhbmQgRC4KICAgICAgICAvLyAtIFdoZW4gc3RlcHBpbmcgb24gKGksaikgd2l0aCBpIT1qLCBzd2FwIGFfaSBhbmQgYV9qLgogICAgICAgIC8vCiAgICAgICAgLy8gQSBrbm93biBzb2x1dGlvbiBpcyB0byBwZXJmb3JtIGF0IG1vc3QgbiB3YWxrcywgZWFjaCBkZXNpZ25lZCB0byBidWJibGUgdXAgZWxlbWVudHMuCiAgICAgICAgLy8KICAgICAgICAvLyBTaW5jZSB0aGUgcHJvYmxlbSBzdGF0ZXMgaXQncyBhbHdheXMgcG9zc2libGUgd2l0aCBuKzQgd2Fsa3MsIGFuZCB3ZSBoYXZlIHRoYXQgbXVjaCBidWRnZXQsCiAgICAgICAgLy8gd2UgaW1wbGVtZW50IGEgc2ltcGxlIGJ1YmJsZSBzb3J0LWxpa2Ugc3RyYXRlZ3kgd2l0aCBlYWNoIHdhbGsgc29ydGluZyBvbmUgYWRqYWNlbnQgcGFpciBpZiBuZWVkZWQuCgogICAgICAgIHZlY3RvcjxXYWxrPiB3YWxrczsKCiAgICAgICAgLy8gV2Ugd2lsbCBwZXJmb3JtIGJ1YmJsZSBzb3J0IHdpdGggYXQgbW9zdCBuKzQgd2Fsa3MuCiAgICAgICAgLy8gRm9yIGVhY2ggYWRqYWNlbnQgcGFpciwgaWYgYVtpXSA+IGFbaSsxXSwgd2UgcGVyZm9ybSBvbmUgd2FsayB0aGF0IHN3YXBzIGFbaV0gYW5kIGFbaSsxXS4KICAgICAgICAvLyBXZSBkbyB0aGlzIHVudGlsIHNvcnRlZC4KCiAgICAgICAgLy8gSGVscGVyOiBjcmVhdGUgYSB3YWxrIHRoYXQgc3dhcHMgb25seSBhIHBhaXIgKGksIGkrMSkgZXhhY3RseSBvbmNlLgogICAgICAgIC8vIENvbnN0cnVjdCBwYXRoOiBmcm9tICgxLDEpIGdvIGRvd24gdG8gKGksMSksIHRoZW4gcmlnaHQgdG8gKGksaSksIHRoZW4gZG93biB0byAobixpKSwgdGhlbiByaWdodCB0byAobixuKQogICAgICAgIC8vIFRoaXMgcGF0aCB2aXNpdHMgKGksaSsxKSBzd2FwcGluZyBhX2kgYW5kIGFfe2krMX0gZXhhY3RseSBvbmNlLgoKICAgICAgICAvLyBCdXQgcHJvYmxlbSBzdGF0ZXMgd2UgbXVzdCBtb3ZlIG9ubHkgcmlnaHQgb3IgZG93biBhdCBlYWNoIHN0ZXAuCiAgICAgICAgLy8gUGF0aCBsZW5ndGggaXMgMm4tMiBzdGVwcy4KCiAgICAgICAgLy8gV2Ugd2lsbCBidWlsZCBhIHBhdGggYXMgZm9sbG93czoKICAgICAgICAvLyBTdGFydCBhdCAoMSwxKQogICAgICAgIC8vIE1vdmUgZG93biAoaS0xKSB0aW1lcyB0byAoaSwxKQogICAgICAgIC8vIE1vdmUgcmlnaHQgKGktMSkgdGltZXMgdG8gKGksaSkKICAgICAgICAvLyBNb3ZlIHJpZ2h0IG9uY2UgbW9yZSB0byAoaSxpKzEpIHRvIHN3YXAgYV9pIGFuZCBhX3tpKzF9CiAgICAgICAgLy8gVGhlbiBtb3ZlIGRvd24gKG4taS0xKSB0aW1lcyB0byAobixpKzEpCiAgICAgICAgLy8gVGhlbiBtb3ZlIHJpZ2h0IChuIC0gKGkrMSkpIHRpbWVzIHRvIChuLG4pCiAgICAgICAgLy8gVG90YWwgc3RlcHMgPSAoaS0xKSArIChpLTEpICsgMSArIChuIC0gaSAtIDEpICsgKG4gLSAoaSsxKSkgPSAybiAtIDIgc3RlcHMKCiAgICAgICAgLy8gRGlyZWN0aW9uczoKICAgICAgICAvLyAnRCcgcmVwZWF0ZWQgKGktMSkgdGltZXMKICAgICAgICAvLyAnUicgcmVwZWF0ZWQgKGktMSkgdGltZXMKICAgICAgICAvLyAnUicgb25jZQogICAgICAgIC8vICdEJyByZXBlYXRlZCAobiAtIGkgLSAxKSB0aW1lcwogICAgICAgIC8vICdSJyByZXBlYXRlZCAobiAtIGkgLSAxKSB0aW1lcwoKICAgICAgICBhdXRvIG1ha2Vfd2FsayA9IFsmXShpbnQgaSkgLT4gc3RyaW5nIHsKICAgICAgICAgICAgc3RyaW5nIHM7CiAgICAgICAgICAgIHMuYXBwZW5kKGktMSwgJ0QnKTsKICAgICAgICAgICAgcy5hcHBlbmQoaS0xLCAnUicpOwogICAgICAgICAgICBzLnB1c2hfYmFjaygnUicpOwogICAgICAgICAgICBzLmFwcGVuZChuIC0gaSAtIDEsICdEJyk7CiAgICAgICAgICAgIHMuYXBwZW5kKG4gLSBpIC0gMSwgJ1InKTsKICAgICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQnViYmxlIHNvcnQgd2l0aCB3YWxrcwogICAgICAgIGJvb2wgc29ydGVkID0gZmFsc2U7CiAgICAgICAgaW50IG1heF93YWxrcyA9IG4gKyA0OwogICAgICAgIHdoaWxlICghc29ydGVkICYmIChpbnQpd2Fsa3Muc2l6ZSgpIDwgbWF4X3dhbGtzKSB7CiAgICAgICAgICAgIHNvcnRlZCA9IHRydWU7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoYVtpXSA+IGFbaSsxXSkgewogICAgICAgICAgICAgICAgICAgIC8vIHBlcmZvcm0gd2FsayB0byBzd2FwIGFbaV0gYW5kIGFbaSsxXQogICAgICAgICAgICAgICAgICAgIHdhbGtzLnB1c2hfYmFjayh7bWFrZV93YWxrKGkpfSk7CiAgICAgICAgICAgICAgICAgICAgc3dhcChhW2ldLCBhW2krMV0pOwogICAgICAgICAgICAgICAgICAgIHNvcnRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmICgoaW50KXdhbGtzLnNpemUoKSA9PSBtYXhfd2Fsa3MpIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBPdXRwdXQKICAgICAgICBjb3V0IDw8IChpbnQpd2Fsa3Muc2l6ZSgpIDw8ICJcbiI7CiAgICAgICAgZm9yIChhdXRvICZ3IDogd2Fsa3MpIHsKICAgICAgICAgICAgY291dCA8PCB3LnBhdGggPDwgIlxuIjsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@88d635d7c482:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@88d635d7c482:/app# 