['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgpzdHJ1Y3QgTWlsa0JhdGNoIHsKICAgIGludCBkYXk7CiAgICBsb25nIGxvbmcgYW1vdW50Owp9OwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OwogICAgY2luID4+IHQ7CgogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBtLCBrOwogICAgICAgIGNpbiA+PiBuID4+IG0gPj4gazsKCiAgICAgICAgdmVjdG9yPE1pbGtCYXRjaD4gbWlsazsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBpbnQgZDsgbG9uZyBsb25nIGE7CiAgICAgICAgICAgIGNpbiA+PiBkID4+IGE7CiAgICAgICAgICAgIG1pbGsucHVzaF9iYWNrKHtkLCBhfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBVc2UgYSBkZXF1ZSB0byBzdG9yZSBiYXRjaGVzIG9mIG1pbGsga2VlcGluZyB0cmFjayBvZiBmcmVzaG5lc3MKICAgICAgICBkZXF1ZTxwYWlyPGludCxsb25nIGxvbmc+PiBkcTsgLy8gcGFpcjxkYXksIGFtb3VudD4KICAgICAgICBpbnQgaWR4ID0gMDsKICAgICAgICBpbnQgc2F0aXNmYWN0aW9uX2RheXMgPSAwOwoKICAgICAgICAvLyBXZSBzaW11bGF0ZSBkYXkgYnkgZGF5IGZyb20gdGhlIGZpcnN0IG1pbGsgZGF5IHRvIGxhc3QgbWlsayBkYXkgKyBrIC0gMQogICAgICAgIGludCBjdXJyZW50X2RheSA9IG1pbGtbMF0uZGF5OwogICAgICAgIGludCBsYXN0X2RheSA9IG1pbGsuYmFjaygpLmRheSArIGsgLSAxOwoKICAgICAgICB3aGlsZSAoY3VycmVudF9kYXkgPD0gbGFzdF9kYXkpIHsKICAgICAgICAgICAgLy8gUmVtb3ZlIHNwb2lsZWQgbWlsayBiYXRjaGVzCiAgICAgICAgICAgIHdoaWxlICghZHEuZW1wdHkoKSAmJiBkcS5mcm9udCgpLmZpcnN0ICsgayA8PSBjdXJyZW50X2RheSkgewogICAgICAgICAgICAgICAgZHEucG9wX2Zyb250KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFkZCBuZXcgbWlsayBpZiBjdXJyZW50X2RheSBtYXRjaGVzIG1pbGtbaWR4XS5kYXkKICAgICAgICAgICAgd2hpbGUgKGlkeCA8IG4gJiYgbWlsa1tpZHhdLmRheSA9PSBjdXJyZW50X2RheSkgewogICAgICAgICAgICAgICAgZHEucHVzaF9iYWNrKHttaWxrW2lkeF0uZGF5LCBtaWxrW2lkeF0uYW1vdW50fSk7CiAgICAgICAgICAgICAgICBpZHgrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRHJpbmsgbWlsayB1cCB0byBtIHBpbnRzIGZyb20gZnJlc2hlc3QgdG8gb2xkZXN0CiAgICAgICAgICAgIC8vIGZyZXNoZXN0IGZpcnN0IG1lYW5zIGZyb20gdGhlIGJhY2sgb2YgZGVxdWUKICAgICAgICAgICAgbG9uZyBsb25nIHRvX2RyaW5rID0gbTsKCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBhdmFpbGFibGUgbWlsawogICAgICAgICAgICBsb25nIGxvbmcgdG90YWxfYXZhaWxhYmxlID0gMDsKICAgICAgICAgICAgZm9yIChhdXRvICZiIDogZHEpIHRvdGFsX2F2YWlsYWJsZSArPSBiLnNlY29uZDsKCiAgICAgICAgICAgIGlmICh0b3RhbF9hdmFpbGFibGUgPj0gbSkgc2F0aXNmYWN0aW9uX2RheXMrKzsKCiAgICAgICAgICAgIHdoaWxlICh0b19kcmluayA+IDAgJiYgIWRxLmVtcHR5KCkpIHsKICAgICAgICAgICAgICAgIGF1dG8gJmJhdGNoID0gZHEuYmFjaygpOwogICAgICAgICAgICAgICAgaWYgKGJhdGNoLnNlY29uZCA8PSB0b19kcmluaykgewogICAgICAgICAgICAgICAgICAgIHRvX2RyaW5rIC09IGJhdGNoLnNlY29uZDsKICAgICAgICAgICAgICAgICAgICBkcS5wb3BfYmFjaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBiYXRjaC5zZWNvbmQgLT0gdG9fZHJpbms7CiAgICAgICAgICAgICAgICAgICAgdG9fZHJpbmsgPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjdXJyZW50X2RheSsrOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBzYXRpc2ZhY3Rpb25fZGF5cyA8PCAiXG4iOwogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
