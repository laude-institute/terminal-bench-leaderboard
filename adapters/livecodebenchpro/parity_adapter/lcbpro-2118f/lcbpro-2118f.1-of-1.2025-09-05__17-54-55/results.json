{
    "id": "996366f3-d9c8-4c90-9bed-13882c671318",
    "trial_name": "lcbpro-2118f.1-of-1.2025-09-05__17-54-55",
    "task_id": "lcbpro-2118f",
    "instruction": "LiveCodeBench Pro (Mini) - external judge.\n\nThe agent must create a C++17 solution file at /app/main.cpp.\nThis task does not include local test cases. Instead, the test harness:\n  1) POSTs the code to the external judge (/submit) to get a sid,\n  2) polls GET /result/{sid}?short=1 until status == \"done\",\n  3) passes only if the judge returns passed == true.\n\nEnvironment variables (overridable at runtime):\n  - BASE_URL: judge base URL (default http://38.80.122.117:8081)\n  - PID: problem id (default 2118F)\n  - LANG: language (default cpp)\n  - CODE_PATH: path to code (default /app/main.cpp)\n  - JUDGE_TIMEOUT_SECS: poll timeout seconds (default 120)\n\nYou are given arrays $a$ and $b$ of length $n$ and an integer $m$.\n\nThe arrays only contain integers from $1$ to $m$, and both arrays contain all integers from $1$ to $m$.\n\nYou may repeatedly perform either of the following operations on $a$:\n\n- cyclic shift$^{\\text{∗}}$ the array to the left\n- swap two neighboring elements if their difference is at least $2$.\n\nIs it possible to transform the first array into the second?\n\n$^{\\text{∗}}$A left cyclic shift of a zero-indexed array $p$ of length $n$ is an array $q$ such that $q_i = p_{(i + 1) \\bmod n}$ for all $0 \\le i < n$.\n\n### Input\n\nEach test contains multiple test cases. The first line contains the number of test cases $t$ ($1 \\le t \\le 10^5$). The description of the test cases follows.\n\nThe first line of each test case contains two integers $n$ and $m$ ($2 \\le m \\le n \\le 5\\cdot10^5$) -- the length of the arrays and the number of distinct elements in $a$.\n\nThe second line contains $n$ integers $a_1, a_2, \\ldots, a_n$ ($1 \\le a_i \\le m$) -- denoting the array $a$.\n\nThe third line contains $n$ integers $b_1, b_2, \\ldots, b_n$ ($1 \\le b_i \\le m$) -- denoting the array $b$.\n\nIt is guaranteed that both arrays contain all integers from $1$ to $m$.\n\nIt is guaranteed that the sum of $n$ over all test cases does not exceed $5\\cdot10^5$.\n\n### Output\n\nFor each test case, output \"YES\" if it is possible to transform the first array into the second and \"NO\" otherwise. You can output the answer in any case (upper or lower). For example, the strings \"yEs\", \"yes\", \"Yes\", and \"YES\" will be recognized as positive responses.\n\n### Example\n\n#### Input #1\n\n```\n\n8\n\n3 3\n\n1 2 3\n\n3 2 1\n\n4 3\n\n1 1 2 3\n\n1 2 2 3\n\n4 4\n\n1 3 2 4\n\n2 3 4 1\n\n6 3\n\n1 1 2 1 2 3\n\n2 1 1 2 3 1\n\n5 4\n\n2 3 4 1 1\n\n3 2 1 1 4\n\n9 7\n\n2 4 6 7 3 1 5 4 6\n\n6 7 3 5 6 4 2 4 1\n\n9 8\n\n8 3 5 6 5 4 1 7 2\n\n7 5 3 5 8 4 6 2 1\n\n8 6\n\n2 1 5 4 6 3 5 4\n\n6 1 5 2 4 5 3 4\n\n```\n\n#### Output #1\n\n```\nYES\nNO\nYES\nNO\nYES\nYES\nNO\nNO\n```\n\n### Note\n\nIn the first test case, you can transform array $a$ into array $b$ with the following steps:\n\n- \\[$1$, $2$, $3$\\] -- shift to the left\n- \\[$2$, $3$, $1$\\] -- swap indices $2$ and $3$\n- \\[$2$, $1$, $3$\\] -- shift to the left\n- \\[$1$, $3$, $2$\\] -- shift to the left\n- \\[$3$, $2$, $1$\\]\n\nIn the second test case, it can be proven that it is impossible to transform array $a$ into array $b$ with the given operations.",
    "is_resolved": false,
    "failure_mode": "unset",
    "parser_results": {
        "test_external_judge": "failed"
    },
    "recording_path": "2025-09-05__17-54-55/lcbpro-2118f/lcbpro-2118f.1-of-1.2025-09-05__17-54-55/sessions/agent.cast",
    "total_input_tokens": 1291,
    "total_output_tokens": 854,
    "trial_started_at": "2025-09-06T01:37:10.487775+00:00",
    "trial_ended_at": "2025-09-06T01:37:58.950950+00:00",
    "agent_started_at": "2025-09-06T01:37:26.633765+00:00",
    "agent_ended_at": "2025-09-06T01:37:39.643872+00:00",
    "test_started_at": "2025-09-06T01:37:41.207408+00:00",
    "test_ended_at": "2025-09-06T01:37:43.879633+00:00"
}