[?2004hroot@c698ccdc0098:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@c698ccdc0098:/app# clear
[?2004l[H[J[3J[?2004hroot@c698ccdc0098:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICAKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsgY2luID4+IG47CiAgICAgICAgdmVjdG9yPGludD4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGFbaV07CiAgICAgICAgCiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW5nIGNoYW5nZXMgYXJyYXkgZAogICAgICAgIC8vIGRbaV0gPSArMSBpZiBhW2ldID4geCwgLTEgaWYgYVtpXSA8IHgsIDAgaWYgYVtpXSA9PSB4CiAgICAgICAgLy8gSW5pdGlhbGx5IHg9MCBhbmQgcmF0aW5nIGNoYW5nZXMgYnkgdGhlc2UgcnVsZXMsCiAgICAgICAgLy8gYnV0IHNpbmNlIHdlIHN0YXJ0IGZyb20gMCBhbmQgeCBjaGFuZ2VzIGJ5ICsxIG9yIC0xIGFjY29yZGluZ2x5LAogICAgICAgIC8vIHRoZSByYXRpbmcgY2hhbmdlcyBwZXIgY29udGVzdCBhcmUgZGV0ZXJtaW5lZCBieSBjb21wYXJpbmcgYVtpXSB0byBjdXJyZW50IHguCiAgICAgICAgLy8gSG93ZXZlciwgd2UgY2FuIHNpbXVsYXRlIHRoZSBjaGFuZ2VzIGJ5IGFzc3VtaW5nIHggY2hhbmdlcyBjdW11bGF0aXZlbHkuCiAgICAgICAgLy8gVGhlIHByb2JsZW0gY2FuIGJlIHRyYW5zZm9ybWVkIHRvIGZpbmRpbmcgYW4gaW50ZXJ2YWwgdG8gc2tpcCB0aGF0IG1heGltaXplcyBmaW5hbCByYXRpbmcuCiAgICAgICAgCiAgICAgICAgLy8gTGV0J3MgZGVmaW5lIGRbaV0gYXMgdGhlIHJhdGluZyBjaGFuZ2UgYXQgY29udGVzdCBpIGlmIG5vdCBza2lwcGVkOgogICAgICAgIC8vIGRbaV0gPSAxIGlmIGFbaV0gPiB4X2ksIC0xIGlmIGFbaV0gPCB4X2ksIDAgaWYgYVtpXSA9PSB4X2kKICAgICAgICAvLyBCdXQgeF9pIGRlcGVuZHMgb24gcHJldmlvdXMgcmF0aW5nIGNoYW5nZXMuIFRvIHNpbXBsaWZ5LCB3ZSBub3RlIHRoYXQKICAgICAgICAvLyB0aGUgcmF0aW5nIGNoYW5nZXMgY2FuIGJlIHNpbXVsYXRlZCBhczoKICAgICAgICAvLyBGb3IgZWFjaCBjb250ZXN0IGksIGRbaV0gPSArMSBpZiBhW2ldID4gY3VycmVudCByYXRpbmcsIC0xIGlmIGxlc3MsIDAgaWYgZXF1YWwuCiAgICAgICAgLy8gQnV0IGN1cnJlbnQgcmF0aW5nIGRlcGVuZHMgb24gcHJldmlvdXMgZCdzIHN1bS4KICAgICAgICAKICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBjYW4gY2FsY3VsYXRlIGRbaV0gPSArMSBpZiBhW2ldID4gaS0xLCAtMSBpZiBhW2ldIDwgaS0xLCAwIG90aGVyd2lzZQogICAgICAgIC8vIEJlY2F1c2UgcmF0aW5nIGFmdGVyIGktMSBjb250ZXN0cyBpcyBpLTEgbWludXMgbnVtYmVyIG9mIC0xIGNoYW5nZXMgcGx1cyBudW1iZXIgb2YgKzEgY2hhbmdlcywKICAgICAgICAvLyBidXQgdGhlIHJhdGluZyBjaGFuZ2VzIGJ5IGV4YWN0bHkgKzEgb3IgLTEgcGVyIGNvbnRlc3QuCiAgICAgICAgCiAgICAgICAgLy8gQnV0IHRoZSBwcm9ibGVtIGlzIHRyaWNreSwgc28gbGV0J3MgdXNlIGEga25vd24gYXBwcm9hY2g6CiAgICAgICAgLy8gVGhlIHJhdGluZyBhZnRlciBwcm9jZXNzaW5nIGFsbCBjb250ZXN0cyB3aXRob3V0IHNraXBwaW5nIGlzIHRoZSBzdW0gb2YgZFtpXS4KICAgICAgICAvLyBXaGVuIHdlIHNraXAgYW4gaW50ZXJ2YWwsIHdlIHJlbW92ZSB0aGUgc3VtIG9mIGRbaV0gaW4gdGhhdCBpbnRlcnZhbCBmcm9tIHRoZSB0b3RhbC4KICAgICAgICAKICAgICAgICAvLyBTaW5jZSBza2lwcGluZyBjb250ZXN0cyByZW1vdmVzIHRoZWlyIHJhdGluZyBjaGFuZ2VzLCB0aGUgcmF0aW5nIGFmdGVyIHNraXBwaW5nIFtsLHJdIGlzOgogICAgICAgIC8vIHRvdGFsX3N1bSAtIHN1bV9vZl9kW2wuLnJdCiAgICAgICAgCiAgICAgICAgLy8gV2Ugd2FudCB0byBtYXhpbWl6ZSB0b3RhbF9zdW0gLSBzdW1fb2ZfZFtsLi5yXSwgc28gZXF1aXZhbGVudGx5IG1pbmltaXplIHN1bV9vZl9kW2wuLnJdLgogICAgICAgIC8vIFNpbmNlIHdlIG11c3Qgc2tpcCBhdCBsZWFzdCBvbmUgY29udGVzdCwgZmluZCB0aGUgc3ViYXJyYXkgd2l0aCBtaW5pbXVtIHN1bS4KICAgICAgICAKICAgICAgICAvLyBUbyBmaW5kIGRbaV0sIHdlIHNpbXVsYXRlIHRoZSByYXRpbmcgY2hhbmdlcyBhc3N1bWluZyByYXRpbmcgc3RhcnRzIGF0IDAgYW5kIGNoYW5nZXMgYnkgKzEsIDAsIG9yIC0xOgogICAgICAgIHZlY3RvcjxpbnQ+IGQobik7CiAgICAgICAgaW50IHggPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhW2ldID4geCkgZFtpXSA9IDEsIHgrKzsKICAgICAgICAgICAgZWxzZSBpZiAoYVtpXSA9PSB4KSBkW2ldID0gMDsKICAgICAgICAgICAgZWxzZSBkW2ldID0gLTEsIHgtLTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaW50IHRvdGFsID0gMDsKICAgICAgICBmb3IgKGludCB2IDogZCkgdG90YWwgKz0gdjsKICAgICAgICAKICAgICAgICAvLyBGaW5kIG1pbmltdW0gc3ViYXJyYXkgc3VtIChhdCBsZWFzdCBvbmUgZWxlbWVudCkgaW4gZAogICAgICAgIGludCBtaW5fc3ViYXJyYXkgPSBJTlRfTUFYLCBjdXJyZW50X3N1bSA9IDA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY3VycmVudF9zdW0gKz0gZFtpXTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRfc3VtIDwgbWluX3N1YmFycmF5KSBtaW5fc3ViYXJyYXkgPSBjdXJyZW50X3N1bTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRfc3VtID4gMCkgY3VycmVudF9zdW0gPSAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBNYXhpbXVtIHJhdGluZyBhZnRlciBza2lwcGluZyBpbnRlcnZhbCBpcyB0b3RhbCAtIG1pbl9zdWJhcnJheQogICAgICAgIC8vIEJlY2F1c2Ugc2tpcHBpbmcgcmVtb3ZlcyB0aGF0IG1pbmltYWwgc3VtIGludGVydmFsCiAgICAgICAgY291dCA8PCB0b3RhbCAtIG1pbl9zdWJhcnJheSA8PCAiXG4iOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@c698ccdc0098:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@c698ccdc0098:/app# 