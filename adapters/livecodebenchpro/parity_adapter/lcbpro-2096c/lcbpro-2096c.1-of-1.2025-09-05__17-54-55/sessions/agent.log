[?2004hroot@14f0b7c63bed:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@14f0b7c63bed:/app# clear
[?2004l[H[J[3J[?2004hroot@14f0b7c63bed:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOwogICAgICAgIGNpbiA+PiBuOwogICAgICAgIHZlY3Rvcjx2ZWN0b3I8bG9uZyBsb25nPj4gaChuLCB2ZWN0b3I8bG9uZyBsb25nPihuKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBuOyArK2opIHsKICAgICAgICAgICAgICAgIGNpbiA+PiBoW2ldW2pdOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGEobiksIGIobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIGNpbiA+PiBhW2ldOwogICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbjsgKytqKSBjaW4gPj4gYltqXTsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIHJvdyBpbmNyZW1lbnRzIHhbaV0gYW5kIGNvbHVtbiBpbmNyZW1lbnRzIHlbal0gaW4gezAsMX0KICAgICAgICAvLyBzbyB0aGF0IChoW2ldW2pdICsgeFtpXSArIHlbal0pICUgMiAhPSAoaFtpXVtqKzFdICsgeFtpXSArIHlbaisxXSkgJSAyIGZvciBhbGwgYWRqYWNlbnQKICAgICAgICAvLyBhbmQgc2ltaWxhcmx5IHZlcnRpY2FsbHkuCiAgICAgICAgLy8gU2luY2UgaW5jcmVtZW50cyBhcmUgMCBvciAxLCBhbmQgcGFyaXR5IG1hdHRlcnMsIHRoaXMgcmVkdWNlcyB0byBhIDItY29sb3JpbmcgcHJvYmxlbQogICAgICAgIC8vIG9mIHRoZSBncmlkIHdpdGggcGFyaXR5IGNvbnN0cmFpbnRzLgogICAgICAgIC8vIFdlIGNhbiBmaXggeFswXSA9IDAgb3IgMSBhbmQgZGV0ZXJtaW5lIGFsbCB4W2ldLCB5W2pdIGFjY29yZGluZ2x5LgoKICAgICAgICAvLyBUcnkgYm90aCBwb3NzaWJpbGl0aWVzIGZvciB4WzBdID0gMCBhbmQgeFswXSA9IDEKICAgICAgICAvLyBhbmQgcGljayBtaW5pbWFsIGNvc3Qgb3IgLTEgaWYgaW1wb3NzaWJsZS4KCiAgICAgICAgbG9uZyBsb25nIGFucyA9IC0xOwoKICAgICAgICBmb3IgKGludCBiYXNlID0gMDsgYmFzZSA8PSAxOyArK2Jhc2UpIHsKICAgICAgICAgICAgdmVjdG9yPGludD4geChuLCAtMSk7CiAgICAgICAgICAgIHZlY3RvcjxpbnQ+IHkobiwgLTEpOwogICAgICAgICAgICB4WzBdID0gYmFzZTsKCiAgICAgICAgICAgIC8vIERldGVybWluZSB5W2pdIGZyb20gZmlyc3Qgcm93CiAgICAgICAgICAgIGJvb2wgb2sgPSB0cnVlOwogICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IG47ICsraikgewogICAgICAgICAgICAgICAgLy8gcGFyaXR5IG9mIGhbMF1bal0gKyB4WzBdICsgeVtqXQogICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBhc3NpZ24geVtqXSBzdWNoIHRoYXQgdGhlIGNvbG9yaW5nIGlzIGNvbnNpc3RlbnQKICAgICAgICAgICAgICAgIHlbal0gPSAoKGhbMF1bal0gKyB4WzBdKSAlIDIpOwogICAgICAgICAgICAgICAgeVtqXSA9IDEgLSB5W2pdOyAvLyBCZWNhdXNlIGFmdGVyIGluY3JlbWVudCwgcGFyaXR5IHNob3VsZCBhbHRlcm5hdGUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHhbaV0gZnJvbSBmaXJzdCBjb2x1bW4KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBuOyArK2kpIHsKICAgICAgICAgICAgICAgIGludCB2YWwgPSAoKGhbaV1bMF0gKyB5WzBdKSAlIDIpOwogICAgICAgICAgICAgICAgeFtpXSA9IDEgLSB2YWw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGNvbnNpc3RlbmN5IGZvciBhbGwgY2VsbHMKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuICYmIG9rOyArK2kpIHsKICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbiAmJiBvazsgKytqKSB7CiAgICAgICAgICAgICAgICAgICAgaW50IHBhcml0eSA9IChoW2ldW2pdICsgeFtpXSArIHlbal0pICUgMjsKICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayByaWdodCBuZWlnaGJvcgogICAgICAgICAgICAgICAgICAgIGlmIChqICsgMSA8IG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW50IHBhcml0eV9yID0gKGhbaV1baisxXSArIHhbaV0gKyB5W2orMV0pICUgMjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcml0eSA9PSBwYXJpdHlfcikgb2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZG93biBuZWlnaGJvcgogICAgICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW50IHBhcml0eV9kID0gKGhbaSsxXVtqXSArIHhbaSsxXSArIHlbal0pICUgMjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcml0eSA9PSBwYXJpdHlfZCkgb2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghb2spIGNvbnRpbnVlOwoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGNvc3QKICAgICAgICAgICAgbG9uZyBsb25nIGNvc3QgPSAwOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgICAgICAgICAgaWYgKHhbaV0gPT0gMSkgY29zdCArPSBhW2ldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbjsgKytqKSB7CiAgICAgICAgICAgICAgICBpZiAoeVtqXSA9PSAxKSBjb3N0ICs9IGJbal07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChhbnMgPT0gLTEgfHwgY29zdCA8IGFucykgYW5zID0gY29zdDsKICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgYW5zIDw8ICJcbiI7CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@14f0b7c63bed:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@14f0b7c63bed:/app# 