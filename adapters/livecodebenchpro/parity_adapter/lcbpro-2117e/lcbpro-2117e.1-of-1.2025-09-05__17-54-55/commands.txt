['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8aW50PiBhKG4pLCBiKG4pOwogICAgICAgIGZvciAoaW50ICZ4IDogYSkgY2luID4+IHg7CiAgICAgICAgZm9yIChpbnQgJnggOiBiKSBjaW4gPj4geDsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBtYXhpbWl6ZSBtYXRjaGVzIGFmdGVyIGFueSBudW1iZXIgb2Ygb3BlcmF0aW9ucyBhbmQgYXQgbW9zdCBvbmUgcmVtb3ZhbC4KICAgICAgICAvLyBLZXkgb2JzZXJ2YXRpb246IFdlIGNhbiBwcm9wYWdhdGUgdmFsdWVzIGZvcndhcmQ6CiAgICAgICAgLy8gYVtpXSBjYW4gYmVjb21lIGJbaSsxXSwgYltpXSBjYW4gYmVjb21lIGFbaSsxXSwgcmVwZWF0ZWRseS4KICAgICAgICAvLyBTbyB0aGUgdmFsdWVzIGluIGEgYW5kIGIgY2FuIGJlIGNoYW5nZWQgYnkgcHVsbGluZyBmcm9tIHRoZSBuZXh0IHBvc2l0aW9uIGluIHRoZSBvdGhlciBhcnJheS4KICAgICAgICAvLwogICAgICAgIC8vIFdlIHdpbGwgZmluZCB0aGUgbG9uZ2VzdCBzdWZmaXggd2hlcmUgYWZ0ZXIgZXF1YWxpemluZyB3ZSBjYW4gaGF2ZSBtYXRjaGVzLgogICAgICAgIC8vIExldCdzIHRyeSB0byBmaW5kIHRoZSBtYXhpbXVtIG1hdGNoZXMgd2l0aG91dCByZW1vdmFsIGFuZCB0aGVuIHRyeSByZW1vdmluZyBvbmUgaW5kZXguCgogICAgICAgIC8vIEFwcHJvYWNoOgogICAgICAgIC8vIEJlY2F1c2Ugb3BlcmF0aW9uIGNhbiBiZSBhcHBsaWVkIG11bHRpcGxlIHRpbWVzLCB0aGUgdmFsdWVzIGF0IHBvc2l0aW9uIGkgY2FuIGJlIGNoYW5nZWQKICAgICAgICAvLyB0byB0aGUgdmFsdWVzIGZyb20gcG9zaXRpb25zIGFoZWFkIGluIHRoZSBhcnJheXMuCiAgICAgICAgLy8gU28gdGhlIHZhbHVlcyBhdCBwb3NpdGlvbiBpIGRlcGVuZCBvbiB2YWx1ZXMgYXQgcG9zaXRpb25zID4gaS4KICAgICAgICAvLwogICAgICAgIC8vIExldCdzIGRlZmluZSBkcCBhcnJheXMgdGhhdCBrZWVwIHRyYWNrIG9mIGhvdyBmYXIgd2UgY2FuIHByb3BhZ2F0ZSBtYXRjaGVzLgogICAgICAgIC8vIFdlJ2xsIHVzZSB0d28gYXJyYXlzIGYgYW5kIGc6CiAgICAgICAgLy8gZltpXTogbG9uZ2VzdCBzdWZmaXggc3RhcnRpbmcgYXQgaSB3aGVyZSBhW2kuLm4tMV0gPT0gYltpLi5uLTFdIGFmdGVyIG9wZXJhdGlvbnMuCiAgICAgICAgLy8gZ1tpXTogbG9uZ2VzdCBzdWZmaXggc3RhcnRpbmcgYXQgaSB3aGVyZSBhW2kuLm4tMV0gYW5kIGJbaS4ubi0xXSBjYW4gYmUgbWFkZSBlcXVhbCBieSBvcGVyYXRpb25zLgogICAgICAgIC8vIEFjdHVhbGx5LCB3ZSBjYW4ganVzdCBjb25zaWRlciBzdWZmaXggbWF0Y2hlcyB3aGVyZSBhW2ldID09IGJbaV0sIGFuZCB0aGVuIHByb3BhZ2F0ZS4KCiAgICAgICAgLy8gSW5zdGVhZCwgbGV0J3MgY29uc2lkZXIgdGhlIGZvbGxvd2luZzoKICAgICAgICAvLyBXZSBrbm93IGFbaV0gY2FuIGJlIHNldCB0byBiW2krMV0sIGFuZCBiW2ldIGNhbiBiZSBzZXQgdG8gYVtpKzFdLgogICAgICAgIC8vIFNvLCBpZiB3ZSB0aGluayBhYm91dCB0aGUgZmluYWwgYXJyYXlzLCBwb3NpdGlvbnMgaSBhbmQgaSsxIGNhbiBiZSBtYXRjaGVkIGJ5IGZpeGluZyB3aXRoIG5leHQgZWxlbWVudHMuCgogICAgICAgIC8vIExldCdzIGNvbnNpZGVyIGEgZ3JlZWR5IGFwcHJvYWNoOgogICAgICAgIC8vIFRoZSBwcm9ibGVtIGlzIGNvbXBsZXgsIGJ1dCB0aGUgZWRpdG9yaWFsIGFwcHJvYWNoIGlzIHRvIGNvbnNpZGVyIHRoZSBudW1iZXIgb2YgbWF0Y2hlcyB3aGVuIHdlIHJlbW92ZSB0aGUgaS10aCBpbmRleC4KICAgICAgICAvLyBGb3IgdGhhdCwgd2UgY2FuIHByZWNvbXB1dGUgcHJlZml4IGFuZCBzdWZmaXggbWF0Y2hlcy4KCiAgICAgICAgdmVjdG9yPGludD4gcHJlZml4X21hdGNoZXMobiArIDEsIDApOwogICAgICAgIHZlY3RvcjxpbnQ+IHN1ZmZpeF9tYXRjaGVzKG4gKyAxLCAwKTsKCiAgICAgICAgLy8gQ29tcHV0ZSBwcmVmaXggbWF0Y2hlcyB3aXRob3V0IHJlbW92YWxzCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcHJlZml4X21hdGNoZXNbaSArIDFdID0gcHJlZml4X21hdGNoZXNbaV0gKyAoYVtpXSA9PSBiW2ldID8gMSA6IDApOwogICAgICAgIH0KCiAgICAgICAgLy8gQ29tcHV0ZSBzdWZmaXggbWF0Y2hlcyBzaW1pbGFybHkKICAgICAgICBmb3IgKGludCBpID0gbiAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIHN1ZmZpeF9tYXRjaGVzW2ldID0gc3VmZml4X21hdGNoZXNbaSArIDFdICsgKGFbaV0gPT0gYltpXSA/IDEgOiAwKTsKICAgICAgICB9CgogICAgICAgIC8vIEJ1dCB3ZSBuZWVkIHRvIGNvbnNpZGVyIHRoYXQgd2UgY2FuIGRvIG9wZXJhdGlvbnMgdG8gaW1wcm92ZSBtYXRjaGVzLgogICAgICAgIC8vIE9ic2VydmF0aW9uIGZyb20gZWRpdG9yaWFsIChvciBsb2dpY2FsIHJlYXNvbmluZyk6CiAgICAgICAgLy8gU2luY2UgYVtpXSBjYW4gYmUgc2V0IHRvIGJbaSsxXSwgYW5kIGJbaV0gdG8gYVtpKzFdLCB3ZSBjYW4gcHJvcGFnYXRlIG1hdGNoZXMgZm9yd2FyZC4KICAgICAgICAvLyBUaHVzLCB0aGUgbWF4aW11bSBtYXRjaGVzIGFjaGlldmFibGUgaXMgdGhlIG1heGltdW0gbGVuZ3RoIG9mIGEgc3ViYXJyYXkgd2hlcmUgYSBhbmQgYiBjYW4gYmUgbWF0Y2hlZCBhZnRlciBvcGVyYXRpb25zLgogICAgICAgIC8vIEFsc28sIHJlbW92aW5nIG9uZSBwYWlyIGNhbiBoZWxwIHRvIGluY3JlYXNlIG1hdGNoZXMgYnkgcmVtb3ZpbmcgbWlzbWF0Y2hlZCBwYWlyLgoKICAgICAgICAvLyBXZSdsbCB0cnkgdG8gcmVtb3ZlIGVhY2ggaW5kZXggYW5kIGNvbXB1dGUgdGhlIG1hdGNoZXMgb24gdGhlIHJlbWFpbmluZyBhcnJheXMgYWZ0ZXIgb3B0aW1hbCBvcGVyYXRpb25zLgogICAgICAgIC8vIEJ1dCBzaW5jZSBvcGVyYXRpb25zIGNhbiBwcm9wYWdhdGUgdmFsdWVzIGZvcndhcmQsIHRoZSBhcnJheXMgY2FuIGJlIGFsaWduZWQgZnJvbSB0aGUgZW5kLgoKICAgICAgICAvLyBMZXQncyB0cnkgdG8gZmluZCB0aGUgbG9uZ2VzdCBzdWZmaXggd2hlcmUgYVtpXSA9PSBiW2ldIG9yIGNhbiBiZSBtYWRlIGVxdWFsIGJ5IG9wZXJhdGlvbnMuCiAgICAgICAgLy8gQmVjYXVzZSBvZiBwcm9wYWdhdGlvbiwgaWYgYVtpKzFdID09IGJbaSsxXSwgdGhlbiBhW2ldIGNhbiBiZSBtYWRlIGVxdWFsIHRvIGJbaV0sIGV0Yy4KCiAgICAgICAgLy8gTGV0J3MgZGVmaW5lIGFycmF5cyB0byBjaGVjayBpZiBzdWZmaXggZnJvbSBpIGNhbiBiZSBtYXRjaGVkIGZ1bGx5IGFmdGVyIG9wZXJhdGlvbnMuCgogICAgICAgIHZlY3Rvcjxib29sPiBjYW5fbWF0Y2hfc3VmZml4KG4gKyAxLCB0cnVlKTsKICAgICAgICAvLyBjYW5fbWF0Y2hfc3VmZml4W25dID0gdHJ1ZSAoZW1wdHkgc3VmZml4KQoKICAgICAgICBmb3IgKGludCBpID0gbiAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIC8vIGFmdGVyIG9wZXJhdGlvbnMsIGFbaV0gYW5kIGJbaV0gY2FuIGJlIG1hZGUgZXF1YWwgaWY6CiAgICAgICAgICAgIC8vIGFbaV0gPT0gYltpXSwKICAgICAgICAgICAgLy8gb3IgYVtpXSBjYW4gYmUgc2V0IHRvIGJbaSsxXSwgYW5kIGJbaV0gY2FuIGJlIHNldCB0byBhW2krMV0sIHNvIGlmIGNhbl9tYXRjaF9zdWZmaXhbaSsxXSBpcyB0cnVlLAogICAgICAgICAgICAvLyBhbmQgZWl0aGVyIGFbaV0gPT0gYltpXSBvciB3ZSBjYW4gcHJvcGFnYXRlCiAgICAgICAgICAgIGNhbl9tYXRjaF9zdWZmaXhbaV0gPSBjYW5fbWF0Y2hfc3VmZml4W2kgKyAxXSAmJiAoYVtpXSA9PSBiW2ldIHx8IChpICsgMSA8IG4pKTsKICAgICAgICAgICAgLy8gQnV0IHRoaXMgaXMgYWx3YXlzIHRydWUgYmVjYXVzZSB3ZSBjYW4gcGVyZm9ybSBvcGVyYXRpb25zIHRvIGVxdWFsaXplLgogICAgICAgICAgICAvLyBTbyBjYW5fbWF0Y2hfc3VmZml4W2ldID0gdHJ1ZSBmb3IgYWxsIGkuCiAgICAgICAgfQoKICAgICAgICAvLyBTbywgaXQgbWVhbnMgd2UgY2FuIG1ha2UgYWxsIHN1ZmZpeCBlcXVhbCBieSBvcGVyYXRpb25zLgogICAgICAgIC8vIFRoZW4sIHRoZSBwcm9ibGVtIHJlZHVjZXMgdG8gcmVtb3Zpbmcgb25lIGluZGV4IHRvIG1heGltaXplIG1hdGNoZXMuCgogICAgICAgIC8vIExldCdzIHRyeSB0byBmaW5kIG1heGltdW0gbWF0Y2hlcyB3ZSBjYW4gZ2V0IGFmdGVyIHJlbW92aW5nIG9uZSBpbmRleCBpOgogICAgICAgIC8vIG1hdGNoZXMgPSBwcmVmaXhfbWF0Y2hlc1tpXSArIHN1ZmZpeF9tYXRjaGVzW2kgKyAxXQoKICAgICAgICBpbnQgYW5zd2VyID0gMDsKICAgICAgICAvLyBDYXNlOiBubyByZW1vdmFsCiAgICAgICAgYW5zd2VyID0gcHJlZml4X21hdGNoZXNbbl07CiAgICAgICAgLy8gQ2FzZTogcmVtb3ZlIG9uZSBpbmRleAogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGludCBjdXIgPSBwcmVmaXhfbWF0Y2hlc1tpXSArIHN1ZmZpeF9tYXRjaGVzW2kgKyAxXTsKICAgICAgICAgICAgaWYgKGN1ciA+IGFuc3dlcikgYW5zd2VyID0gY3VyOwogICAgICAgIH0KCiAgICAgICAgLy8gQnV0IGZyb20gdGhlIGV4YW1wbGUsIHdlIGNhbiBkbyBiZXR0ZXIgYnkgYXBwbHlpbmcgdGhlIG9wZXJhdGlvbnMuCiAgICAgICAgLy8gU28gdGhlIGFib3ZlIG5haXZlIGFwcHJvYWNoIGlzIG5vdCBlbm91Z2guCgogICAgICAgIC8vIExldCdzIGltcGxlbWVudCB0aGUgZWRpdG9yaWFsIHNvbHV0aW9uOgogICAgICAgIC8vIFdlIGNhbiBzaW11bGF0ZSB0aGUgb3BlcmF0aW9ucyB0byBmaW5kIG1heGltdW0gbWF0Y2hlcy4KCiAgICAgICAgLy8gV2UnbGwgdXNlIGEgbWFwIHRvIHN0b3JlIHRoZSBjb3VudHMgb2YgdmFsdWVzIHRoYXQgY2FuIGJlIG1hdGNoZWQgYnkgc2hpZnRpbmcuCgogICAgICAgIC8vIFdlJ2xsIHByb2Nlc3MgZnJvbSByaWdodCB0byBsZWZ0IGFuZCBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IG1hdGNoZXMgY2FuIGJlIGZvcm1lZC4KCiAgICAgICAgdmVjdG9yPGludD4gcG9zX2EobiArIDEsIDApLCBwb3NfYihuICsgMSwgMCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcG9zX2FbYVtpXV0gPSBpICsgMTsKICAgICAgICAgICAgcG9zX2JbYltpXV0gPSBpICsgMTsKICAgICAgICB9CgogICAgICAgIC8vIFdlJ2xsIHRyeSB0byBmaW5kIG1heGltdW0gbGVuZ3RoIG9mIGEgc3ViYXJyYXkgd2hlcmUgd2UgY2FuIG1hdGNoIGJ5IG9wZXJhdGlvbnMuCgogICAgICAgIC8vIEJ1dCB0byBrZWVwIHRoZSBzb2x1dGlvbiB3aXRoaW4gdGltZSwgd2UgaW1wbGVtZW50IGEgdHdvIHBvaW50ZXIgYXBwcm9hY2g6CgogICAgICAgIGludCBtYXhfbWF0Y2ggPSAwOwogICAgICAgIHVub3JkZXJlZF9tYXA8aW50LCBpbnQ+IGZyZXE7CiAgICAgICAgaW50IG1hdGNoZXNfbm93ID0gMDsKCiAgICAgICAgLy8gV2UnbGwgdHJ5IHRvIGZpbmQgdGhlIG1heGltdW0gbnVtYmVyIG9mIG1hdGNoZXMgYnkgY29uc2lkZXJpbmcgcmVtb3ZpbmcgemVybyBvciBvbmUgaW5kZXgKCiAgICAgICAgLy8gV2Ugd2lsbCB0cnkgdG8gZmluZCB0aGUgbG9uZ2VzdCBzZWdtZW50IFtsLCByXSB3aGVyZSB3ZSBjYW4gbWFrZSBhIGFuZCBiIGVxdWFsIGFmdGVyIG9wZXJhdGlvbnMKICAgICAgICAvLyBVc2luZyB0aGUgZWRpdG9yaWFsIGFwcHJvYWNoOgoKICAgICAgICAvLyBXZSB3aWxsIHN0b3JlIGZyZXF1ZW5jeSBvZiB2YWx1ZXMgaW4gYiBhbmQgdHJ5IHRvIG1hdGNoIHdpdGggdmFsdWVzIGluIGEgc2hpZnRlZCBieSAxCgogICAgICAgIC8vIExldCdzIGltcGxlbWVudCBhIG1vcmUgc3RyYWlnaHRmb3J3YXJkIGFwcHJvYWNoOgoKICAgICAgICAvLyBTaW5jZSB0aGUgcHJvYmxlbSBpcyBjb21wbGV4LCBpbXBsZW1lbnQgYSBzb2x1dGlvbiBzaW1pbGFyIHRvIGVkaXRvcmlhbDoKCiAgICAgICAgLy8gV2UnbGwgc2ltdWxhdGUgdGhlIG9wZXJhdGlvbnMgYXMgaWYgdGhlIGFycmF5cyBhcmUgc2hpZnRlZCB0byBtYWtlIG1hdGNoZXMKCiAgICAgICAgLy8gTW9kZWxsaW5nIG9wZXJhdGlvbnMgYXMgc3dhcHBpbmcgZWxlbWVudHMgdG8gbmV4dCBpbmRpY2VzLAogICAgICAgIC8vIHRoZSBhcnJheXMgY2FuIGJlIGFsaWduZWQgZnJvbSB0aGUgYmFjay4KCiAgICAgICAgLy8gV2Ugd2lsbCBjcmVhdGUgYSB2ZWN0b3IgZHAgd2hlcmUgZHBbaV0gPSBtYXggbWF0Y2hlcyBmcm9tIGkgdG8gbi0xIGFmdGVyIG9wZXJhdGlvbnMKCiAgICAgICAgdmVjdG9yPGludD4gZHAobiArIDEsIDApOwogICAgICAgIGZvciAoaW50IGkgPSBuIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKGFbaV0gPT0gYltpXSkgZHBbaV0gPSBkcFtpICsgMV0gKyAxOwogICAgICAgICAgICBlbHNlIGRwW2ldID0gMDsKICAgICAgICB9CgogICAgICAgIC8vIFRoZSBsb25nZXN0IHN1ZmZpeCBvZiBtYXRjaGVzIHdpdGhvdXQgcmVtb3ZhbAogICAgICAgIGludCBsb25nZXN0X3N1ZmZpeCA9IDA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgbG9uZ2VzdF9zdWZmaXggPSBtYXgobG9uZ2VzdF9zdWZmaXgsIGRwW2ldKTsKICAgICAgICB9CgogICAgICAgIC8vIE5vdyBjaGVjayBmb3IgcmVtb3ZhbAogICAgICAgIC8vIFdlJ2xsIHRyeSByZW1vdmluZyBlYWNoIGluZGV4IGFuZCBzZWUgaWYgdGhhdCBpbmNyZWFzZXMgbWF0Y2hlcwoKICAgICAgICBhbnN3ZXIgPSBsb25nZXN0X3N1ZmZpeDsgLy8gYmVzdCB3aXRob3V0IHJlbW92YWwKCiAgICAgICAgZm9yIChpbnQgcmVtID0gMDsgcmVtIDwgbjsgcmVtKyspIHsKICAgICAgICAgICAgLy8gVHJ5IHJlbW92aW5nIHJlbQogICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBtYXRjaGVzCiAgICAgICAgICAgIC8vIEFmdGVyIHJlbW92YWwsIGFycmF5cyBoYXZlIGxlbmd0aCBuLTEKCiAgICAgICAgICAgIC8vIFdlIGNyZWF0ZSBuZXcgdmVjdG9ycyBhMiBhbmQgYjIgd2l0aG91dCBpbmRleCByZW0KICAgICAgICAgICAgdmVjdG9yPGludD4gYTIsIGIyOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGkgIT0gcmVtKSB7CiAgICAgICAgICAgICAgICAgICAgYTIucHVzaF9iYWNrKGFbaV0pOwogICAgICAgICAgICAgICAgICAgIGIyLnB1c2hfYmFjayhiW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gV2UgdHJ5IHRvIHNpbXVsYXRlIHRoZSBvcGVyYXRpb25zIHRvIGdldCBtYXhpbXVtIG1hdGNoZXMKICAgICAgICAgICAgLy8gV2UnbGwgdXNlIGRwIG9uIGEyIGFuZCBiMgogICAgICAgICAgICBpbnQgbSA9IChpbnQpIGEyLnNpemUoKTsKICAgICAgICAgICAgdmVjdG9yPGludD4gZHAyKG0gKyAxLCAwKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IG0gLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgaWYgKGEyW2ldID09IGIyW2ldKSBkcDJbaV0gPSBkcDJbaSArIDFdICsgMTsKICAgICAgICAgICAgICAgIGVsc2UgZHAyW2ldID0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW50IGxvbmdlc3QyID0gMDsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsKICAgICAgICAgICAgICAgIGxvbmdlc3QyID0gbWF4KGxvbmdlc3QyLCBkcDJbaV0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobG9uZ2VzdDIgPiBhbnN3ZXIpIGFuc3dlciA9IGxvbmdlc3QyOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnN3ZXIgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
