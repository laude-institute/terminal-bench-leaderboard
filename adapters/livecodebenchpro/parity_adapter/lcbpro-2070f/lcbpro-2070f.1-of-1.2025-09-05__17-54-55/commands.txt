['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IG4sIG07CiAgICBjaW4gPj4gbiA+PiBtOwogICAgdmVjdG9yPHN0cmluZz4gbGlrZXMobSk7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG07IGkrKykgewogICAgICAgIGNpbiA+PiBsaWtlc1tpXTsKICAgIH0KICAgIHZlY3RvcjxpbnQ+IGEobik7CiAgICBpbnQgc3VtQSA9IDA7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGNpbiA+PiBhW2ldOwogICAgICAgIHN1bUEgKz0gYVtpXTsKICAgIH0KCiAgICAvLyBNYXAgZWFjaCBmcmllbmQncyBsaWtlZCBwaXp6YXMgdG8gYSBiaXRtYXNrCiAgICB2ZWN0b3I8dWludDMyX3Q+IG1hc2tzKG0pOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsKICAgICAgICB1aW50MzJfdCBtYXNrID0gMDsKICAgICAgICBmb3IgKGNoYXIgYyA6IGxpa2VzW2ldKSB7CiAgICAgICAgICAgIG1hc2sgfD0gMXUgPDwgKGMgLSAnQScpOwogICAgICAgIH0KICAgICAgICBtYXNrc1tpXSA9IG1hc2s7CiAgICB9CgogICAgLy8gUHJlY29tcHV0ZSB3aGljaCBwaXp6YXMgaGF2ZSBvZGQgc2xpY2VzCiAgICB1aW50MzJfdCBvZGRfbWFzayA9IDA7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGlmIChhW2ldICUgMiA9PSAxKSB7CiAgICAgICAgICAgIG9kZF9tYXNrIHw9IDF1IDw8IGk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFByZWNvbXB1dGUgcHJlZml4IHN1bXMgZm9yIHBpenphIHNsaWNlcyB0byBxdWlja2x5IHN1bSBNb25vY2FycCBzbGljZXMKICAgIC8vIEFjdHVhbGx5IHdlIHdpbGwgY29tcHV0ZSBNb25vY2FycCBzbGljZXMgZGlyZWN0bHkgcGVyIHBhaXIKCiAgICAvLyBXZSBuZWVkIHRvIGNvdW50IGZvciBlYWNoIGsgdGhlIG51bWJlciBvZiBwYWlycyBmcmllbmRzIChpLCBqKSBpPGoKICAgIC8vIHN1Y2ggdGhhdCB0aGV5IGRvIG5vdCBxdWFycmVsIGFuZCBNb25vY2FycCBlYXRzIGV4YWN0bHkgayBzbGljZXMuCiAgICAvLyBDb25kaXRpb25zIGZvciBubyBxdWFycmVsOgogICAgLy8gRm9yIGFueSBwaXp6YSBsaWtlZCBieSBib3RoIGZyaWVuZHMsIHBpenphIHNsaWNlcyBtdXN0IGJlIGV2ZW4uCgogICAgLy8gVG8gc3BlZWQgdXAsIHdlIHdpbGwgdXNlIGEgaGFzaG1hcCBmcm9tIG1hc2sgdG8gdmVjdG9yIG9mIGluZGljZXMuCiAgICAvLyBCdXQgbSBjYW4gYmUgbGFyZ2UgKHVwIHRvIDUqMTBeNSksIGFuZCBuIHVwIHRvIDIwLgoKICAgIC8vIFdlIGNhbiBidWNrZXQgZnJpZW5kcyBieSB0aGVpciBtYXNrcy4KICAgIHVub3JkZXJlZF9tYXA8dWludDMyX3QsIHZlY3RvcjxpbnQ+PiBtYXNrX3RvX2luZGljZXM7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG07IGkrKykgewogICAgICAgIG1hc2tfdG9faW5kaWNlc1ttYXNrc1tpXV0ucHVzaF9iYWNrKGkpOwogICAgfQoKICAgIC8vIFdlIHdpbGwgcHJvY2VzcyBwYWlycyBvZiBtYXNrcyAoTTEsIE0yKSB3aXRoIE0xIDw9IE0yIGxleCBvcmRlcgogICAgLy8gRm9yIHBhaXJzIG9mIGZyaWVuZHMgd2l0aCB0aGVzZSBtYXNrcywgY29tcHV0ZSBpZiBubyBxdWFycmVsIGFuZCBNb25vY2FycCBzbGljZXMuCgogICAgLy8gUHJlY29tcHV0ZSBzbGljZSBzdW1zCiAgICAvLyBGb3IgYSBwYWlyIG9mIG1hc2tzIE0xLCBNMjoKICAgIC8vIC0gUGl6emFzIGxpa2VkIGJ5IGJvdGg6IGludGVyc2VjdGlvbiA9IE0xICYgTTIKICAgIC8vIC0gSWYgKGludGVyc2VjdGlvbiAmIG9kZF9tYXNrKSAhPSAwID0+IHF1YXJyZWwKICAgIC8vIC0gTW9ub2NhcnAgZWF0cyBwaXp6YXMgbGlrZWQgYnkgbm9uZTogfihNMSB8IE0yKSAmICgoMTw8biktMSkKICAgIC8vIHN1bSBzbGljZXMgZm9yIE1vbm9jYXJwCgogICAgLy8gc3VtIHNsaWNlcyBvZiBhIG1hc2s6CiAgICBhdXRvIHN1bV9tYXNrX3NsaWNlcyA9IFsmXSh1aW50MzJfdCBtYXNrKSB7CiAgICAgICAgaW50IHMgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmICgobWFzayAmICgxdSA8PCBpKSkgIT0gMCkgcyArPSBhW2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gczsKICAgIH07CgogICAgaW50NjRfdCBtYXhfc3VtID0gc3VtQTsKICAgIHZlY3RvcjxpbnQ2NF90PiBhbnN3ZXIobWF4X3N1bSArIDEsIDApOwoKICAgIC8vIEV4dHJhY3QgdW5pcXVlIG1hc2tzCiAgICB2ZWN0b3I8dWludDMyX3Q+IHVuaXF1ZV9tYXNrczsKICAgIGZvciAoYXV0byAmcCA6IG1hc2tfdG9faW5kaWNlcykgewogICAgICAgIHVuaXF1ZV9tYXNrcy5wdXNoX2JhY2socC5maXJzdCk7CiAgICB9CiAgICAvLyBTb3J0IG1hc2tzIHRvIHByb2Nlc3MgcGFpcnMgaW4gb3JkZXIKICAgIHNvcnQodW5pcXVlX21hc2tzLmJlZ2luKCksIHVuaXF1ZV9tYXNrcy5lbmQoKSk7CgogICAgaW50IHVtX3NpemUgPSAoaW50KXVuaXF1ZV9tYXNrcy5zaXplKCk7CgogICAgLy8gUHJvY2VzcyBwYWlycyBvZiBtYXNrcwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCB1bV9zaXplOyBpKyspIHsKICAgICAgICB1aW50MzJfdCBtMSA9IHVuaXF1ZV9tYXNrc1tpXTsKICAgICAgICBhdXRvICZ2MSA9IG1hc2tfdG9faW5kaWNlc1ttMV07CiAgICAgICAgaW50NjRfdCBjMSA9IChpbnQ2NF90KXYxLnNpemUoKTsKICAgICAgICAvLyBQYWlycyB3aXRoaW4gc2FtZSBtYXNrCiAgICAgICAgLy8gQ2hlY2sgcXVhcnJlbAogICAgICAgIGlmICgoKG0xICYgbTEpICYgb2RkX21hc2spID09IDApIHsgLy8gdHJpdmlhbCwgKG0xICYgbTEpID0gbTEKICAgICAgICAgICAgLy8gbm8gcXVhcnJlbAogICAgICAgICAgICB1aW50MzJfdCBub25lX21hc2sgPSAofihtMSB8IG0xKSkgJiAoKDF1IDw8IG4pIC0gMSk7CiAgICAgICAgICAgIGludCBtb25vX3NsaWNlcyA9IHN1bV9tYXNrX3NsaWNlcyhub25lX21hc2spOwogICAgICAgICAgICAvLyBudW1iZXIgb2YgcGFpcnM6IGMxICogKGMxIC0xKSAvIDIKICAgICAgICAgICAgaW50NjRfdCBwYWlycyA9IGMxICogKGMxIC0gMSkgLyAyOwogICAgICAgICAgICBpZiAocGFpcnMgPiAwKSBhbnN3ZXJbbW9ub19zbGljZXNdICs9IHBhaXJzOwogICAgICAgIH0KICAgICAgICAvLyBQYWlycyB3aXRoIG90aGVyIG1hc2tzCiAgICAgICAgZm9yIChpbnQgaiA9IGkgKyAxOyBqIDwgdW1fc2l6ZTsgaisrKSB7CiAgICAgICAgICAgIHVpbnQzMl90IG0yID0gdW5pcXVlX21hc2tzW2pdOwogICAgICAgICAgICBhdXRvICZ2MiA9IG1hc2tfdG9faW5kaWNlc1ttMl07CiAgICAgICAgICAgIC8vIENoZWNrIHF1YXJyZWwgY29uZGl0aW9uCiAgICAgICAgICAgIHVpbnQzMl90IGludGVyc2VjdCA9IG0xICYgbTI7CiAgICAgICAgICAgIGlmICgoaW50ZXJzZWN0ICYgb2RkX21hc2spICE9IDApIGNvbnRpbnVlOyAvLyBxdWFycmVsCgogICAgICAgICAgICB1aW50MzJfdCBub25lX21hc2sgPSAofihtMSB8IG0yKSkgJiAoKDF1IDw8IG4pIC0gMSk7CiAgICAgICAgICAgIGludCBtb25vX3NsaWNlcyA9IHN1bV9tYXNrX3NsaWNlcyhub25lX21hc2spOwogICAgICAgICAgICBpbnQ2NF90IHBhaXJzID0gKGludDY0X3QpdjEuc2l6ZSgpICogKGludDY0X3QpdjIuc2l6ZSgpOwogICAgICAgICAgICBpZiAocGFpcnMgPiAwKSBhbnN3ZXJbbW9ub19zbGljZXNdICs9IHBhaXJzOwogICAgICAgIH0KICAgIH0KCiAgICBmb3IgKGludCBpID0gMDsgaSA8PSBtYXhfc3VtOyBpKyspIHsKICAgICAgICBjb3V0IDw8IGFuc3dlcltpXTsKICAgICAgICBpZiAoaSA8IG1heF9zdW0pIGNvdXQgPDwgJyAnOwogICAgfQogICAgY291dCA8PCAnXG4nOwoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
