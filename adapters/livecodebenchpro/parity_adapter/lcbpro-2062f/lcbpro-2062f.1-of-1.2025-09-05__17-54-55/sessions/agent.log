[?2004hroot@1cb0cba83a49:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@1cb0cba83a49:/app# clear
[?2004l[H[J[3J[?2004hroot@1cb0cba83a49:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7IGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOyBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBhKG4pLCBiKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGNpbiA+PiBhW2ldID4+IGJbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgbWluIGNvc3QgZm9yIHNpbXBsZSBwYXRocyBvZiBsZW5ndGggayA9IDIuLm4KICAgICAgICAvLyBkaXN0KGksaikgPSBtYXgoYVtpXStiW2pdLCBiW2ldK2Fbal0pCgogICAgICAgIC8vIE9ic2VydmF0aW9uOiB0aGUgY29zdCBiZXR3ZWVuIHR3byBjaXRpZXMgaSBhbmQgaiBpcyBzeW1tZXRyaWMgYW5kIHBvc2l0aXZlLgogICAgICAgIC8vIFRoZSBncmFwaCBpcyBjb21wbGV0ZS4KCiAgICAgICAgLy8gQXBwcm9hY2g6CiAgICAgICAgLy8gMSkgRm9yIGs9MiwgYW5zd2VyIGlzIG1pbmltYWwgZWRnZSBjb3N0LgogICAgICAgIC8vIDIpIEZvciBrPj0zLCBtaW5pbWFsIGNvc3Qgc2ltcGxlIHBhdGggb2YgbGVuZ3RoIGsgY2FuIGJlIGNvbnN0cnVjdGVkIGJ5IHBpY2tpbmcgayBjaXRpZXMgYW5kIGNvbm5lY3RpbmcgdGhlbSBpbiBzb21lIG9yZGVyIG1pbmltaXppbmcgc3VtIG9mIGFkamFjZW50IGVkZ2VzLgoKICAgICAgICAvLyBTaW5jZSB0aGUgZ3JhcGggaXMgY29tcGxldGUgYW5kIGVkZ2UgY29zdCBpcyBzeW1tZXRyaWMsIHRoZSBtaW5pbWFsIHBhdGggb2YgbGVuZ3RoIGsgaXMgdGhlIG1pbmltYWwgSGFtaWx0b25pYW4gcGF0aCBvZiBsZW5ndGggay4KCiAgICAgICAgLy8gRmluZGluZyBtaW5pbWFsIHBhdGggZm9yIGFsbCBrIG5haXZlbHkgaXMgaGFyZC4KCiAgICAgICAgLy8gSG93ZXZlciwgd2UgY2FuIHVzZSB0aGUgZm9sbG93aW5nIGlkZWE6CiAgICAgICAgLy8gVGhlIHByb2JsZW0gY29uc3RyYWludHMgYWxsb3cgTyhuXjIpIHBlciB0ZXN0LgoKICAgICAgICAvLyBVc2UgdGhlIGZhY3QgdGhhdCB0aGUgZWRnZSBjb3N0IGlzIG1heChhW2ldK2Jbal0sIGJbaV0rYVtqXSkKCiAgICAgICAgLy8gV2UnbGwgc29ydCBjaXRpZXMgYnkgYVtpXSAtIGJbaV0gYW5kIHRyeSB0byBmaW5kIG1pbmltYWwgcGF0aHMgYW1vbmcgc29ydGVkIG9yZGVyIGFuZCByZXZlcnNlLgoKICAgICAgICAvLyBBbHRlcm5hdGl2ZWx5LCBzaW5jZSB0aGUgZ3JhcGggaXMgY29tcGxldGUgYW5kIGVkZ2VzIGRlZmluZWQgYnkgbWF4IHN1bSwgbWluaW1hbCBlZGdlcyBhcHBlYXIgYmV0d2VlbiBjaXRpZXMgd2l0aCBjbG9zZSBhW2ldLWJbaV0uCgogICAgICAgIC8vIElkZWE6IHNvcnQgYnkgKGFbaV0tYltpXSkgYXNjZW5kaW5nLgogICAgICAgIC8vIFRoZW4gYnVpbGQgcHJlZml4IHN1bXMgb2YgZWRnZSBjb3N0cyBiZXR3ZWVuIGFkamFjZW50IGNpdGllcyBpbiB0aGlzIG9yZGVyLgoKICAgICAgICB2ZWN0b3I8aW50PiBvcmQobik7CiAgICAgICAgaW90YShvcmQuYmVnaW4oKSwgb3JkLmVuZCgpLCAwKTsKICAgICAgICBzb3J0KG9yZC5iZWdpbigpLCBvcmQuZW5kKCksIFsmXShpbnQgaSwgaW50IGopIHsKICAgICAgICAgICAgcmV0dXJuIChhW2ldLWJbaV0pIDwgKGFbal0tYltqXSk7CiAgICAgICAgfSk7CgogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IHByZWZpeChuLCAwKTsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8IG47IGkrKykgewogICAgICAgICAgICBpbnQgdSA9IG9yZFtpLTFdLCB2ID0gb3JkW2ldOwogICAgICAgICAgICBsb25nIGxvbmcgY29zdCA9IG1heChhW3VdICsgYlt2XSwgYlt1XSArIGFbdl0pOwogICAgICAgICAgICBwcmVmaXhbaV0gPSBwcmVmaXhbaS0xXSArIGNvc3Q7CiAgICAgICAgfQoKICAgICAgICAvLyBtaW5pbWFsIGNvc3QgZm9yIHBhdGggbGVuZ3RoIGsgaXMgbWluaW1hbCBzdW0gb2Ygay0xIGVkZ2VzIGluIGEgcGF0aAogICAgICAgIC8vIHRyeSBhbGwgc2VnbWVudHMgb2YgbGVuZ3RoIGsgaW4gc29ydGVkIG9yZGVyCgogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IHJlcyhuLTEsIExMT05HX01BWCk7CiAgICAgICAgZm9yIChpbnQgayA9IDI7IGsgPD0gbjsgaysrKSB7CiAgICAgICAgICAgIGxvbmcgbG9uZyBtbiA9IExMT05HX01BWDsKICAgICAgICAgICAgZm9yIChpbnQgc3RhcnQgPSAwOyBzdGFydCArIGsgLTEgPCBuOyBzdGFydCsrKSB7CiAgICAgICAgICAgICAgICBsb25nIGxvbmcgY29zdCA9IHByZWZpeFtzdGFydCArIGsgLTFdIC0gcHJlZml4W3N0YXJ0XTsKICAgICAgICAgICAgICAgIG1uID0gbWluKG1uLCBjb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNbay0yXSA9IG1uOwogICAgICAgIH0KCiAgICAgICAgLy8gQWxzbyB0cnkgcmV2ZXJzZSBvcmRlcgogICAgICAgIHJldmVyc2Uob3JkLmJlZ2luKCksIG9yZC5lbmQoKSk7CiAgICAgICAgcHJlZml4WzBdID0gMDsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8IG47IGkrKykgewogICAgICAgICAgICBpbnQgdSA9IG9yZFtpLTFdLCB2ID0gb3JkW2ldOwogICAgICAgICAgICBsb25nIGxvbmcgY29zdCA9IG1heChhW3VdICsgYlt2XSwgYlt1XSArIGFbdl0pOwogICAgICAgICAgICBwcmVmaXhbaV0gPSBwcmVmaXhbaS0xXSArIGNvc3Q7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBrID0gMjsgayA8PSBuOyBrKyspIHsKICAgICAgICAgICAgbG9uZyBsb25nIG1uID0gTExPTkdfTUFYOwogICAgICAgICAgICBmb3IgKGludCBzdGFydCA9IDA7IHN0YXJ0ICsgayAtMSA8IG47IHN0YXJ0KyspIHsKICAgICAgICAgICAgICAgIGxvbmcgbG9uZyBjb3N0ID0gcHJlZml4W3N0YXJ0ICsgayAtMV0gLSBwcmVmaXhbc3RhcnRdOwogICAgICAgICAgICAgICAgbW4gPSBtaW4obW4sIGNvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc1trLTJdID0gbWluKHJlc1trLTJdLCBtbik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG4tMTsgaSsrKSB7CiAgICAgICAgICAgIGNvdXQgPDwgcmVzW2ldIDw8IChpID09IG4tMiA/ICdcbicgOiAnICcpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@1cb0cba83a49:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@1cb0cba83a49:/app# 