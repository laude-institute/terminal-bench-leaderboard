['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBJbnRlcmFjdGl2ZSBzb2x1dGlvbiB0byBkZXRlcm1pbmUgbGVuZ3RocyBvZiBhcnJheXMgQSBhbmQgQgovLyBiYXNlZCBvbiBwcm9wZXJ0aWVzIGdpdmVuIGFuZCBsaW1pdGVkIHF1ZXJpZXMKCmludCB0LCBuLCBrOwoKLy8gRnVuY3Rpb24gdG8gZmx1c2ggb3V0cHV0IGFmdGVyIHByaW50aW5nCnZvaWQgZmx1c2goKSB7CiAgICBjb3V0LmZsdXNoKCk7Cn0KCmludCBxdWVyeShpbnQgaSkgewogICAgY291dCA8PCAiPyAiIDw8IGkgPDwgIlxuIjsKICAgIGZsdXNoKCk7CiAgICBpbnQgdmFsOwogICAgY2luID4+IHZhbDsKICAgIHJldHVybiB2YWw7Cn0KCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKICAgIGNvdXQudGllKG51bGxwdHIpOwoKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGNpbiA+PiBuID4+IGs7CgogICAgICAgIC8vIFNpbmNlIHxBfCArIHxCfCA9IG4gYW5kIHxBfCx8QnwgPj0gawogICAgICAgIC8vIEEgYW5kIEIgZWxlbWVudHMgYXJlIGZyb20gMSB0byBrCiAgICAgICAgLy8gQW55IGsgY29uc2VjdXRpdmUgZWxlbWVudHMgaW4gQSBvciBCIGFyZSBkaXN0aW5jdAoKICAgICAgICAvLyBUaGUgaWRlYTogRWxlbWVudHMgb2YgQSBmb2xsb3dlZCBieSBCIGluIEMKICAgICAgICAvLyBXZSB3YW50IHRvIGZpbmQgYSBzcGxpdCBwb2ludCBzLCB3aGVyZSBzID0gfEF8CgogICAgICAgIC8vIFdlIGNhbiBjaGVjayBlbGVtZW50cyBhdCBzb21lIHBvc2l0aW9ucyB0byBmaW5kIHdoZXJlIHJlcGV0aXRpb24gYnJlYWtzCiAgICAgICAgLy8gQmVjYXVzZSBpbiBBIGFuZCBCIGV2ZXJ5IGsgY29uc2VjdXRpdmUgZWxlbWVudHMgYXJlIGRpc3RpbmN0LAogICAgICAgIC8vIHJlcGV0aXRpb24gYXBwZWFycyBvbmx5IGF0IHRoZSBib3VuZGFyeSB3aGVuIHRoZSBhcnJheXMgam9pbgoKICAgICAgICAvLyBXZSBjYW4gdHJ5IHRvIGZpbmQgbWluaW1hbCBzIGluIFtrLCBuLWtdCiAgICAgICAgLy8gc3VjaCB0aGF0IGxhc3QgayBlbGVtZW50cyBvZiBBIGFuZCBmaXJzdCBrIGVsZW1lbnRzIG9mIEIgYXJlIGNvbnNpc3RlbnQKCiAgICAgICAgLy8gV2UgaGF2ZSBvbmx5IDI1MCBxdWVyaWVzIHBlciB0ZXN0LCBzbyB3ZSBkbyBhIGJpbmFyeSBzZWFyY2ggb24gcwoKICAgICAgICAvLyBXZSB3aWxsIGRvIGJpbmFyeSBzZWFyY2ggb24gcyBpbiBbaywgbi1rXQogICAgICAgIC8vIEZvciBlYWNoIG1pZCwgd2UgY2hlY2sgaWYgdGhlIGsgZWxlbWVudHMgYXQgcG9zaXRpb25zIFttaWQgLSBrICsgMSAuLiBtaWRdIGluIEEKICAgICAgICAvLyBhbmQgcG9zaXRpb25zIFttaWQgKyAxIC4uIG1pZCArIGtdIGluIEIgaGF2ZSBubyBjb25mbGljdHMKCiAgICAgICAgLy8gVG8gY2hlY2ssIHdlIHF1ZXJ5IHRob3NlIDJrIGVsZW1lbnRzOgogICAgICAgIC8vIHBvc2l0aW9ucyBtaWQtaysxIC4uIG1pZCAoQSBzZWdtZW50KSBhbmQgbWlkKzEgLi4gbWlkK2sgKEIgc2VnbWVudCkKCiAgICAgICAgLy8gRm9yIGVhY2ggbWlkLCB3ZSBtdXN0IHF1ZXJ5IDJrIGVsZW1lbnRzLCBidXQgazw9NTAsIHNvIGF0IG1vc3QgMTAwIHF1ZXJpZXMgcGVyIG1pZAogICAgICAgIC8vIFdlIGNhbiBkbyBiaW5hcnkgc2VhcmNoIHR3aWNlIChtYXggMioxMDA9MjAwIHF1ZXJpZXMpIHBsdXMgc29tZSBvdmVyaGVhZAoKICAgICAgICBpbnQgbGVmdCA9IGssIHJpZ2h0ID0gbiAtIGs7CiAgICAgICAgaW50IGFuc3dlciA9IC0xOwoKICAgICAgICB3aGlsZSAobGVmdCA8PSByaWdodCAmJiAyNTAgPiAwKSB7CiAgICAgICAgICAgIGludCBtaWQgPSAobGVmdCArIHJpZ2h0KSAvIDI7CgogICAgICAgICAgICB2ZWN0b3I8aW50PiBBc2VnLCBCc2VnOwogICAgICAgICAgICBib29sIGV4Y2VlZCA9IGZhbHNlOwoKICAgICAgICAgICAgLy8gUXVlcnkgQSBzZWdtZW50CiAgICAgICAgICAgIGZvciAoaW50IGkgPSBtaWQgLSBrICsgMTsgaSA8PSBtaWQ7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGkgPCAxIHx8IGkgPiBuKSB7CiAgICAgICAgICAgICAgICAgICAgZXhjZWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEFzZWcucHVzaF9iYWNrKHF1ZXJ5KGkpKTsKICAgICAgICAgICAgICAgIDI1MC0tOwogICAgICAgICAgICAgICAgaWYgKDI1MCA8IDApIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgyNTAgPCAwIHx8IGV4Y2VlZCkgYnJlYWs7CgogICAgICAgICAgICAvLyBRdWVyeSBCIHNlZ21lbnQKICAgICAgICAgICAgZm9yIChpbnQgaSA9IG1pZCArIDE7IGkgPD0gbWlkICsgazsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoaSA8IDEgfHwgaSA+IG4pIHsKICAgICAgICAgICAgICAgICAgICBleGNlZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQnNlZy5wdXNoX2JhY2socXVlcnkoaSkpOwogICAgICAgICAgICAgICAgMjUwLS07CiAgICAgICAgICAgICAgICBpZiAoMjUwIDwgMCkgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKDI1MCA8IDAgfHwgZXhjZWVkKSBicmVhazsKCiAgICAgICAgICAgIGlmICgyNTAgPCAwKSBicmVhazsKCiAgICAgICAgICAgIC8vIENoZWNrIGNvbmRpdGlvbnM6CiAgICAgICAgICAgIC8vIDEpIGFsbCBrIGVsZW1lbnRzIGluIEFzZWcgYXJlIGRpc3RpbmN0CiAgICAgICAgICAgIC8vIDIpIGFsbCBrIGVsZW1lbnRzIGluIEJzZWcgYXJlIGRpc3RpbmN0CiAgICAgICAgICAgIC8vIDMpIG5vIGVsZW1lbnQgaW4gQXNlZyBhcHBlYXJzIGluIEJzZWcgKHRvIGVuc3VyZSBzcGxpdCkKCiAgICAgICAgICAgIHNldDxpbnQ+IHNBKEFzZWcuYmVnaW4oKSwgQXNlZy5lbmQoKSk7CiAgICAgICAgICAgIHNldDxpbnQ+IHNCKEJzZWcuYmVnaW4oKSwgQnNlZy5lbmQoKSk7CgogICAgICAgICAgICBib29sIGNvbmRBID0gKGludClzQS5zaXplKCkgPT0gazsKICAgICAgICAgICAgYm9vbCBjb25kQiA9IChpbnQpc0Iuc2l6ZSgpID09IGs7CgogICAgICAgICAgICBib29sIGludGVyc2VjdCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKGF1dG8geCA6IHNBKSB7CiAgICAgICAgICAgICAgICBpZiAoc0IuY291bnQoeCkpIHsKICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3QgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY29uZEEgJiYgY29uZEIgJiYgIWludGVyc2VjdCkgewogICAgICAgICAgICAgICAgLy8gdmFsaWQgc3BsaXQKICAgICAgICAgICAgICAgIGFuc3dlciA9IG1pZDsKICAgICAgICAgICAgICAgIHJpZ2h0ID0gbWlkIC0gMTsgLy8gdHJ5IHNtYWxsZXIgcwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGVmdCA9IG1pZCArIDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChhbnN3ZXIgPT0gLTEpIHsKICAgICAgICAgICAgLy8gSWYgbm8gdW5pcXVlIHNwbGl0IGZvdW5kLCBwcmludCAtMQogICAgICAgICAgICBjb3V0IDw8ICIhIC0xIiA8PCBlbmRsOwogICAgICAgICAgICBmbHVzaCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludCBhID0gYW5zd2VyOwogICAgICAgICAgICBpbnQgYiA9IG4gLSBhOwogICAgICAgICAgICBjb3V0IDw8ICIhICIgPDwgYSA8PCAiICIgPDwgYiA8PCBlbmRsOwogICAgICAgICAgICBmbHVzaCgpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
