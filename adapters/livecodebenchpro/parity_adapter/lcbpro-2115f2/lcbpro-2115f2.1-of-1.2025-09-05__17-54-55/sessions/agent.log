[?2004hroot@9d7582211426:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@9d7582211426:/app# clear
[?2004l[H[J[3J[?2004hroot@9d7582211426:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBGYXN0IElPCmlvc19iYXNlOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwpjaW4udGllKG51bGxwdHIpOwoKLy8gVGhpcyBwcm9ibGVtIHJlcXVpcmVzIG1haW50YWluaW5nIG4gc2V0cyB3aXRoIG9wZXJhdGlvbnM6Ci8vIDEuIEluc2VydCBvcGVyYXRpb246IGluc2VydCBlbGVtZW50IGkgaW50byBmaXJzdCByIHNldHMKLy8gMi4gUmV2ZXJzZSBvcGVyYXRpb246IHJldmVyc2UgZmlyc3QgciBzZXRzCi8vIDMuIERlbGV0ZSBvcGVyYXRpb246IGRlbGV0ZSBlbGVtZW50IHggZnJvbSBhbGwgc2V0cyBjb250YWluaW5nIHgKLy8gVGhlbiBxdWVyeSBzbWFsbGVzdCBlbGVtZW50IGluIHAtdGggc2V0LgovLyBuIGFuZCBxIHVwIHRvIDMqMTBeNSwgb25saW5lIG9wZXJhdGlvbnMsIG11c3QgYmUgZWZmaWNpZW50LgoKLy8gV2Ugd2lsbCBtYWludGFpbiBhIHZlY3RvcjxpbnQ+IHBvcyB0byB0cmFjayBjdXJyZW50IHBlcm11dGF0aW9uIG9mIHNldHMKLy8gSW5zdGVhZCBvZiBzdG9yaW5nIHNldHMgZGlyZWN0bHksIHdlIHVzZSBhIHNlZ21lbnQgdHJlZSBvdmVyIHRoZSBwZXJtdXRhdGlvbiB0bwovLyBxdWlja2x5IHJldmVyc2UgcHJlZml4IHNlZ21lbnRzLgoKLy8gRWFjaCBzZXQgaXMgc3RvcmVkIGFzIGEgc3RkOjpzZXQ8aW50PiBvZiBlbGVtZW50cyAob3BlcmF0aW9uIGluZGljZXMpLgovLyBXZSBtYWludGFpbiBhbiBhcnJheSBvZiBzZXRzLgoKLy8gRm9yIGVmZmljaWVudCBkZWxldGlvbiBvZiBlbGVtZW50IHggZnJvbSBhbGwgc2V0cyBjb250YWluaW5nIHgsIHdlIGtlZXAgYSBtYXA8aW50LCB2ZWN0b3I8aW50Pj4gZWxlbV9wb3NpdGlvbnMsCi8vIHRoYXQgcmVjb3JkcyBpbiB3aGljaCBzZXRzIGVsZW1lbnQgeCBpcyBwcmVzZW50LgovLyBTaW5jZSB4IGNhbiBiZSB1cCB0byBxIChvcGVyYXRpb24gaW5kZXgpLCB3ZSB1c2UgdmVjdG9yPHZlY3RvcjxpbnQ+Pi4KCi8vIEZvciBlYWNoIG9wZXJhdGlvbiwgZGVjb2RlIHBhcmFtZXRlcnMgdXNpbmcgcHJldmlvdXMgYW5zd2VyLgoKLy8gSW1wbGVtZW50YXRpb24gZGV0YWlsOgovLyAtIFVzZSBhIHZlY3RvcjxpbnQ+IHBvcyByZXByZXNlbnRpbmcgY3VycmVudCBvcmRlciBvZiBzZXRzLgovLyAtIEZvciByZXZlcnNlIG9wZXJhdGlvbiBvbiBmaXJzdCByIHNldHMsIHJldmVyc2UgcG9zWzAuLnItMV0uCi8vIC0gRm9yIGluc2VydCBvcGVyYXRpb24sIGluc2VydCBlbGVtZW50IGkgaW50byBzZXRzIHBvc1swLi5yLTFdLgovLyAtIEZvciBkZWxldGUgb3BlcmF0aW9uLCBkZWxldGUgZWxlbWVudCB4IGZyb20gYWxsIHNldHMgY29udGFpbmluZyB4LgoKLy8gUXVlcnkgb3BlcmF0aW9uOiBvdXRwdXQgc21hbGxlc3QgZWxlbWVudCBpbiBzZXQgcG9zW3AtMV0sIG9yIDAgaWYgZW1wdHkuCgovLyBXZSB3aWxsIHN0b3JlIHRoZSBzZXRzIGFzIHZlY3RvcjxtdWx0aXNldDxpbnQ+PiBzZXRzKG4pOwoKLy8gVG8gc3BlZWQgdXAgZGVsZXRpb25zLCBmb3IgZWFjaCBlbGVtZW50IHgsIHdlIHN0b3JlIGEgbGlzdCBvZiBzZXRzIGluZGljZXMgY29udGFpbmluZyBpdC4KCmludCBtYWluKCkgewogICAgaW9zX2Jhc2U6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCBuLCBxOwogICAgY2luID4+IG4gPj4gcTsKCiAgICB2ZWN0b3I8aW50PiBwb3Mobik7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgcG9zW2ldID0gaTsKCiAgICB2ZWN0b3I8bXVsdGlzZXQ8aW50Pj4gc2V0cyhuKTsKICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gZWxlbV9pbl9zZXRzKHErMSk7ICAvLyBlbGVtX2luX3NldHNbeF0gPSBzZXRzIGluZGljZXMgY29udGFpbmluZyB4CgogICAgaW50IGFuc19wcmV2ID0gMDsKCiAgICBmb3IgKGludCBpID0gMTsgaSA8PSBxOyBpKyspIHsKICAgICAgICBpbnQgYSxiLGM7CiAgICAgICAgY2luID4+IGEgPj4gYiA+PiBjOwoKICAgICAgICBpbnQgciwgeCwgcDsKCiAgICAgICAgaWYgKGEgPT0gMSkgeyAvLyBJbnNlcnQKICAgICAgICAgICAgciA9IChiICsgYW5zX3ByZXYgLSAxKSAlIG4gKyAxOwogICAgICAgIH0gZWxzZSBpZiAoYSA9PSAyKSB7IC8vIFJldmVyc2UKICAgICAgICAgICAgciA9IChiICsgYW5zX3ByZXYgLSAxKSAlIG4gKyAxOwogICAgICAgIH0gZWxzZSB7IC8vIGEgPT0gMyBEZWxldGUKICAgICAgICAgICAgeCA9IChiICsgYW5zX3ByZXYgLSAxKSAlIHEgKyAxOwogICAgICAgIH0KCiAgICAgICAgcCA9IChjICsgYW5zX3ByZXYgLSAxKSAlIG4gKyAxOwoKICAgICAgICBpZiAoYSA9PSAxKSB7CiAgICAgICAgICAgIC8vIEluc2VydCBlbGVtZW50IGkgaW50byBzZXRzIHBvc1swLi5yLTFdCiAgICAgICAgICAgIGZvciAoaW50IGlkeCA9IDA7IGlkeCA8IHI7IGlkeCsrKSB7CiAgICAgICAgICAgICAgICBpbnQgc2V0X2lkID0gcG9zW2lkeF07CiAgICAgICAgICAgICAgICBzZXRzW3NldF9pZF0uaW5zZXJ0KGkpOwogICAgICAgICAgICAgICAgZWxlbV9pbl9zZXRzW2ldLnB1c2hfYmFjayhzZXRfaWQpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhID09IDIpIHsKICAgICAgICAgICAgLy8gUmV2ZXJzZSBmaXJzdCByIHNldHMgaW4gcG9zCiAgICAgICAgICAgIHJldmVyc2UocG9zLmJlZ2luKCksIHBvcy5iZWdpbigpICsgcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gRGVsZXRlIGVsZW1lbnQgeCBmcm9tIGFsbCBzZXRzIGNvbnRhaW5pbmcgeAogICAgICAgICAgICBmb3IgKGludCBzZXRfaWQgOiBlbGVtX2luX3NldHNbeF0pIHsKICAgICAgICAgICAgICAgIC8vIEVyYXNlIG9uZSBvY2N1cnJlbmNlIG9mIHggZnJvbSBzZXRzW3NldF9pZF0KICAgICAgICAgICAgICAgIGF1dG8gaXQgPSBzZXRzW3NldF9pZF0uZmluZCh4KTsKICAgICAgICAgICAgICAgIGlmIChpdCAhPSBzZXRzW3NldF9pZF0uZW5kKCkpIHsKICAgICAgICAgICAgICAgICAgICBzZXRzW3NldF9pZF0uZXJhc2UoaXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIENsZWFyIGVsZW1faW5fc2V0c1t4XSB0byBhdm9pZCByZXBlYXRlZCBkZWxldGlvbnMKICAgICAgICAgICAgZWxlbV9pbl9zZXRzW3hdLmNsZWFyKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBRdWVyeSBzbWFsbGVzdCBlbGVtZW50IGluIHNldCBwb3NbcC0xXQogICAgICAgIGludCBxdWVyeV9zZXQgPSBwb3NbcC0xXTsKICAgICAgICBpbnQgYW5zd2VyID0gMDsKICAgICAgICBpZiAoIXNldHNbcXVlcnlfc2V0XS5lbXB0eSgpKSB7CiAgICAgICAgICAgIGFuc3dlciA9ICpzZXRzW3F1ZXJ5X3NldF0uYmVnaW4oKTsKICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgYW5zd2VyIDw8ICJcbiI7CiAgICAgICAgYW5zX3ByZXYgPSBhbnN3ZXI7CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@9d7582211426:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@9d7582211426:/app# 