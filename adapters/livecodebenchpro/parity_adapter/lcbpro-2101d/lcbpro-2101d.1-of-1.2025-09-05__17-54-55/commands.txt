['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKCiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47CiAgICAgICAgY2luID4+IG47CiAgICAgICAgdmVjdG9yPGludD4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYVtpXTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIG5lZWQgdG8gY291bnQgc3ViYXJyYXlzIGIgd2hlcmUgTElTKGIpICsgTERTKGIpID0gfGJ8ICsgMS4KICAgICAgICAvLyBGb3IgYSBwZXJtdXRhdGlvbiwgYSBzdWJhcnJheSBpcyAnY3V0ZScgaWYgYW5kIG9ubHkgaWYgaXQgaXMgYSBjb25zZWN1dGl2ZQogICAgICAgIC8vIHNlcXVlbmNlIG9mIGludGVnZXJzIGluIHNvbWUgb3JkZXIgKHN0cmljdGx5IGluY3JlYXNpbmcgb3Igc3RyaWN0bHkgZGVjcmVhc2luZyksCiAgICAgICAgLy8gYmVjYXVzZSB0aGVuIHRoZSBMSVMgYW5kIExEUyBsZW5ndGhzIGFyZSByZWxhdGVkIGluIHRoaXMgd2F5LgogICAgICAgIC8vIEluIGZhY3QsIHRoZSBjb25kaXRpb24gbWVhbnMgdGhlIHN1YmFycmF5IGlzIGVpdGhlciBzdHJpY3RseSBpbmNyZWFzaW5nIG9yIHN0cmljdGx5IGRlY3JlYXNpbmcKICAgICAgICAvLyBvciBhIGJpdCBtb3JlIGdlbmVyYWw6IHRoZSBzdW0gb2YgTElTIGFuZCBMRFMgaXMgbGVuZ3RoICsgMS4KICAgICAgICAvLyBJdCBjYW4gYmUgc2hvd24gdGhhdCB0aGUgc3ViYXJyYXkgbXVzdCBiZSBhIHNlZ21lbnQgb2YgY29uc2VjdXRpdmUgaW50ZWdlcnMsIAogICAgICAgIC8vIG5vdCBuZWNlc3NhcmlseSBzb3J0ZWQsIGJ1dCBmb3JtaW5nIGEgcGVybXV0YXRpb24gb2YgY29uc2VjdXRpdmUgaW50ZWdlcnMuCiAgICAgICAgLy8gU28gd2UgY291bnQgYWxsIHN1YmFycmF5cyB3aGVyZSBtYXggLSBtaW4gKyAxID09IGxlbmd0aCBvZiBzdWJhcnJheS4KCiAgICAgICAgbG9uZyBsb25nIHJlc3VsdCA9IDA7CiAgICAgICAgLy8gVXNlIHR3byBwb2ludGVycyB0byBmaW5kIGFsbCBzdWJhcnJheXMgd2hlcmUgbWF4IC0gbWluICsgMSA9PSBsZW5ndGgKICAgICAgICAvLyBXZSBjYW4gbWFpbnRhaW4gbWF4IGFuZCBtaW4gaW4gTygxKSB1c2luZyBhIGJhbGFuY2VkIHN0cnVjdHVyZSBvciB0d28gZGVxdWVzLgoKICAgICAgICBkZXF1ZTxpbnQ+IG1heHEsIG1pbnE7CiAgICAgICAgaW50IGxlZnQgPSAwOwogICAgICAgIGZvciAoaW50IHJpZ2h0ID0gMDsgcmlnaHQgPCBuOyByaWdodCsrKSB7CiAgICAgICAgICAgIC8vIEluc2VydCBhW3JpZ2h0XSBpbnRvIG1heHEKICAgICAgICAgICAgd2hpbGUgKCFtYXhxLmVtcHR5KCkgJiYgYVttYXhxLmJhY2soKV0gPD0gYVtyaWdodF0pIG1heHEucG9wX2JhY2soKTsKICAgICAgICAgICAgbWF4cS5wdXNoX2JhY2socmlnaHQpOwoKICAgICAgICAgICAgLy8gSW5zZXJ0IGFbcmlnaHRdIGludG8gbWlucQogICAgICAgICAgICB3aGlsZSAoIW1pbnEuZW1wdHkoKSAmJiBhW21pbnEuYmFjaygpXSA+PSBhW3JpZ2h0XSkgbWlucS5wb3BfYmFjaygpOwogICAgICAgICAgICBtaW5xLnB1c2hfYmFjayhyaWdodCk7CgogICAgICAgICAgICAvLyBTaHJpbmsgZnJvbSBsZWZ0IGlmIGNvbmRpdGlvbiBub3QgaG9sZAogICAgICAgICAgICB3aGlsZSAoKGFbbWF4cS5mcm9udCgpXSAtIGFbbWlucS5mcm9udCgpXSArIDEpID4gKHJpZ2h0IC0gbGVmdCArIDEpKSB7CiAgICAgICAgICAgICAgICBpZiAobWF4cS5mcm9udCgpID09IGxlZnQpIG1heHEucG9wX2Zyb250KCk7CiAgICAgICAgICAgICAgICBpZiAobWlucS5mcm9udCgpID09IGxlZnQpIG1pbnEucG9wX2Zyb250KCk7CiAgICAgICAgICAgICAgICBsZWZ0Kys7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE5vdyBhbGwgc3ViYXJyYXlzIGVuZGluZyBhdCByaWdodCBhbmQgc3RhcnRpbmcgYXQgPj0gbGVmdCBzYXRpc2Z5IG1heC1taW4rMTw9bGVuZ3RoCiAgICAgICAgICAgIC8vIFdlIHdhbnQgZXhhY3QgZXF1YWxpdHkKICAgICAgICAgICAgLy8gQ2hlY2sgc3ViYXJyYXlzIHN0YXJ0aW5nIGZyb20gbGVmdCB0byByaWdodAogICAgICAgICAgICAvLyBCdXQgY2hlY2tpbmcgYWxsIGlzIGV4cGVuc2l2ZSwgc28gd2UgcmVseSBvbiB0aGUgZmFjdCB0aGF0IGZvciBhIGZpeGVkIHJpZ2h0LAogICAgICAgICAgICAvLyBzdWJhcnJheXMgc3RhcnRpbmcgYmVmb3JlIGxlZnQgZG8gbm90IHNhdGlzZnkgY29uZGl0aW9uLgogICAgICAgICAgICAvLyBTbyB3ZSBjb3VudCBob3cgbWFueSBzdWJhcnJheXMgZW5kaW5nIGF0IHJpZ2h0IHNhdGlzZnkgbWF4LW1pbisxID09IGxlbmd0aAoKICAgICAgICAgICAgLy8gVG8gZG8gdGhpcyBlZmZpY2llbnRseSwgd2UgdHJ5IHRvIG1vdmUgYSBwb2ludGVyIGxvIGZyb20gbGVmdCB0byByaWdodAogICAgICAgICAgICAvLyB0byBmaW5kIHRoZSBlYXJsaWVzdCBzdGFydCB3aGVyZSBjb25kaXRpb24gaXMgbWV0IGV4YWN0bHkuCiAgICAgICAgICAgIC8vIFdlIGtlZXAgYSBwb2ludGVyICdzdGFydCcgaW5pdGlhbGl6ZWQgdG8gbGVmdC4KCiAgICAgICAgICAgIC8vIFdlIGNhbiBkbyB0aGUgZm9sbG93aW5nOgogICAgICAgICAgICAvLyBGb3IgZWFjaCByaWdodCwgZmluZCB0aGUgbWluaW1hbCBzdGFydCA+PSBsZWZ0IHN1Y2ggdGhhdCBtYXgtbWluKzEgPT0gcmlnaHQgLSBzdGFydCArIDEKICAgICAgICAgICAgaW50IHN0YXJ0ID0gbGVmdDsKICAgICAgICAgICAgd2hpbGUgKHN0YXJ0IDw9IHJpZ2h0ICYmIChhW21heHEuZnJvbnQoKV0gLSBhW21pbnEuZnJvbnQoKV0gKyAxKSA8IChyaWdodCAtIHN0YXJ0ICsgMSkpIHsKICAgICAgICAgICAgICAgIGlmIChtYXhxLmZyb250KCkgPT0gc3RhcnQpIG1heHEucG9wX2Zyb250KCk7CiAgICAgICAgICAgICAgICBpZiAobWlucS5mcm9udCgpID09IHN0YXJ0KSBtaW5xLnBvcF9mcm9udCgpOwogICAgICAgICAgICAgICAgc3RhcnQrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gTm93IGlmIGNvbmRpdGlvbiBob2xkcyBleGFjdGx5IGZvciBzdGFydCwgdGhlbiBhbGwgc3ViYXJyYXlzIGZyb20gc3RhcnQgdG8gcmlnaHQgc2F0aXNmeSBpdAogICAgICAgICAgICBpZiAoc3RhcnQgPD0gcmlnaHQgJiYgKGFbbWF4cS5mcm9udCgpXSAtIGFbbWlucS5mcm9udCgpXSArIDEpID09IChyaWdodCAtIHN0YXJ0ICsgMSkpIHsKICAgICAgICAgICAgICAgIC8vIG51bWJlciBvZiBzdWNoIHN1YmFycmF5cyBlbmRpbmcgYXQgcmlnaHQgaXMgKHN0YXJ0IC0gbGVmdCArIDEpCiAgICAgICAgICAgICAgICByZXN1bHQgKz0gKHN0YXJ0IC0gbGVmdCArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb3V0IDw8IHJlc3VsdCA8PCAiXG4iOwogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
