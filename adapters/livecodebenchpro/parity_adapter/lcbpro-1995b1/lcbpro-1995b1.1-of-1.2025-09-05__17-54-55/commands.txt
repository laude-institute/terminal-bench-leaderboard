['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBsb25nIGxvbmcgbTsKICAgICAgICBjaW4gPj4gbiA+PiBtOwogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGEobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgfQogICAgICAgIHNvcnQoYS5iZWdpbigpLCBhLmVuZCgpKTsKCiAgICAgICAgLy8gV2UnbGwgZ3JvdXAgZmxvd2VycyBieSBwZXRhbHMgYW5kIGNvbnNpZGVyIGJvdXF1ZXRzIHdpdGggcGV0YWxzIHggYW5kIHgrMQogICAgICAgIC8vIEZvciBlYWNoIGRpc3RpbmN0IHBldGFsIGNvdW50LCB0cnkgdG8gZm9ybSBib3VxdWV0cyB3aXRoIHRoYXQgcGV0YWwgY291bnQgYWxvbmUgb3Igd2l0aCBuZXh0IHBldGFsIGNvdW50CgogICAgICAgIC8vIE1hcCBwZXRhbCBjb3VudCB0byB2ZWN0b3Igb2YgY29zdHMgKGNvc3QgPSBwZXRhbHMpCiAgICAgICAgLy8gU2luY2UgcGV0YWwgY291bnRzIGFyZSB0aGUgY29zdHMgdGhlbXNlbHZlcywgd2UganVzdCBuZWVkIGNvdW50cyBvZiBlYWNoIHBldGFsIHZhbHVlCgogICAgICAgIHZlY3RvcjxwYWlyPGxvbmcgbG9uZyxpbnQ+PiBncm91cHM7IC8vIChwZXRhbCwgY291bnQpCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOykgewogICAgICAgICAgICBpbnQgaiA9IGk7CiAgICAgICAgICAgIHdoaWxlIChqIDwgbiAmJiBhW2pdID09IGFbaV0pIGorKzsKICAgICAgICAgICAgZ3JvdXBzLmVtcGxhY2VfYmFjayhhW2ldLCBqIC0gaSk7CiAgICAgICAgICAgIGkgPSBqOwogICAgICAgIH0KCiAgICAgICAgbG9uZyBsb25nIGFucyA9IDA7CgogICAgICAgIC8vIFdlJ2xsIHRyeSBhbGwgZ3JvdXBzIGFuZCBncm91cHMgY29tYmluZWQgd2l0aCBuZXh0IGdyb3VwIGlmIHBldGFscyBkaWZmZXIgYnkgMQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgKGludClncm91cHMuc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgbG9uZyBsb25nIHBldGFsID0gZ3JvdXBzW2ldLmZpcnN0OwogICAgICAgICAgICBpbnQgY250ID0gZ3JvdXBzW2ldLnNlY29uZDsKCiAgICAgICAgICAgIC8vIE9ubHkgc2luZ2xlIGdyb3VwCiAgICAgICAgICAgIC8vIG1heCBmbG93ZXJzIHdlIGNhbiBidXkgZnJvbSB0aGlzIGdyb3VwIHdpdGggY29zdCBwZXRhbCBlYWNoIGlzIG1pbihjbnQsIG0gLyBwZXRhbCkKICAgICAgICAgICAgbG9uZyBsb25nIG1heF9mbG93ZXJzID0gbWluKChsb25nIGxvbmcpY250LCBtIC8gcGV0YWwpOwogICAgICAgICAgICBsb25nIGxvbmcgdG90YWxfcGV0YWxzID0gbWF4X2Zsb3dlcnMgKiBwZXRhbDsKICAgICAgICAgICAgaWYgKHRvdGFsX3BldGFscyA+IGFucykgYW5zID0gdG90YWxfcGV0YWxzOwoKICAgICAgICAgICAgLy8gVHJ5IGNvbWJpbmluZyB3aXRoIG5leHQgZ3JvdXAgaWYgZXhpc3RzIGFuZCBwZXRhbHMgZGlmZmVyIGJ5IDEKICAgICAgICAgICAgaWYgKGkgKyAxIDwgKGludClncm91cHMuc2l6ZSgpICYmIGdyb3Vwc1tpKzFdLmZpcnN0ID09IHBldGFsICsgMSkgewogICAgICAgICAgICAgICAgaW50IGNudDIgPSBncm91cHNbaSsxXS5zZWNvbmQ7CiAgICAgICAgICAgICAgICBsb25nIGxvbmcgcGV0YWwyID0gZ3JvdXBzW2krMV0uZmlyc3Q7CgogICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBzZWxlY3QgeCBmbG93ZXJzIGZyb20gZ3JvdXAgaSBhbmQgeSBmbG93ZXJzIGZyb20gZ3JvdXAgaSsxCiAgICAgICAgICAgICAgICAvLyBzdWNoIHRoYXQgeCpwZXRhbCArIHkqcGV0YWwyIDw9IG0KICAgICAgICAgICAgICAgIC8vIGFuZCB4IDw9IGNudCwgeSA8PSBjbnQyCiAgICAgICAgICAgICAgICAvLyB0byBtYXhpbWl6ZSB4KnBldGFsICsgeSpwZXRhbDIKCiAgICAgICAgICAgICAgICAvLyBTaW5jZSBwZXRhbCA8IHBldGFsMiwgZm9yIGZpeGVkIHN1bSBjb3N0IDw9IG0sIG1heGltaXppbmcgbnVtYmVyIG9mIGZsb3dlcnMgZnJvbSBiaWdnZXIgcGV0YWwgaXMgYmV0dGVyCgogICAgICAgICAgICAgICAgLy8gV2UnbGwgdHJ5IGFsbCBwb3NzaWJsZSB4IGZyb20gMCB0byBjbnQgYW5kIGZpbmQgbWF4IHkgc3VjaCB0aGF0IGNvc3QgPD0gbQogICAgICAgICAgICAgICAgLy8gYnV0IGNudCBjYW4gYmUgbGFyZ2UgKHVwIHRvIDJlNSksIHNvIGxpbmVhciBzY2FuIGlzIGV4cGVuc2l2ZQoKICAgICAgICAgICAgICAgIC8vIFVzZSBiaW5hcnkgc2VhcmNoIGZvciB5IGdpdmVuIHg6CiAgICAgICAgICAgICAgICAvLyB5IDw9IGNudDIKICAgICAgICAgICAgICAgIC8vIHgqcGV0YWwgKyB5KnBldGFsMiA8PSBtID0+IHkgPD0gKG0gLSB4KnBldGFsKS9wZXRhbDIKCiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHN1bSBvZiBuIG92ZXIgYWxsIHRlc3QgY2FzZXMgaXMgdXAgdG8gMmU1LCB0aGlzIE8obikgYXBwcm9hY2ggaXMgYWNjZXB0YWJsZS4KCiAgICAgICAgICAgICAgICAvLyBUbyBvcHRpbWl6ZSwgdHJ5IHRvIGZpbmQgbWF4aW11bSB0b3RhbCBwZXRhbHMgYnkgY2hlY2tpbmcgZmVhc2libGUgeAoKICAgICAgICAgICAgICAgIGxvbmcgbG9uZyBiZXN0ID0gMDsKCiAgICAgICAgICAgICAgICAvLyBUbyBvcHRpbWl6ZSwgZG8gYmluYXJ5IHNlYXJjaCBvbiB4CiAgICAgICAgICAgICAgICAvLyBTaW5jZSBwZXRhbCA8IHBldGFsMiwgaW5jcmVhc2luZyB4IHJlZHVjZXMgYnVkZ2V0IGZvciB5CgogICAgICAgICAgICAgICAgLy8gTGV0J3MgdHJ5IGFsbCBwb3NzaWJsZSB4IGZyb20gMCB0byBjbnQgb3IgdG8gYSBzbWFsbGVyIGxpbWl0IChiZWNhdXNlIG0gaXMgbGFyZ2UsIGJ1dCBjbnQgY2FuIGJlIGxhcmdlKQogICAgICAgICAgICAgICAgLy8gV2UnbGwgYmluYXJ5IHNlYXJjaCB4IGZvciBtYXggdG90YWwgcGV0YWxzCgogICAgICAgICAgICAgICAgLy8gQWN0dWFsbHksIHNpbmNlIHBldGFsIGFuZCBwZXRhbDIgYXJlIGNsb3NlIChkaWZmPTEpLCB0cnkgYWxsIHggZnJvbSAwIHRvIGNudCBidXQgbGltaXQgdG8gMTAwMAogICAgICAgICAgICAgICAgLy8gSWYgY250ID4gMTAwMCwgdHJ5IGZyb20gMCB0byAxMDAwIGFuZCBmcm9tIGNudC0xMDAwIHRvIGNudAoKICAgICAgICAgICAgICAgIGludCBsaW1pdCA9IDEwMDA7CiAgICAgICAgICAgICAgICB2ZWN0b3I8aW50PiB4czsKICAgICAgICAgICAgICAgIGZvciAoaW50IHh4ID0gMDsgeHggPD0gbWluKGNudCwgbGltaXQpOyB4eCsrKSB4cy5wdXNoX2JhY2soeHgpOwogICAgICAgICAgICAgICAgZm9yIChpbnQgeHggPSBtYXgoMCwgY250IC0gbGltaXQpOyB4eCA8PSBjbnQ7IHh4KyspIHhzLnB1c2hfYmFjayh4eCk7CgogICAgICAgICAgICAgICAgc29ydCh4cy5iZWdpbigpLCB4cy5lbmQoKSk7CiAgICAgICAgICAgICAgICB4cy5lcmFzZSh1bmlxdWUoeHMuYmVnaW4oKSwgeHMuZW5kKCkpLCB4cy5lbmQoKSk7CgogICAgICAgICAgICAgICAgZm9yIChpbnQgeHZhbCA6IHhzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHh2YWwgPiBjbnQpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGxvbmcgbG9uZyByZW0gPSBtIC0geHZhbCAqIHBldGFsOwogICAgICAgICAgICAgICAgICAgIGlmIChyZW0gPCAwKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBsb25nIGxvbmcgeXZhbCA9IG1pbihjbnQyLCByZW0gLyBwZXRhbDIpOwogICAgICAgICAgICAgICAgICAgIGlmICh5dmFsIDwgMCkgeXZhbCA9IDA7CiAgICAgICAgICAgICAgICAgICAgbG9uZyBsb25nIHZhbCA9IHh2YWwgKiBwZXRhbCArIHl2YWwgKiBwZXRhbDI7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA+IGJlc3QpIGJlc3QgPSB2YWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYmVzdCA+IGFucykgYW5zID0gYmVzdDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
