[?2004hroot@0b671e43c28a:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@0b671e43c28a:/app# clear
[?2004l[H[J[3J[?2004hroot@0b671e43c28a:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7IGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOyBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8aW50PiBjKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gY1tpXTsKCiAgICAgICAgdW5vcmRlcmVkX21hcDxpbnQsaW50PiBmcmVxOwogICAgICAgIGZvciAoaW50IGNvbG9yIDogYykgZnJlcVtjb2xvcl0rKzsKCiAgICAgICAgLy8gQ291bnRzIG9mIG1hcmJsZSBjb3VudCBmcmVxdWVuY2llcwogICAgICAgIHVub3JkZXJlZF9tYXA8aW50LGludD4gZnJlcUNvdW50OwogICAgICAgIGZvciAoYXV0byYgcCA6IGZyZXEpIGZyZXFDb3VudFtwLnNlY29uZF0rKzsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBzcGxpdCB0aGUgbWFyYmxlcyBiZXR3ZWVuIEFsaWNlIGFuZCBCb2Igb3B0aW1hbGx5LgogICAgICAgIC8vIEJvdGggcGxheSBvcHRpbWFsbHk6IEFsaWNlIG1heGltaXplcyBoZXIgc2NvcmUsIEJvYiBtaW5pbWl6ZXMgaXQuCiAgICAgICAgLy8gU3RyYXRlZ3k6CiAgICAgICAgLy8gQWxpY2UgY2FuIGdldCBhdCBtb3N0IChudW1iZXIgb2YgZGlzdGluY3QgY29sb3JzKSArIChudW1iZXIgb2YgY29sb3JzIHNoZSBvd25zIGFsbCBtYXJibGVzIG9mKS4KICAgICAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWFyYmxlcyBBbGljZSBjYW4gdGFrZSBpcyAobisxKS8yIChzaW5jZSBBbGljZSBzdGFydHMgYW5kIHRoZXkgYWx0ZXJuYXRlKS4KICAgICAgICAvLyBVc2luZyBhIGdyZWVkeSBhcHByb2FjaCBiYXNlZCBvbiBmcmVxdWVuY3kgY291bnRzLgoKICAgICAgICBpbnQgdG90YWxfbWFyYmxlcyA9IG47CiAgICAgICAgaW50IGFsaWNlX21hcmJsZXMgPSAobiArIDEpIC8gMjsKCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIG1heGltdW0gc2NvcmUgZm9yIEFsaWNlLgogICAgICAgIC8vIFRoZSBzY29yZSA9IG51bWJlciBvZiBjb2xvcnMgQWxpY2UgaGFzIGF0IGxlYXN0IG9uZSBtYXJibGUgb2YgKyBudW1iZXIgb2YgY29sb3JzIEFsaWNlIGhhcyBhbGwgbWFyYmxlcyBvZi4KICAgICAgICAvLyBFYWNoIGNvbG9yIGNvbnRyaWJ1dGVzIGVpdGhlciAwLDEgb3IgMiBwb2ludHMgKGlmIHNoZSB0b29rIGFsbCBtYXJibGVzIG9mIHRoYXQgY29sb3IpLgoKICAgICAgICAvLyBTb3J0IGZyZXF1ZW5jaWVzIGRlc2NlbmRpbmcKICAgICAgICB2ZWN0b3I8aW50PiBmcmVxTGlzdDsKICAgICAgICBmb3IgKGF1dG8mIHAgOiBmcmVxKSBmcmVxTGlzdC5wdXNoX2JhY2socC5zZWNvbmQpOwogICAgICAgIHNvcnQoZnJlcUxpc3QucmJlZ2luKCksIGZyZXFMaXN0LnJlbmQoKSk7CgogICAgICAgIGludCBhbnN3ZXIgPSAwOwoKICAgICAgICAvLyBMZXQncyBjb25zaWRlciB0aGUgZm9sbG93aW5nIGFwcHJvYWNoOgogICAgICAgIC8vIDEpIEFsaWNlIHRyaWVzIHRvIHRha2UgYXMgbWFueSBjb2xvcnMgY29tcGxldGVseSBhcyBwb3NzaWJsZS4KICAgICAgICAvLyAyKSBBZnRlciB0aGF0LCB3aXRoIHJlbWFpbmluZyBtYXJibGVzLCBzaGUgdHJpZXMgdG8gZ2V0IHBhcnRpYWwgY292ZXJhZ2UgdG8gaW5jcmVhc2UgdW5pcXVlIGNvbG9ycyBjb3VudC4KCiAgICAgICAgLy8gQnV0IHNpbmNlIEJvYiB0cmllcyB0byBtaW5pbWl6ZSBBbGljZSdzIHNjb3JlLCBoZSB3aWxsIHRyeSB0byBwcmV2ZW50IEFsaWNlIGZyb20gdGFraW5nIGFsbCBtYXJibGVzIG9mIGFueSBjb2xvci4KICAgICAgICAvLyBUaGF0IG1lYW5zIEFsaWNlIGNhbiBvbmx5IGNvbXBsZXRlbHkgdGFrZSBjb2xvcnMgd2l0aCBzbWFsbCBmcmVxdWVuY3ksIGlmIHBvc3NpYmxlLgoKICAgICAgICAvLyBXZSB3aWxsIHRyeSBhbGwgcG9zc2libGUgbnVtYmVyIG9mIGNvbG9ycyBBbGljZSBjYW4gdGFrZSBjb21wbGV0ZWx5LCBmcm9tIDAgdG8gbnVtYmVyIG9mIGRpc3RpbmN0IGNvbG9ycwogICAgICAgIC8vIGFuZCBwaWNrIHRoZSBiZXN0IHNjb3JlLgoKICAgICAgICBpbnQgZGlzdGluY3RfY29sb3JzID0gKGludClmcmVxTGlzdC5zaXplKCk7CgogICAgICAgIC8vIHByZWZpeCBzdW0gb2YgZnJlcXVlbmNpZXMgdG8gcXVpY2tseSBjYWxjdWxhdGUgc3VtIG9mIGZpcnN0IGsgZnJlcXVlbmNpZXMKICAgICAgICB2ZWN0b3I8aW50PiBwcmVmaXgoZnJlcUxpc3Quc2l6ZSgpICsgMSwgMCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAoaW50KWZyZXFMaXN0LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIHByZWZpeFtpKzFdID0gcHJlZml4W2ldICsgZnJlcUxpc3RbaV07CiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBmdWxsID0gMDsgZnVsbCA8PSBkaXN0aW5jdF9jb2xvcnM7IGZ1bGwrKykgewogICAgICAgICAgICAvLyBmdWxsID0gbnVtYmVyIG9mIGNvbG9ycyBBbGljZSB0YWtlcyBjb21wbGV0ZWx5CiAgICAgICAgICAgIC8vIHN1bSBvZiBmcmVxdWVuY2llcyBvZiBmdWxsIGxhcmdlc3QgY29sb3JzCiAgICAgICAgICAgIGlmIChmdWxsID4gKGludClmcmVxTGlzdC5zaXplKCkpIGJyZWFrOwogICAgICAgICAgICBpbnQgc3VtX2Z1bGwgPSBwcmVmaXhbZnVsbF07CiAgICAgICAgICAgIGlmIChzdW1fZnVsbCA+IGFsaWNlX21hcmJsZXMpIGNvbnRpbnVlOyAvLyBjYW5ub3QgdGFrZSBtb3JlIG1hcmJsZXMgdGhhbiBhbGljZV9tYXJibGVzCgogICAgICAgICAgICBpbnQgcmVtYWluaW5nID0gYWxpY2VfbWFyYmxlcyAtIHN1bV9mdWxsOwogICAgICAgICAgICAvLyBBbGljZSBjYW4gdGFrZSBwYXJ0aWFsIG1hcmJsZXMgZnJvbSBvdGhlciBjb2xvcnMgdG8gaW5jcmVhc2UgdW5pcXVlIGNvbG9ycyBjb3VudAogICAgICAgICAgICAvLyBudW1iZXIgb2YgY29sb3JzIHBhcnRpYWxseSB0YWtlbiBjYW4ndCBleGNlZWQgZGlzdGluY3RfY29sb3JzIC0gZnVsbAogICAgICAgICAgICAvLyBidXQgbGltaXRlZCBieSByZW1haW5pbmcgbWFyYmxlcwogICAgICAgICAgICBpbnQgcGFydGlhbCA9IG1pbihyZW1haW5pbmcsIGRpc3RpbmN0X2NvbG9ycyAtIGZ1bGwpOwoKICAgICAgICAgICAgLy8gU2NvcmUgPSBmdWxsIGNvbG9ycyB0YWtlbiBjb21wbGV0ZWx5ICogMiAoMSBmb3IgaGF2aW5nICsxIGZvciBhbGwpICsgcGFydGlhbCBjb2xvcnMgcGFydGlhbGx5IHRha2VuICoxCiAgICAgICAgICAgIGludCBzY29yZSA9IGZ1bGwgKiAyICsgcGFydGlhbDsKCiAgICAgICAgICAgIGFuc3dlciA9IG1heChhbnN3ZXIsIHNjb3JlKTsKICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgYW5zd2VyIDw8ICJcbiI7CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@0b671e43c28a:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@0b671e43c28a:/app# 