[?2004hroot@84a144fd982b:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@84a144fd982b:/app# clear
[?2004l[H[J[3J[?2004hroot@84a144fd982b:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIG07CiAgICAgICAgY2luID4+IG4gPj4gbTsKICAgICAgICB2ZWN0b3I8dmVjdG9yPGludD4+IGNvd3MobiwgdmVjdG9yPGludD4obSkpOwogICAgICAgIHZlY3Rvcjx0dXBsZTxpbnQsaW50Pj4gY2FyZHM7IC8vIChjYXJkX3ZhbHVlLCBjb3dfaWQpCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBtOyBqKyspIHsKICAgICAgICAgICAgICAgIGNpbiA+PiBjb3dzW2ldW2pdOwogICAgICAgICAgICAgICAgY2FyZHMuZW1wbGFjZV9iYWNrKGNvd3NbaV1bal0sIGkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIFNvcnQgYWxsIGNhcmRzIGJ5IHRoZWlyIHZhbHVlCiAgICAgICAgc29ydChjYXJkcy5iZWdpbigpLCBjYXJkcy5lbmQoKSk7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGV4aXN0cyBhIHBlcm11dGF0aW9uIHAgc3VjaCB0aGF0IHdoZW4gY2FyZHMgYXJlIHBsYXllZCBpbiBvcmRlciBvZiBpbmNyZWFzaW5nIGNhcmQgbnVtYmVyLAogICAgICAgIC8vIGVhY2ggY293IHBsYWNlcyBjYXJkcyBpbiB0aGUgb3JkZXIgdGhleSBhcHBlYXIgaW4gdGhlIHBlcm11dGF0aW9uIHJlcGVhdGVkbHkuCiAgICAgICAgLy8gU2luY2UgaW4gZWFjaCByb3VuZCB0aGUgb3JkZXIgaXMgZml4ZWQsIHRoZSBvcmRlciBwIGRlZmluZXMgdGhlIGN5Y2xpYyBvcmRlciBvZiBjb3dzIGluIGVhY2ggcm91bmQuCiAgICAgICAgLy8gVGhlIHByb2JsZW0gcmVkdWNlcyB0byBjaGVja2luZyBpZiB0aGVyZSBpcyBhIHBlcm11dGF0aW9uIHAgc3VjaCB0aGF0IHdoZW4gdGhlIGNhcmRzIGFyZSBzb3J0ZWQgZ2xvYmFsbHksCiAgICAgICAgLy8gdGhlIGNhcmRzIGZyb20gdGhlIGNvd3MgYXBwZWFyIGluIHRoZSBvcmRlciBvZiBwIHJlcGVhdGVkIG0gdGltZXMuCgogICAgICAgIC8vIFdlIGNhbiBjaGVjayBhbGwgcGVybXV0YXRpb25zIG9mIGNvd3MgZm9yIGZlYXNpYmlsaXR5LCBidXQgbiBjYW4gYmUgdXAgdG8gMjAwMC9tIHdoaWNoIGlzIHRvbyBsYXJnZS4KICAgICAgICAvLyBJbnN0ZWFkLCBub3RlIHRoYXQgdGhlIG9yZGVyIG9mIGNhcmRzIGdsb2JhbGx5IHNvcnRlZCBpcyBmaXhlZC4KICAgICAgICAvLyBGb3IgdGhlIGdhbWUgdG8gYmUgcG9zc2libGUsIHRoZSBzZXF1ZW5jZSBvZiBjb3dzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNhcmRzIHNvcnRlZCBieSBjYXJkIHZhbHVlCiAgICAgICAgLy8gbXVzdCBiZSBhIHJlcGV0aXRpb24gb2YgcGVybXV0YXRpb24gcC4KICAgICAgICAvLyBTbywgdGhlIHNlcXVlbmNlIG9mIGNvd3MgZm9yIGNhcmRzIHNvcnRlZCBtdXN0IGJlIGVxdWFsIHRvIHAgcmVwZWF0ZWQgbSB0aW1lcy4KCiAgICAgICAgLy8gTGV0J3MgdHJ5IHRvIGZpbmQgcCBmcm9tIHRoZSBzZXF1ZW5jZSBvZiBjb3dzIGluIGNhcmRzOgogICAgICAgIC8vIFRoZSBsZW5ndGggb2YgY2FyZHMgaXMgbiptLgogICAgICAgIC8vIFRoZSBzZXF1ZW5jZSBzaG91bGQgYmUgcCBwIHAgLi4uIHAgKG0gdGltZXMpIGNvbmNhdGVuYXRlZC4KCiAgICAgICAgdmVjdG9yPGludD4gc2VxKG4qbSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuKm07IGkrKykgewogICAgICAgICAgICBzZXFbaV0gPSBnZXQ8MT4oY2FyZHNbaV0pOwogICAgICAgIH0KCiAgICAgICAgLy8gRXh0cmFjdCBmaXJzdCBuIGVsZW1lbnRzIGFzIGNhbmRpZGF0ZSBwCiAgICAgICAgdmVjdG9yPGludD4gcChzZXEuYmVnaW4oKSwgc2VxLmJlZ2luKCkgKyBuKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgcCBpcyBhIHBlcm11dGF0aW9uIG9mIDAuLm4tMQogICAgICAgIHZlY3Rvcjxib29sPiB1c2VkKG4sIGZhbHNlKTsKICAgICAgICBib29sIHZhbGlkID0gdHJ1ZTsKICAgICAgICBmb3IgKGludCB4IDogcCkgewogICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSBuIHx8IHVzZWRbeF0pIHsKICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICB1c2VkW3hdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAiXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIHRoYXQgc2VxID09IHAgcmVwZWF0ZWQgbSB0aW1lcwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbiptOyBpKyspIHsKICAgICAgICAgICAgaWYgKHNlcVtpXSAhPSBwW2kgJSBuXSkgewogICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICAvLyBJZiB2YWxpZCwgb3V0cHV0IHAgd2l0aCAxLWJhc2VkIGluZGV4aW5nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY291dCA8PCAocFtpXSArIDEpIDw8IChpID09IG4gLSAxID8gJ1xuJyA6ICcgJyk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@84a144fd982b:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@84a144fd982b:/app# 