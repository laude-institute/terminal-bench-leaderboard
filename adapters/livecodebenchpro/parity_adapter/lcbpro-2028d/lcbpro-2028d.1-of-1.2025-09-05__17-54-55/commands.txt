['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8aW50PiBxKG4rMSksIGsobisxKSwgaihuKzEpOwogICAgICAgIHZlY3RvcjxpbnQ+IHBvc1EobisxKSwgcG9zSyhuKzEpLCBwb3NKKG4rMSk7CgogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gcVtpXTsKICAgICAgICAgICAgcG9zUVtxW2ldXSA9IGk7CiAgICAgICAgfQogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4ga1tpXTsKICAgICAgICAgICAgcG9zS1trW2ldXSA9IGk7CiAgICAgICAgfQogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4galtpXTsKICAgICAgICAgICAgcG9zSltqW2ldXSA9IGk7CiAgICAgICAgfQoKICAgICAgICAvLyBXZSBtb2RlbCB0aGUgcHJvYmxlbSBhcyBhIGdyYXBoIHdoZXJlIGVhY2ggbm9kZSBpcyBhIGNhcmQuCiAgICAgICAgLy8gRnJvbSBjdXJyZW50IGNhcmQgYywgQWxpY2UgY2FuIHRyYWRlIHRvIGNhcmQgeCBpZjoKICAgICAgICAvLyAgIC0geCA+IGMgKEFsaWNlIHZhbHVlcyB4IG1vcmUgdGhhbiBjKQogICAgICAgIC8vICAgLSBUaGVyZSBpcyBhIHBsYXllciBwIGluIHtRLEssSn0gc3VjaCB0aGF0IHAgdmFsdWVzIGMgbW9yZSB0aGFuIHggKHBfYyA+IHBfeCkKICAgICAgICAvLyBFYWNoIGVkZ2UgaXMgbGFiZWxlZCB3aXRoIHRoZSBwbGF5ZXIgJ3EnLCAnaycsIG9yICdqJy4KCiAgICAgICAgdmVjdG9yPHZlY3RvcjxwYWlyPGludCxjaGFyPj4+IGFkaihuKzEpOwoKICAgICAgICAvLyBCdWlsZCBlZGdlcwogICAgICAgIGZvciAoaW50IGMgPSAxOyBjIDw9IG47IGMrKykgewogICAgICAgICAgICBmb3IgKGludCB4ID0gYysxOyB4IDw9IG47IHgrKykgewogICAgICAgICAgICAgICAgLy8gQ2hlY2sgUXVlZW4KICAgICAgICAgICAgICAgIGlmIChwb3NRW2NdID4gcG9zUVt4XSkgewogICAgICAgICAgICAgICAgICAgIGFkaltjXS5lbXBsYWNlX2JhY2soeCwgJ3EnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIENoZWNrIEtpbmcKICAgICAgICAgICAgICAgIGlmIChwb3NLW2NdID4gcG9zS1t4XSkgewogICAgICAgICAgICAgICAgICAgIGFkaltjXS5lbXBsYWNlX2JhY2soeCwgJ2snKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIENoZWNrIEphY2sKICAgICAgICAgICAgICAgIGlmIChwb3NKW2NdID4gcG9zSlt4XSkgewogICAgICAgICAgICAgICAgICAgIGFkaltjXS5lbXBsYWNlX2JhY2soeCwgJ2onKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQkZTIGZyb20gMSB0byBuIHRvIGZpbmQgYSBwYXRoCiAgICAgICAgdmVjdG9yPGludD4gcGFyZW50KG4rMSwgLTEpOwogICAgICAgIHZlY3RvcjxjaGFyPiBwYXJlbnRQbGF5ZXIobisxLCAwKTsKICAgICAgICBxdWV1ZTxpbnQ+IHFCZnM7CiAgICAgICAgcUJmcy5wdXNoKDEpOwogICAgICAgIHBhcmVudFsxXSA9IDA7CgogICAgICAgIHdoaWxlICghcUJmcy5lbXB0eSgpKSB7CiAgICAgICAgICAgIGludCB1ID0gcUJmcy5mcm9udCgpOyBxQmZzLnBvcCgpOwogICAgICAgICAgICBpZiAodSA9PSBuKSBicmVhazsKICAgICAgICAgICAgZm9yIChhdXRvICZlZGdlIDogYWRqW3VdKSB7CiAgICAgICAgICAgICAgICBpbnQgdiA9IGVkZ2UuZmlyc3Q7CiAgICAgICAgICAgICAgICBjaGFyIHAgPSBlZGdlLnNlY29uZDsKICAgICAgICAgICAgICAgIGlmIChwYXJlbnRbdl0gPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnRbdl0gPSB1OwogICAgICAgICAgICAgICAgICAgIHBhcmVudFBsYXllclt2XSA9IHA7CiAgICAgICAgICAgICAgICAgICAgcUJmcy5wdXNoKHYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyZW50W25dID09IC0xKSB7CiAgICAgICAgICAgIGNvdXQgPDwgIk5PXG4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvdXQgPDwgIllFU1xuIjsKICAgICAgICAgICAgdmVjdG9yPHBhaXI8Y2hhcixpbnQ+PiBwYXRoOwogICAgICAgICAgICBpbnQgY3VyID0gbjsKICAgICAgICAgICAgd2hpbGUgKGN1ciAhPSAxKSB7CiAgICAgICAgICAgICAgICBwYXRoLmVtcGxhY2VfYmFjayhwYXJlbnRQbGF5ZXJbY3VyXSwgY3VyKTsKICAgICAgICAgICAgICAgIGN1ciA9IHBhcmVudFtjdXJdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldmVyc2UocGF0aC5iZWdpbigpLCBwYXRoLmVuZCgpKTsKICAgICAgICAgICAgY291dCA8PCAoaW50KXBhdGguc2l6ZSgpIDw8ICJcbiI7CiAgICAgICAgICAgIGZvciAoYXV0byAmcHIgOiBwYXRoKSB7CiAgICAgICAgICAgICAgICBjb3V0IDw8IHByLmZpcnN0IDw8ICIgIiA8PCBwci5zZWNvbmQgPDwgIlxuIjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
