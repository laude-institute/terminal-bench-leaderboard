['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgSU5GID0gMWU5OwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OwogICAgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIHMxLCBzMjsKICAgICAgICBjaW4gPj4gbiA+PiBzMSA+PiBzMjsKCiAgICAgICAgaW50IG0xOwogICAgICAgIGNpbiA+PiBtMTsKICAgICAgICB2ZWN0b3I8dmVjdG9yPGludD4+IGcxKG4gKyAxKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG0xOyBpKyspIHsKICAgICAgICAgICAgaW50IGEsIGI7CiAgICAgICAgICAgIGNpbiA+PiBhID4+IGI7CiAgICAgICAgICAgIGcxW2FdLnB1c2hfYmFjayhiKTsKICAgICAgICAgICAgZzFbYl0ucHVzaF9iYWNrKGEpOwogICAgICAgIH0KCiAgICAgICAgaW50IG0yOwogICAgICAgIGNpbiA+PiBtMjsKICAgICAgICB2ZWN0b3I8dmVjdG9yPGludD4+IGcyKG4gKyAxKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG0yOyBpKyspIHsKICAgICAgICAgICAgaW50IGMsIGQ7CiAgICAgICAgICAgIGNpbiA+PiBjID4+IGQ7CiAgICAgICAgICAgIGcyW2NdLnB1c2hfYmFjayhkKTsKICAgICAgICAgICAgZzJbZF0ucHVzaF9iYWNrKGMpOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIGlmIHRoZXJlJ3MgYW4gaW5maW5pdGUgc2VxdWVuY2Ugb2YgbW92ZXMgd2l0aCB6ZXJvIHRvdGFsIGNvc3QuCiAgICAgICAgLy8gSW5maW5pdGUgbWVhbnMgd2UgY2FuIGtlZXAgbW92aW5nIGZvcmV2ZXIuCiAgICAgICAgLy8gVGhlIGNvc3Qgb2Ygb25lIG9wZXJhdGlvbiBpcyB8dTEgLSB1Mnwgd2hlcmUgdTEgYWRqYWNlbnQgdG8gdjEgaW4gZ3JhcGgxIGFuZCB1MiBhZGphY2VudCB0byB2MiBpbiBncmFwaDIuCiAgICAgICAgLy8gVGhlIG1pbmltYWwgdG90YWwgY29zdCBvdmVyIGluZmluaXRlIG1vdmVzIGlzIGVpdGhlciAwIG9yIGluZmluaXRlIChvciAtMSB0byBpbmRpY2F0ZSBpbmZpbml0ZSkuCgogICAgICAgIC8vIElkZWE6CiAgICAgICAgLy8gTW9kZWwgc3RhdGVzIGFzIHBhaXJzICh2MSwgdjIpLgogICAgICAgIC8vIEZyb20gKHYxLHYyKSB3ZSBjYW4gbW92ZSB0byAodTEsdTIpIHdoZXJlIHUxIGluIGFkalt2MV0gaW4gZzEgYW5kIHUyIGluIGFkalt2Ml0gaW4gZzIuCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIGEgY3ljbGUgcmVhY2hhYmxlIGZyb20gKHMxLHMyKSB3aXRoIGNvc3QgMCBvbiBlYWNoIHN0ZXAgKHx1MSAtIHUyfD0wID0+IHUxPT11MikuCiAgICAgICAgLy8gVGhhdCBtZWFucyB0aGUgdG9rZW5zIG1vdmUgc3luY2hyb25vdXNseSB0byB0aGUgc2FtZSB2ZXJ0ZXggaW4gYm90aCBncmFwaHMuCgogICAgICAgIC8vIFNvIGZpbmQgaWYgdGhlcmUncyBhIGN5Y2xlIGluIHRoZSBzdGF0ZSBncmFwaCB3aGVyZSBlZGdlcyBvbmx5IGNvbm5lY3QgKHYsdikgLT4gKHUsdSkgd2l0aCB1IGFkamFjZW50IHRvIHYgaW4gYm90aCBncmFwaHMuCiAgICAgICAgLy8gSWYgc3VjaCBhIGN5Y2xlIGV4aXN0cyByZWFjaGFibGUgZnJvbSAoczEsczIpLCBhbnN3ZXIgaXMgMC4KICAgICAgICAvLyBPdGhlcndpc2UsIGFuc3dlciAtMS4KCiAgICAgICAgLy8gQnVpbGQgaW50ZXJzZWN0aW9uIGdyYXBoOgogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gaW50ZXJzZWN0X2FkaihuKzEpOwogICAgICAgIGZvciAoaW50IHYgPSAxOyB2IDw9IG47IHYrKykgewogICAgICAgICAgICAvLyBuZWlnaGJvcnMgaW4gZzEgYW5kIGcyCiAgICAgICAgICAgIHZlY3RvcjxpbnQ+ICZuYnIxID0gZzFbdl07CiAgICAgICAgICAgIHZlY3RvcjxpbnQ+ICZuYnIyID0gZzJbdl07CiAgICAgICAgICAgIC8vIHNldCBmb3IgcXVpY2sgbG9va3VwCiAgICAgICAgICAgIHVub3JkZXJlZF9zZXQ8aW50PiBuYnIyX3NldChuYnIyLmJlZ2luKCksIG5icjIuZW5kKCkpOwogICAgICAgICAgICBmb3IgKGludCB1IDogbmJyMSkgewogICAgICAgICAgICAgICAgaWYgKG5icjJfc2V0LmNvdW50KHUpKSB7CiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0X2Fkalt2XS5wdXNoX2JhY2sodSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgY3ljbGUgcmVhY2hhYmxlIGZyb20gczEgaW4gaW50ZXJzZWN0aW9uIGdyYXBoCiAgICAgICAgdmVjdG9yPGludD4gY29sb3IobisxLCAwKTsgLy8gMD11bnZpc2l0ZWQsMT12aXNpdGluZywyPXZpc2l0ZWQKICAgICAgICBib29sIGhhc19jeWNsZSA9IGZhbHNlOwoKICAgICAgICBmdW5jdGlvbjx2b2lkKGludCk+IGRmcyA9IFsmXShpbnQgdikgewogICAgICAgICAgICBpZiAoaGFzX2N5Y2xlKSByZXR1cm47CiAgICAgICAgICAgIGNvbG9yW3ZdID0gMTsKICAgICAgICAgICAgZm9yIChpbnQgdSA6IGludGVyc2VjdF9hZGpbdl0pIHsKICAgICAgICAgICAgICAgIGlmIChjb2xvclt1XSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGZzKHUpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2xvclt1XSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgaGFzX2N5Y2xlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29sb3Jbdl0gPSAyOwogICAgICAgIH07CgogICAgICAgIGRmcyhzMSk7CgogICAgICAgIGNvdXQgPDwgKGhhc19jeWNsZSA/IDAgOiAtMSkgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
