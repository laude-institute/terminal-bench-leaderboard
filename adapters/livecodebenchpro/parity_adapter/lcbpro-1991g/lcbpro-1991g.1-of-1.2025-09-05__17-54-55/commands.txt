['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIG0sIGssIHE7CiAgICAgICAgY2luID4+IG4gPj4gbSA+PiBrID4+IHE7CiAgICAgICAgc3RyaW5nIHM7IGNpbiA+PiBzOwoKICAgICAgICAvLyBXZSB3aWxsIHNpbXVsYXRlIHRoZSBncmlkIGFuZCBvcGVyYXRpb25zLgogICAgICAgIC8vIEdyaWQgY2VsbHM6IDAgPSB3aGl0ZSwgMSA9IGJsYWNrCiAgICAgICAgdmVjdG9yPHZlY3RvcjxpbnQ+PiBncmlkKG4sIHZlY3RvcjxpbnQ+KG0sIDApKTsKICAgICAgICAvLyBDb3VudCBibGFjayBjZWxscyBwZXIgcm93IGFuZCBjb2x1bW4KICAgICAgICB2ZWN0b3I8aW50PiByb3dfYmxhY2sobiwgMCksIGNvbF9ibGFjayhtLCAwKTsKCiAgICAgICAgYXV0byByZXNldF9yb3dzX2NvbHMgPSBbJl0oKSB7CiAgICAgICAgICAgIGJvb2wgY2hhbmdlZDsKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgY2hhbmdlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmVjdG9yPGludD4gcm93c190b19yZXNldCwgY29sc190b19yZXNldDsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd19ibGFja1tpXSA9PSBtKSByb3dzX3RvX3Jlc2V0LnB1c2hfYmFjayhpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbTsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbF9ibGFja1tqXSA9PSBuKSBjb2xzX3RvX3Jlc2V0LnB1c2hfYmFjayhqKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChyb3dzX3RvX3Jlc2V0LmVtcHR5KCkgJiYgY29sc190b19yZXNldC5lbXB0eSgpKSBicmVhazsKCiAgICAgICAgICAgICAgICBmb3IgKGludCBpIDogcm93c190b19yZXNldCkgewogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbTsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldW2pdID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbaV1bal0gPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93X2JsYWNrW2ldLS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfYmxhY2tbal0tLTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoaW50IGogOiBjb2xzX3RvX3Jlc2V0KSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV1bal0gPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtpXVtqXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dfYmxhY2tbaV0tLTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF9ibGFja1tqXS0tOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IHdoaWxlIChjaGFuZ2VkKTsKICAgICAgICB9OwoKICAgICAgICB2ZWN0b3I8cGFpcjxpbnQsaW50Pj4gYW5zOwogICAgICAgIGJvb2wgcG9zc2libGUgPSB0cnVlOwoKICAgICAgICBmb3IgKGNoYXIgb3AgOiBzKSB7CiAgICAgICAgICAgIGJvb2wgcGxhY2VkID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChvcCA9PSAnSCcpIHsKICAgICAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGEgMSB4IGsgd2hpdGUgcmVjdGFuZ2xlCiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG4gJiYgIXBsYWNlZDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPD0gbSAtIGsgJiYgIXBsYWNlZDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgY2FuX3BsYWNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgeCA9IDA7IHggPCBrOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldW2oreF0gPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbl9wbGFjZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5fcGxhY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsYWNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCB4ID0gMDsgeCA8IGs7IHgrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbaV1bait4XSA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93X2JsYWNrW2ldKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX2JsYWNrW2oreF0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFucy5lbXBsYWNlX2JhY2soaSsxLCBqKzEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRfcm93c19jb2xzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgeyAvLyAnVicKICAgICAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGEgayB4IDEgd2hpdGUgcmVjdGFuZ2xlCiAgICAgICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IG0gJiYgIXBsYWNlZDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPD0gbiAtIGsgJiYgIXBsYWNlZDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgY2FuX3BsYWNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgeCA9IDA7IHggPCBrOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2kreF1bal0gPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbl9wbGFjZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5fcGxhY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsYWNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCB4ID0gMDsgeCA8IGs7IHgrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbaSt4XVtqXSA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93X2JsYWNrW2kreF0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfYmxhY2tbal0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFucy5lbXBsYWNlX2JhY2soaSsxLCBqKzEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRfcm93c19jb2xzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcGxhY2VkKSB7CiAgICAgICAgICAgICAgICBwb3NzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghcG9zc2libGUpIHsKICAgICAgICAgICAgY291dCA8PCAtMSA8PCAnXG4nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAoYXV0byAmcCA6IGFucykgewogICAgICAgICAgICAgICAgY291dCA8PCBwLmZpcnN0IDw8ICcgJyA8PCBwLnNlY29uZCA8PCAnXG4nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
