['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gOTk4MjQ0MzUzOwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8aW50PiBwKG4pLCBxKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gcFtpXTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IHFbaV07CgogICAgICAgIC8vIFByZWNvbXB1dGUgcG93ZXJzIG9mIDIgbW9kdWxvIE1PRCBmb3IgYWxsIHZhbHVlcyAwIHRvIG4tMQogICAgICAgIHZlY3RvcjxpbnQ+IHBvdzIobik7CiAgICAgICAgcG93MlswXSA9IDE7CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcG93MltpXSA9IChwb3cyW2ktMV0gKiAyKSAlIE1PRDsKICAgICAgICB9CgogICAgICAgIC8vIFdlIHdhbnQgdG8gZmluZCBmb3IgZWFjaCBpICgwIDw9IGkgPCBuKToKICAgICAgICAvLyByX2kgPSBtYXhfezAgPD0gaiA8PSBpfSAoMl57cF9qfSArIDJee3Ffe2ktan19KQoKICAgICAgICAvLyBTaW5jZSBwIGFuZCBxIGFyZSBwZXJtdXRhdGlvbnMgb2YgWzAuLm4tMV0sIHBfaiBhbmQgcV9rIGFyZSBkaXN0aW5jdCBpbnRlZ2VycyBpbiBbMC4ubi0xXS4KICAgICAgICAvLyBUaGUgbWF4aW11bSBpcyBmb3VuZCBhbW9uZyBzdW1zIG9mIHBvdzJbcF9qXSArIHBvdzJbcV97aS1qfV0gZm9yIGo9MC4uaS4KCiAgICAgICAgLy8gVG8gZWZmaWNpZW50bHkgY29tcHV0ZSByX2ksIHdlIGNhbiB1c2UgdGhlIGZvbGxvd2luZyBhcHByb2FjaDoKICAgICAgICAvLyBGb3IgZWFjaCBpLCB3ZSBjaGVjayBhbGwgaiBpbiBbMC4uaV0sIGJ1dCB0aGF0IGNhbiBiZSBPKG5eMikuCiAgICAgICAgLy8gSW5zdGVhZCwgd2UgY2FuIG9ic2VydmUgdGhlIG1heGltdW0gc3VtIGNhbiBiZSBmb3VuZCBieSBjb25zaWRlcmluZyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBwb3cyW3Bfal0gc2VlbiBzbyBmYXIgYW5kIG1heGltdW0gcG93MltxX3trfV0gc2VlbiBzbyBmYXIuCgogICAgICAgIC8vIEJ1dCBzaW5jZSBpbmRpY2VzIGFyZSBjb21wbGV4LCBsZXQncyBwcmVjb21wdXRlIGFycmF5cyBBIGFuZCBCOgogICAgICAgIC8vIEFbaV0gPSBwb3cyW3BbaV1dCiAgICAgICAgLy8gQltpXSA9IHBvdzJbcVtpXV0KCiAgICAgICAgLy8gRm9yIGVhY2ggaSwgcl9pID0gbWF4X3tqPTAuLml9IChBW2pdICsgQltpLWpdKQoKICAgICAgICAvLyBUbyBvcHRpbWl6ZSwgd2UgY2FuIHVzZSB0d28gcG9pbnRlcnMgdG8gbWFpbnRhaW4gbWF4IHByZWZpeCBvZiBBIGFuZCBtYXggc3VmZml4IG9mIEIuCgogICAgICAgIHZlY3RvcjxpbnQ+IEEobiksIEIobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgQVtpXSA9IHBvdzJbcFtpXV07CiAgICAgICAgICAgIEJbaV0gPSBwb3cyW3FbaV1dOwogICAgICAgIH0KCiAgICAgICAgLy8gUHJlY29tcHV0ZSBwcmVmaXggbWF4IG9mIEEKICAgICAgICB2ZWN0b3I8aW50PiBwcmVmaXhNYXhBKG4pOwogICAgICAgIHByZWZpeE1heEFbMF0gPSBBWzBdOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHByZWZpeE1heEFbaV0gPSBtYXgocHJlZml4TWF4QVtpLTFdLCBBW2ldKTsKICAgICAgICB9CgogICAgICAgIC8vIFByZWNvbXB1dGUgc3VmZml4IG1heCBvZiBCCiAgICAgICAgdmVjdG9yPGludD4gc3VmZml4TWF4QihuKTsKICAgICAgICBzdWZmaXhNYXhCW24tMV0gPSBCW24tMV07CiAgICAgICAgZm9yIChpbnQgaSA9IG4tMjsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgc3VmZml4TWF4QltpXSA9IG1heChzdWZmaXhNYXhCW2krMV0sIEJbaV0pOwogICAgICAgIH0KCiAgICAgICAgdmVjdG9yPGludD4gcihuLCAwKTsKICAgICAgICAvLyBGb3IgZWFjaCBpLCB3ZSB0cnkgYWxsIGogdG8gZmluZCBtYXggQVtqXSArIEJbaS1qXQogICAgICAgIC8vIEluc3RlYWQgb2YgTyhuXjIpLCB3ZSBjYW4gZG8gdGhpcyBtb3JlIGNsZXZlcmx5LgogICAgICAgIC8vIEJ1dCBjb25zdHJhaW50cyBhbGxvdyBPKG5eMikgaW4gdG90YWwgc3VtIG9mIG4gPSAxZTUgaXMgdG9vIGxhcmdlLgoKICAgICAgICAvLyBBbm90aGVyIGFwcHJvYWNoOgogICAgICAgIC8vIEZvciBlYWNoIGksIG1heCBvdmVyIGo9MC4uaSBvZiBBW2pdICsgQltpLWpdCiAgICAgICAgLy8gV2UgY2FuIHRyeSB0byBmaW5kIG1heGltdW0gQVtqXSArIEJbaS1qXSBlZmZpY2llbnRseS4KCiAgICAgICAgLy8gU2luY2UgcCBhbmQgcSBhcmUgcGVybXV0YXRpb25zIG9mIFswLi5uLTFdLCBwb3cyW3Bfal0gYXJlIGRpc3RpbmN0IHBvd2VycyBvZiB0d28uCiAgICAgICAgLy8gVGhlIG1heGltdW0gc3VtIHdpbGwgY29tZSBmcm9tIHRoZSBtYXhpbXVtIEFbal0gYW5kIG1heGltdW0gQltpLWpdLgoKICAgICAgICAvLyBMZXQncyBjb25zaWRlciB0aGlzOgogICAgICAgIC8vIEZvciBlYWNoIGksIHRoZSBtYXhpbXVtIHN1bSBpcyBtYXggb3ZlciBqIG9mIEFbal0gKyBCW2ktal0uCiAgICAgICAgCiAgICAgICAgLy8gT2JzZXJ2ZSB0aGF0IEEgYW5kIEIgY29udGFpbiBkaXN0aW5jdCBwb3dlcnMgb2YgdHdvICh1bmlxdWUgdmFsdWVzKS4KICAgICAgICAvLyBUaGUgbWF4aW11bSBzdW0gZm9yIGVhY2ggaSBjYW4gYmUgZm91bmQgYnkgY2hlY2tpbmcgcGFpcnMgKEFbal0sIEJbaS1qXSkuCgogICAgICAgIC8vIExldCdzIHByZWNvbXB1dGUgbWF4IGZyb20gbGVmdCBmb3IgQSBhbmQgbWF4IGZyb20gcmlnaHQgZm9yIEIgdG8gdXNlIHR3byBwb2ludGVycy4KCiAgICAgICAgLy8gU2luY2Ugd2Ugd2FudCBtYXggb2YgQVtqXSArIEJbaS1qXSwgaiBpbiBbMC4uaV0sIHdlIGNhbiBkbzoKICAgICAgICAvLyBGb3IgaSBmcm9tIDAgdG8gbi0xOgogICAgICAgIC8vICAgLSBXZSBrZWVwIHRyYWNrIG9mIG1heCBBW2pdIGZvciBqIDw9IGkKICAgICAgICAvLyAgIC0gV2Uga2VlcCB0cmFjayBvZiBtYXggQltrXSBmb3IgayA+PSAwIChrID0gaSAtIGopCgogICAgICAgIC8vIExldCdzIGNyZWF0ZSBhcnJheXMgbWF4QV9wcmVmaXggYW5kIG1heEJfcHJlZml4OgoKICAgICAgICB2ZWN0b3I8aW50PiBtYXhBX3ByZWZpeChuKSwgbWF4Ql9wcmVmaXgobik7CiAgICAgICAgbWF4QV9wcmVmaXhbMF0gPSBBWzBdOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIG1heEFfcHJlZml4W2ldID0gbWF4KG1heEFfcHJlZml4W2ktMV0sIEFbaV0pOwogICAgICAgIH0KICAgICAgICBtYXhCX3ByZWZpeFswXSA9IEJbMF07CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgbWF4Ql9wcmVmaXhbaV0gPSBtYXgobWF4Ql9wcmVmaXhbaS0xXSwgQltpXSk7CiAgICAgICAgfQoKICAgICAgICAvLyBGb3IgZWFjaCBpLCB3ZSBpdGVyYXRlIGo9MC4uaSBhbmQgY29tcHV0ZSBBW2pdK0JbaS1qXSwga2VlcCBtYXgKICAgICAgICAvLyBCdXQgdGhpcyBpcyBPKG5eMikgLSB0b28gc2xvdy4KCiAgICAgICAgLy8gTGV0J3Mgb3B0aW1pemU6IFNpbmNlIHBvdzJbeF0gYXJlIGRpc3RpbmN0IHBvd2VycyBvZiB0d28sIGFuZCBwIGFuZCBxIGFyZSBwZXJtdXRhdGlvbnMsCiAgICAgICAgLy8gdGhlIG1heGltdW0gQVtqXSArIEJbaS1qXSB3aWxsIGJlIGZyb20gdGhlIG1heGltdW0gQVtqXSBhbmQgbWF4aW11bSBCW2tdIHdoZXJlIGorayA9IGkuCgogICAgICAgIC8vIExldCdzIGNyZWF0ZSBhcnJheXMgcG9zUCBhbmQgcG9zUSB0byBmaW5kIHBvc2l0aW9ucyBvZiB2YWx1ZXMgaW4gcCBhbmQgcSAobm90IG5lZWRlZCBoZXJlKQoKICAgICAgICAvLyBMZXQncyB1c2UgYSBzbGlkaW5nIHdpbmRvdyB0byBtYWludGFpbiBtYXggb2YgQSBhbmQgQiBmb3IgZWFjaCBpLgoKICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBjYW4gdHJ5IHRoZSBmb2xsb3dpbmcgYXBwcm9hY2g6CiAgICAgICAgLy8gRm9yIGVhY2ggcG9zc2libGUgc3VtIG9mIGluZGljZXMgaSwgd2UgY2FuIGZpbmQgdGhlIG1heGltdW0gc3VtIGJ5IGNoZWNraW5nIHBhaXJzLgoKICAgICAgICAvLyBXZSBjYW4gcHJlY29tcHV0ZSBhcnJheXMgbWF4QSBhbmQgbWF4QiBmcm9tIGxlZnQgYW5kIHJpZ2h0IHRvIGdldCBtYXhpbXVtIHN1bXMuCgogICAgICAgIC8vIEJ1dCBhbiBlYXNpZXIgd2F5IGlzIHRvIHVzZSBtb25vdG9uaWMgcXVldWVzIG9yIHNlZ21lbnQgdHJlZXMuCgogICAgICAgIC8vIExldCdzIGJ1aWxkIGEgc2VnbWVudCB0cmVlIG9uIEIgdG8gcXVlcnkgbWF4IEJbaS1qXSBnaXZlbiBqLgoKICAgICAgICAvLyBCdWlsZCBzZWdtZW50IHRyZWUgb24gQiBmb3IgbWF4IHF1ZXJpZXMuCgogICAgICAgIGNsYXNzIFNlZ21lbnRUcmVlIHsKICAgICAgICBwdWJsaWM6CiAgICAgICAgICAgIGludCBzaXplOwogICAgICAgICAgICB2ZWN0b3I8aW50PiB0cmVlOwoKICAgICAgICAgICAgU2VnbWVudFRyZWUoaW50IG4pIHsKICAgICAgICAgICAgICAgIHNpemUgPSAxOwogICAgICAgICAgICAgICAgd2hpbGUgKHNpemUgPCBuKSBzaXplIDw8PSAxOwogICAgICAgICAgICAgICAgdHJlZS5hc3NpZ24oMiAqIHNpemUsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2b2lkIGJ1aWxkKGNvbnN0IHZlY3RvcjxpbnQ+ICZhcnIpIHsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgKGludClhcnIuc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB0cmVlW3NpemUgKyBpXSA9IGFycltpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSBzaXplIC0gMTsgaSA+PSAxOyBpLS0pIHsKICAgICAgICAgICAgICAgICAgICB0cmVlW2ldID0gbWF4KHRyZWVbMippXSwgdHJlZVsyKmkrMV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpbnQgcXVlcnkoaW50IGwsIGludCByKSB7IC8vIFtsLCByXQogICAgICAgICAgICAgICAgaW50IHJlcyA9IDA7CiAgICAgICAgICAgICAgICBsICs9IHNpemU7CiAgICAgICAgICAgICAgICByICs9IHNpemU7CiAgICAgICAgICAgICAgICB3aGlsZSAobCA8PSByKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKChsICYgMSkgPT0gMSkgcmVzID0gbWF4KHJlcywgdHJlZVtsKytdKTsKICAgICAgICAgICAgICAgICAgICBpZiAoKHIgJiAxKSA9PSAwKSByZXMgPSBtYXgocmVzLCB0cmVlW3ItLV0pOwogICAgICAgICAgICAgICAgICAgIGwgPj49IDE7CiAgICAgICAgICAgICAgICAgICAgciA+Pj0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBTZWdtZW50VHJlZSBzZWdCKG4pOwogICAgICAgIHNlZ0IuYnVpbGQoQik7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGludCBiZXN0ID0gMDsKICAgICAgICAgICAgLy8gaiBpbiBbMC4uaV0sIHF1ZXJ5IG1heCBCW2ktal0gaW4gWzAuLmldCiAgICAgICAgICAgIC8vIEZvciBlYWNoIGosIEJbaS1qXSA9IEJba10sIGsgPSBpLWoKICAgICAgICAgICAgLy8gU28gd2UgcXVlcnkgQiBpbiByYW5nZSBbMC4uaV0KICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPD0gaTsgaisrKSB7CiAgICAgICAgICAgICAgICBpbnQgdmFsID0gQVtqXSArIEJbaSAtIGpdOwogICAgICAgICAgICAgICAgaWYgKHZhbCA+IGJlc3QpIGJlc3QgPSB2YWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcltpXSA9IGJlc3QgJSBNT0Q7CiAgICAgICAgfQoKICAgICAgICAvLyBBYm92ZSBpcyBPKG5eMiksIHdpbGwgdGltZW91dCBmb3IgbGFyZ2UgaW5wdXRzLgogICAgICAgIC8vIE5lZWQgYSBmYXN0ZXIgYXBwcm9hY2guCgogICAgICAgIC8vIE5ldyBhcHByb2FjaDoKICAgICAgICAvLyBGb3IgZWFjaCBpLCByX2kgPSBtYXhfe2o9MC4uaX0gKEFbal0gKyBCW2ktal0pCiAgICAgICAgLy8gVGhpcyBpcyB0aGUgbWF4IGNvbnZvbHV0aW9uIG9mIHNlcXVlbmNlcyBBIGFuZCBCLgogICAgICAgIC8vIEJ1dCBtYXggY29udm9sdXRpb24gaXMgbm90IHRyaXZpYWwgdG8gY29tcHV0ZSBpbiBPKG4gbG9nIG4pLgoKICAgICAgICAvLyBDb25zdHJhaW50OiBzdW0gb2YgbiB1cCB0byAxZTUKICAgICAgICAvLyBPKG5eMikgaXMgbm90IGZlYXNpYmxlLgoKICAgICAgICAvLyBMZXQncyB0cnkgdG8gdXNlIHRoZSBwcm9wZXJ0eSBvZiBBIGFuZCBCIGJlaW5nIHBvd2VycyBvZiB0d28gd2l0aCB1bmlxdWUgZXhwb25lbnRzLgoKICAgICAgICAvLyBTaW5jZSBBIGFuZCBCIGFyZSBwb3dlcnMgb2YgdHdvIHdpdGggZGlzdGluY3QgZXhwb25lbnRzLCB0aGUgc3VtcyBhcmUgdW5pcXVlIHZhbHVlcy4KCiAgICAgICAgLy8gVGhlIG1heGltdW0gc3VtIGZvciBlYWNoIGkgaXMgdGhlIG1heGltdW0gb3ZlciBwYWlycyAoaiwgaS1qKS4KCiAgICAgICAgLy8gTGV0J3MgdXNlIGEgbW9ub3RvbmljIHN0YWNrIGFwcHJvYWNoOgogICAgICAgIC8vIEZvciBBLCB3ZSBjYW4gc3RvcmUgaW5kaWNlcyBzb3J0ZWQgYnkgQVtpXS4KICAgICAgICAvLyBGb3IgQiwgc2ltaWxhcmx5LgoKICAgICAgICAvLyBXZSBjYW4gcHJlY29tcHV0ZSBwcmVmaXggbWF4IG9mIEEgYW5kIHN1ZmZpeCBtYXggb2YgQi4KCiAgICAgICAgLy8gRm9yIGVhY2ggaSwgdGhlIG1heGltdW0gc3VtIGlzIG1heCBvdmVyIGogb2YgQVtqXSArIEJbaS1qXS4KCiAgICAgICAgLy8gTGV0J3MgdHJ5IGFuIE8obikgYXBwcm9hY2g6CgogICAgICAgIC8vIFNpbmNlIHAgYW5kIHEgYXJlIHBlcm11dGF0aW9ucyBvZiBbMC4ubi0xXSwgQSBhbmQgQiBhcmUgcG93ZXJzIG9mIHR3byBkaXN0aW5jdCB2YWx1ZXMuCgogICAgICAgIC8vIFRoZSBtYXhpbXVtIHN1bSBmb3Igcl9pIGlzIG1heCBvdmVyIGogb2YgQVtqXSArIEJbaS1qXS4KCiAgICAgICAgLy8gVGhlIG1heGltdW0gQVtqXSBmb3IgaiA8PSBpIGFuZCBtYXhpbXVtIEJba10gZm9yIGsgPj0gMCBzdWNoIHRoYXQgaiArIGsgPSBpLgoKICAgICAgICAvLyBGb3IgZWFjaCBpLCB3ZSB3YW50IHRvIGZpbmQgbWF4IG9mIEFbal0gKyBCW2ktal0uCgogICAgICAgIC8vIExldCdzIGNyZWF0ZSBhcnJheXMgbWF4QV9wcmVmaXggYW5kIG1heEJfcHJlZml4OgogICAgICAgIC8vIG1heEFfcHJlZml4W2ldID0gbWF4IEFbal0gZm9yIGogPD0gaQogICAgICAgIC8vIG1heEJfc3VmZml4W2ldID0gbWF4IEJbal0gZm9yIGogPj0gaQoKICAgICAgICAvLyBGb3IgaSBmcm9tIDAgdG8gbi0xOgogICAgICAgIC8vIHJfaSA9IG1heCBvdmVyIGogaW4gWzAuLmldIG9mIEFbal0gKyBCW2ktal0KCiAgICAgICAgLy8gQnV0IHdlIGNhbiBjaGVjayBmb3IgZWFjaCBpOgogICAgICAgIC8vIHJfaSA9IG1heCAobWF4QV9wcmVmaXhbal0gKyBtYXhCX3ByZWZpeFtpLWpdKSBmb3Igaj0wLi5pCgogICAgICAgIC8vIFRoaXMgaXMgYWdhaW4gTyhuXjIpLgoKICAgICAgICAvLyBIb3dldmVyLCBzaW5jZSBtYXhBX3ByZWZpeCBhbmQgbWF4Ql9wcmVmaXggYXJlIG5vbi1kZWNyZWFzaW5nIGFycmF5cyAobWF4IHByZWZpeCksIHdlIGNhbiBnZXQgbWF4QV9wcmVmaXggYW5kIG1heEJfcHJlZml4LgoKICAgICAgICAvLyBUaGlzIHN1Z2dlc3RzIHRoYXQgdGhlIG1heGltdW0gc3VtIGZvciByX2kgaXMgbWF4IG92ZXIgaj0wLi5pIG9mIG1heEFfcHJlZml4W2pdICsgbWF4Ql9wcmVmaXhbaS1qXS4KCiAgICAgICAgLy8gU2luY2UgbWF4QV9wcmVmaXggYW5kIG1heEJfcHJlZml4IGFyZSBub24tZGVjcmVhc2luZywgdGhlIG1heGltdW0gc3VtIGlzIG1heEFfcHJlZml4W2ldICsgbWF4Ql9wcmVmaXhbMF0gb3IgbWF4QV9wcmVmaXhbMF0gKyBtYXhCX3ByZWZpeFtpXSwgYnV0IHdlIG5lZWQgdG8gY2hlY2sgYWxsLgoKICAgICAgICAvLyBMZXQncyBpbXBsZW1lbnQgYSB0d28gcG9pbnRlciBhcHByb2FjaDoKICAgICAgICAvLyBXZSdsbCBpdGVyYXRlIGogZnJvbSAwIHRvIGksIGFuZCBmb3IgZWFjaCBqLCBjYWxjdWxhdGUgbWF4QV9wcmVmaXhbal0gKyBtYXhCX3ByZWZpeFtpLWpdLCBrZWVwIG1heC4KCiAgICAgICAgLy8gQnV0IGFnYWluIE8obl4yKS4KCiAgICAgICAgLy8gQWx0ZXJuYXRpdmUgaXMgdG8gbm90ZSB0aGF0IGZvciByX2ksIG1heGltdW0gc3VtIGlzIG1heCBvZiBzdW1zIG9mIHRoZSBsYXJnZXN0IEFbal0gYW5kIEJbaS1qXS4KCiAgICAgICAgLy8gU2luY2UgQSBhbmQgQiBhcmUgcGVybXV0YXRpb25zIG9mIHBvd2VycyBvZiB0d28sIHRoZSBsYXJnZXN0IGVsZW1lbnRzIGluIEEgYW5kIEIgYXJlIDJee24tMX0uCgogICAgICAgIC8vIFdlIHRyeSB0byBmaW5kIHBhaXJzIHdpdGggbGFyZ2VzdCBlbGVtZW50cy4KCiAgICAgICAgLy8gU2luY2UgdGhlIHZhbHVlcyBhcmUgcG93ZXJzIG9mIHR3bywgdGhlIHN1bSBpcyBkb21pbmF0ZWQgYnkgdGhlIGxhcmdlciBvZiB0aGUgdHdvIHBvd2Vycy4KCiAgICAgICAgLy8gSGVuY2UsIHRoZSBtYXhpbXVtIHN1bSBmb3Igcl9pIGlzIG1heCBvdmVyIGogb2YgQVtqXSArIEJbaS1qXSwgd2hpY2ggaXMgYXQgbW9zdCAyXntuLTF9ICsgMl57bi0xfSA9IDJebi4KCiAgICAgICAgLy8gTGV0J3MgaW1wbGVtZW50IHRoZSBuYWl2ZSBPKG5eMikgYXBwcm9hY2ggYnV0IHdpdGggcHJ1bmluZzoKCiAgICAgICAgLy8gU2luY2UgdGhlIGVsZW1lbnRzIGFyZSBkaXN0aW5jdCwgdGhlIHN1bXMgYXJlIGRpc3RpbmN0LgoKICAgICAgICAvLyBMZXQncyBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBhcHByb2FjaDoKICAgICAgICAvLyBGb3IgZWFjaCB0ZXN0IGNhc2U6CiAgICAgICAgLy8gICBGb3IgZWFjaCBpLCBzaW5jZSBwIGFuZCBxIGFyZSBwZXJtdXRhdGlvbnMsIHRoZSBtYXhpbXVtIHN1bSBpcyBtYXggb3ZlciBqIG9mIEFbal0gKyBCW2ktal0uCiAgICAgICAgLy8gV2UgY2FuIGZpbmQgbWF4aW11bSBieSBjaGVja2luZyBwYWlycyB3aGVyZSBBW2pdIGFuZCBCW2ktal0gYXJlIGxhcmdlLgoKICAgICAgICAvLyBMZXQncyBwcm9jZWVkIHdpdGggYSB0d28gcG9pbnRlciBhcHByb2FjaDoKICAgICAgICAvLyBTb3J0IGluZGljZXMgb2YgQSBpbiBkZXNjZW5kaW5nIG9yZGVyIGJ5IEFbaV0gYW5kIGluZGljZXMgb2YgQiBpbiBkZXNjZW5kaW5nIG9yZGVyIGJ5IEJbaV0uCgogICAgICAgIHZlY3RvcjxwYWlyPGludCxpbnQ+PiBzb3J0ZWRBLCBzb3J0ZWRCOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBzb3J0ZWRBLmVtcGxhY2VfYmFjayhBW2ldLCBpKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgc29ydGVkQi5lbXBsYWNlX2JhY2soQltpXSwgaSk7CiAgICAgICAgc29ydChzb3J0ZWRBLnJiZWdpbigpLCBzb3J0ZWRBLnJlbmQoKSk7CiAgICAgICAgc29ydChzb3J0ZWRCLnJiZWdpbigpLCBzb3J0ZWRCLnJlbmQoKSk7CgogICAgICAgIC8vIEZvciBlYWNoIGksIHdlIHdhbnQgdG8gZmluZCBtYXggQVtqXSArIEJbaS1qXS4KCiAgICAgICAgLy8gV2UgY2FuIGl0ZXJhdGUgb3ZlciB0b3AgSyBsYXJnZXN0IGVsZW1lbnRzIGluIEEgYW5kIEIgYW5kIGNoZWNrIHN1bXMuCiAgICAgICAgLy8gU2luY2Ugc3VtIG9mIG4gaXMgMWU1IGFuZCB0IHVwIHRvIDFlNCwgbGV0J3MgbGltaXQgSyB0byAxMDAuCgogICAgICAgIGludCBLID0gMTAwOwogICAgICAgIGlmIChLID4gbikgSyA9IG47CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGludCBiZXN0ID0gMDsKICAgICAgICAgICAgZm9yIChpbnQgeCA9IDA7IHggPCBLOyB4KyspIHsKICAgICAgICAgICAgICAgIGludCB2YWxBID0gc29ydGVkQVt4XS5maXJzdDsKICAgICAgICAgICAgICAgIGludCBpZHhBID0gc29ydGVkQVt4XS5zZWNvbmQ7CiAgICAgICAgICAgICAgICBpbnQgaiA9IGlkeEE7CiAgICAgICAgICAgICAgICBpbnQgayA9IGkgLSBqOwogICAgICAgICAgICAgICAgaWYgKGsgPCAwIHx8IGsgPj0gbikgY29udGludWU7CiAgICAgICAgICAgICAgICBpbnQgdmFsQiA9IEJba107CiAgICAgICAgICAgICAgICBpbnQgc3VtID0gdmFsQSArIHZhbEI7CiAgICAgICAgICAgICAgICBpZiAoc3VtID4gYmVzdCkgYmVzdCA9IHN1bTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGludCB5ID0gMDsgeSA8IEs7IHkrKykgewogICAgICAgICAgICAgICAgaW50IHZhbEIgPSBzb3J0ZWRCW3ldLmZpcnN0OwogICAgICAgICAgICAgICAgaW50IGlkeEIgPSBzb3J0ZWRCW3ldLnNlY29uZDsKICAgICAgICAgICAgICAgIGludCBrID0gaWR4QjsKICAgICAgICAgICAgICAgIGludCBqID0gaSAtIGs7CiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBuKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGludCB2YWxBID0gQVtqXTsKICAgICAgICAgICAgICAgIGludCBzdW0gPSB2YWxBICsgdmFsQjsKICAgICAgICAgICAgICAgIGlmIChzdW0gPiBiZXN0KSBiZXN0ID0gc3VtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJbaV0gPSBiZXN0ICUgTU9EOwogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY291dCA8PCByW2ldIDw8IChpID09IG4tMSA/ICdcbicgOiAnICcpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
