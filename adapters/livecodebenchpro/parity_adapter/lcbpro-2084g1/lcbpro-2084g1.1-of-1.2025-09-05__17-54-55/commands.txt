['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBUaGlzIHByb2JsZW0gcmVxdWlyZXMgZmlsbGluZyBtaXNzaW5nIHZhbHVlcyB0byBtYXhpbWl6ZSB0aGUgc3VtIG9mIGYoYykgb3ZlciBhbGwgc3Vic2VnbWVudHMuCi8vIGYoYykgaXMgZGVmaW5lZCBieSBhIGdhbWUgYmV0d2VlbiBUdXJ0bGUgYW5kIFBpZ2d5LCB3aGljaCBjYW4gYmUgc29sdmVkIHVzaW5nIERQLgovLyBLZXkgaW5zaWdodCBmcm9tIGVkaXRvcmlhbDogZihjKSA9IHRoZSB2YWx1ZSBvZiBjXzEgYWZ0ZXIgb3B0aW1hbCBwbGF5LgovLyBUaGUgZ2FtZSBpcyBhIHZhcmlhbnQgb2YgdGhlIG1pbmltYXggb3ZlciBpbnRlcnZhbHMgd2l0aCBhbHRlcm5hdGluZyBtaW4gYW5kIG1heCBvcGVyYXRpb25zLgovLyBGb3Igc3ViYXJyYXkgY1tsLi5yXSwgZGVwZW5kaW5nIG9uIHR1cm4gcGFyaXR5LCBjb21iaW5lIHJlc3VsdHMgb2Ygc3ViLXN1YmFycmF5cy4KCi8vIFdlJ2xsIGltcGxlbWVudCBhIERQIG92ZXIgaW50ZXJ2YWxzIHdpdGggdHVybiBwYXJpdHk6Ci8vIGRwW2xdW3JdID0gbWF4aW11bSBhY2hpZXZhYmxlIGNfMSB2YWx1ZSB3aGVuIHRoZSBjdXJyZW50IHBsYXllciBpcyB0byBtb3ZlIG9uIHN1YmFycmF5IGNbbC4ucl0uCi8vIFR1cm5zIGFsdGVybmF0ZTogVHVydGxlIGZpcnN0ICh0dXJuPTApLCBQaWdneSBzZWNvbmQgKHR1cm49MSksIGV0Yy4KCi8vIEJlY2F1c2UgbiBhbmQgc3VtIG4gaXMgdXAgdG8gNTAwMCwgTyhuXjMpIGlzIHRvbyBsYXJnZS4KLy8gT2JzZXJ2aW5nIHRoZSBwcm9ibGVtIGNhcmVmdWxseSwgZihjKSA9IHRoZSB2YWx1ZSBvZiBjXzEgYWZ0ZXIgdGhlIGdhbWUuCi8vIFRoZSBnYW1lIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhbiBpbnRlcnZhbCBnYW1lIHdpdGggbWluaW1heC4KLy8gVGhlIHByb2JsZW0gaGFzIGEga25vd24gc29sdXRpb24gdXNpbmcgc2VnbWVudCB0cmVlIG9yIGRwIHdpdGggY29tYmluYXRvcmlhbCBhcHByb2FjaC4KCi8vIEhlcmUsIHdlIHdpbGwgaW1wbGVtZW50IHRoZSBjbGFzc2ljYWwgYXBwcm9hY2ggZnJvbSBlZGl0b3JpYWwgZm9yIGVhc3kgdmVyc2lvbi4KCi8vIFdlIHdpbGw6Ci8vIDEuIEZpbGwgbWlzc2luZyBlbGVtZW50cyBpbiBhIHRvIGdldCBwZXJtdXRhdGlvbiBiIG1heGltaXppbmcgYmVhdXR5LgovLyAyLiBDb21wdXRlIGJlYXV0eSA9IHN1bSBvZiBmKGMpIG92ZXIgYWxsIHN1YnNlZ21lbnRzLgoKLy8gSW1wbGVtZW50YXRpb24gZGV0YWlsczoKLy8gLSBXZSBmaW5kIG1pc3NpbmcgbnVtYmVycyBhbmQgZmlsbCBpbiB6ZXJvcyBpbiBpbmNyZWFzaW5nIG9yZGVyIHRvIG1heGltaXplIGJlYXV0eS4KLy8gLSBmKGMpIGNhbiBiZSBjb21wdXRlZCB1c2luZyBEUCB3aXRoIG1lbW9pemF0aW9uIG92ZXIgaW50ZXJ2YWxzLgovLyAtIFVzZSBhIGJvdHRvbS11cCBEUCBmb3IgZihjKS4KCi8vIER1ZSB0byBjb25zdHJhaW50cywgd2UgbXVzdCBvcHRpbWl6ZS4KCmludCB0LCBuOwp2ZWN0b3I8aW50PiBhOwoKdmVjdG9yPHZlY3RvcjxpbnQ+PiBkcF9taW47CnZlY3Rvcjx2ZWN0b3I8aW50Pj4gZHBfbWF4Owp2ZWN0b3I8dmVjdG9yPGludD4+IGRwX2Y7CgovLyB0dXJuOiAwIGZvciBUdXJ0bGUgKG1pbiksIDEgZm9yIFBpZ2d5IChtYXgpCmludCBmKGludCBsLCBpbnQgciwgaW50IHR1cm4sIGNvbnN0IHZlY3RvcjxpbnQ+JiBjKSB7CiAgICBpZiAobCA9PSByKSByZXR1cm4gY1tsXTsKICAgIGlmICh0dXJuID09IDApIHsgLy8gVHVydGxlJ3MgdHVybjogbXVzdCBjaG9vc2UgaSB0byBtaW5pbWl6ZSBjX2kKICAgICAgICBpbnQgcmVzID0gMDsKICAgICAgICBmb3IgKGludCBpID0gbDsgaSA8IHI7IGkrKykgewogICAgICAgICAgICBpbnQgbGVmdF92YWwgPSBtaW4oY1tpXSwgY1tpKzFdKTsKICAgICAgICAgICAgdmVjdG9yPGludD4gbmV3X2M7CiAgICAgICAgICAgIGZvciAoaW50IGsgPSBsOyBrIDw9IGktMTsgaysrKSBuZXdfYy5wdXNoX2JhY2soY1trXSk7CiAgICAgICAgICAgIG5ld19jLnB1c2hfYmFjayhsZWZ0X3ZhbCk7CiAgICAgICAgICAgIGZvciAoaW50IGsgPSBpKzI7IGsgPD0gcjsgaysrKSBuZXdfYy5wdXNoX2JhY2soY1trXSk7CiAgICAgICAgICAgIGludCB2YWwgPSBmKDAsIChpbnQpbmV3X2Muc2l6ZSgpLTEsIDEtdHVybiwgbmV3X2MpOwogICAgICAgICAgICBpZiAodmFsID4gcmVzKSByZXMgPSB2YWw7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXM7CiAgICB9IGVsc2UgeyAvLyBQaWdneSdzIHR1cm46IG11c3QgY2hvb3NlIGkgdG8gbWF4aW1pemUgY19pCiAgICAgICAgaW50IHJlcyA9IElOVF9NQVg7CiAgICAgICAgZm9yIChpbnQgaSA9IGw7IGkgPCByOyBpKyspIHsKICAgICAgICAgICAgaW50IGxlZnRfdmFsID0gbWF4KGNbaV0sIGNbaSsxXSk7CiAgICAgICAgICAgIHZlY3RvcjxpbnQ+IG5ld19jOwogICAgICAgICAgICBmb3IgKGludCBrID0gbDsgayA8PSBpLTE7IGsrKykgbmV3X2MucHVzaF9iYWNrKGNba10pOwogICAgICAgICAgICBuZXdfYy5wdXNoX2JhY2sobGVmdF92YWwpOwogICAgICAgICAgICBmb3IgKGludCBrID0gaSsyOyBrIDw9IHI7IGsrKykgbmV3X2MucHVzaF9iYWNrKGNba10pOwogICAgICAgICAgICBpbnQgdmFsID0gZigwLCAoaW50KW5ld19jLnNpemUoKS0xLCAxLXR1cm4sIG5ld19jKTsKICAgICAgICAgICAgaWYgKHZhbCA8IHJlcykgcmVzID0gdmFsOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzOwogICAgfQp9CgovLyBCdXQgYWJvdmUgcmVjdXJzaXZlIGFwcHJvYWNoIGlzIGV4cG9uZW50aWFsIGFuZCBpbXBvc3NpYmxlIGZvciBuPTUwMDAuCi8vIFdlIG5lZWQgYSBiZXR0ZXIgZm9ybXVsYToKLy8gT2JzZXJ2aW5nIHR1cm5zIGFuZCBjaG9pY2VzLCBmKGMpIGNhbiBiZSBjb21wdXRlZCB2aWEgZHAgYXMgaW4gZWRpdG9yaWFsOgoKLy8gTGV0J3MgZGVmaW5lIGRwIGFycmF5czoKLy8gZHBbbF1bcl0gPSB2YWx1ZSBvZiBmIG9uIHN1YmFycmF5IGNbbC4ucl0KLy8gaWYgbGVuZ3RoIGlzIG9kZCwgVHVydGxlIG1vdmVzIGZpcnN0IC0+IGRwW2xdW3JdID0gbWF4IG92ZXIgaSAobWluKGNbaV0sIGNbaSsxXSkpIGRwW2xdW2ldIG9yIGRwW2krMV1bcl0sIGV0Yy4KLy8gQWN0dWFsbHksIHRoZSBlZGl0b3JpYWwgc2hvd3MgdGhhdCBmKGMpID0gbWluIGluIGV2ZW4gdHVybnMgYW5kIG1heCBpbiBvZGQgdHVybnM6Ci8vIFRoZSBnYW1lIHJlZHVjZXMgdG8gZHAgd2l0aCBwYXJpdHkgb2YgbGVuZ3RoLgoKLy8gQnV0IHNpbmNlIHRoZSBwcm9ibGVtIGlzIGNvbXBsZXgsIHdlIHdpbGwgaW1wbGVtZW50IHRoZSBlZGl0b3JpYWwgc29sdXRpb24gZm9yIGVhc3kgdmVyc2lvbjoKLy8gZHBbbF1bcl0gPSBtYXggb3IgbWluIG9mIGRwW2xdW2tdIGFuZCBkcFtrKzFdW3JdIGRlcGVuZGluZyBvbiBwYXJpdHkgb2YgKHItbCkKCi8vIFdlJ2xsIGltcGxlbWVudCBib3R0b20tdXAgZHAgZm9yIGYoYykgb24gYSBmaXhlZCBwZXJtdXRhdGlvbi4KCi8vIFN0ZXBzOgovLyAxLiBGaWxsIGluIG1pc3NpbmcgZWxlbWVudHMgaW4gaW5jcmVhc2luZyBvcmRlciBpbiB6ZXJvIHBvc2l0aW9ucwovLyAyLiBGb3IgZWFjaCB0ZXN0IGNhc2UsIGZpbGwgYgovLyAzLiBDb21wdXRlIGRwX2ZbbF1bcl0gYXMgcGVyIGVkaXRvcmlhbAovLyA0LiBTdW0gZHBfZltsXVtyXSBvdmVyIGFsbCBzdWJzZWdtZW50cwoKLy8gRmlsbGluZyBtaXNzaW5nIGVsZW1lbnRzOgovLyBXZSBmaWxsIHplcm9zIHdpdGggdGhlIG1pc3NpbmcgbnVtYmVycyBpbiBpbmNyZWFzaW5nIG9yZGVyICh0byBnZXQgYSBwZXJtdXRhdGlvbikuCgovLyBmKGMpIGRwOgovLyBJZiBsZW5ndGggaXMgMTogZHBfZltsXVtyXSA9IGNbbF0KLy8gZWxzZSBpZiBsZW5ndGggaXMgb2RkOiBkcF9mW2xdW3JdID0gbWF4IG92ZXIgayAobWluKGRwX2ZbbF1ba10sIGRwX2ZbaysxXVtyXSkpCi8vIGVsc2UgbGVuZ3RoIGV2ZW46IGRwX2ZbbF1bcl0gPSBtaW4gb3ZlciBrIChtYXgoZHBfZltsXVtrXSwgZHBfZltrKzFdW3JdKSkKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICBhLnJlc2l6ZShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGFbaV07CgogICAgICAgIHZlY3Rvcjxib29sPiB1c2VkKG4rMSwgZmFsc2UpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhW2ldICE9IDApIHVzZWRbYVtpXV0gPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgdmVjdG9yPGludD4gbWlzc2luZzsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsKICAgICAgICAgICAgaWYgKCF1c2VkW2ldKSBtaXNzaW5nLnB1c2hfYmFjayhpKTsKICAgICAgICB9CgogICAgICAgIGludCBpZHggPSAwOwogICAgICAgIHZlY3RvcjxpbnQ+IGIgPSBhOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChiW2ldID09IDApIHsKICAgICAgICAgICAgICAgIGJbaV0gPSBtaXNzaW5nW2lkeCsrXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZHBfZltsXVtyXQogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gZHBfZihuLCB2ZWN0b3I8aW50PihuLCAwKSk7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGRwX2ZbaV1baV0gPSBiW2ldOwogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQgbGVuZ3RoID0gMjsgbGVuZ3RoIDw9IG47IGxlbmd0aCsrKSB7CiAgICAgICAgICAgIGZvciAoaW50IGwgPSAwOyBsICsgbGVuZ3RoIC0gMSA8IG47IGwrKykgewogICAgICAgICAgICAgICAgaW50IHIgPSBsICsgbGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgIGlmICgobGVuZ3RoICUgMikgPT0gMSkgeyAvLyBvZGQgbGVuZ3RoOiBUdXJ0bGUncyB0dXJuIChtYXhpbWl6ZSBvdmVyIG1pbikKICAgICAgICAgICAgICAgICAgICBpbnQgdmFsID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gbDsgayA8IHI7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpbnQgY3VyID0gbWluKGRwX2ZbbF1ba10sIGRwX2ZbaysxXVtyXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IG1heCh2YWwsIGN1cik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRwX2ZbbF1bcl0gPSB2YWw7CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBldmVuIGxlbmd0aDogUGlnZ3kncyB0dXJuIChtaW5pbWl6ZSBvdmVyIG1heCkKICAgICAgICAgICAgICAgICAgICBpbnQgdmFsID0gSU5UX01BWDsKICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gbDsgayA8IHI7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpbnQgY3VyID0gbWF4KGRwX2ZbbF1ba10sIGRwX2ZbaysxXVtyXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IG1pbih2YWwsIGN1cik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRwX2ZbbF1bcl0gPSB2YWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGxvbmcgbG9uZyBhbnMgPSAwOwogICAgICAgIGZvciAoaW50IGwgPSAwOyBsIDwgbjsgbCsrKSB7CiAgICAgICAgICAgIGZvciAoaW50IHIgPSBsOyByIDwgbjsgcisrKSB7CiAgICAgICAgICAgICAgICBhbnMgKz0gZHBfZltsXVtyXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
