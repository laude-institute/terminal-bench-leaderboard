[?2004hroot@e02caab6b5ad:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@e02caab6b5ad:/app# clear
[?2004l[H[J[3J[?2004hroot@e02caab6b5ad:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IG4sIHE7CiAgICBjaW4gPj4gbiA+PiBxOwoKICAgIHVub3JkZXJlZF9tYXA8aW50LGludD4gZnJlcTsKICAgIGludCBtYXhfZnJlcSA9IDA7CgogICAgYXV0byBhZGQgPSBbJl0oaW50IHgpIHsKICAgICAgICBmcmVxW3hdKys7CiAgICAgICAgaWYoZnJlcVt4XSA+IG1heF9mcmVxKSBtYXhfZnJlcSA9IGZyZXFbeF07CiAgICB9OwoKICAgIGF1dG8gcmVtb3ZlID0gWyZdKGludCB4KSB7CiAgICAgICAgZnJlcVt4XS0tOwogICAgICAgIGlmKGZyZXFbeF0gPT0gMCkgZnJlcS5lcmFzZSh4KTsKICAgICAgICBpZihtYXhfZnJlcSA+IDApIHsKICAgICAgICAgICAgLy8gcmVjb21wdXRlIG1heF9mcmVxIGlmIG5lZWRlZAogICAgICAgICAgICAvLyBvbmx5IHJlY29tcHV0ZSBpZiBmcmVxW3hdKzEgd2FzIG1heF9mcmVxCiAgICAgICAgICAgIC8vIGJ1dCB0byBrZWVwIGl0IHNpbXBsZSwgcmVjb21wdXRlIGFsd2F5cwogICAgICAgICAgICBtYXhfZnJlcSA9IDA7CiAgICAgICAgICAgIGZvcihhdXRvICZwIDogZnJlcSkgewogICAgICAgICAgICAgICAgaWYocC5zZWNvbmQgPiBtYXhfZnJlcSkgbWF4X2ZyZXEgPSBwLnNlY29uZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgdmVjdG9yPGludD4gYmFycmVscyhuKTsKICAgIGZvcihpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICBjaW4gPj4gYmFycmVsc1tpXTsKICAgICAgICBhZGQoYmFycmVsc1tpXSk7CiAgICB9CgogICAgLy8gVGhlIGxvZ2ljIGlzOgogICAgLy8gSXQgaXMgcG9zc2libGUgdG8gaWRlbnRpZnkgdGhlIHBvaXNvbm91cyBiYXJyZWwgaWYgYW5kIG9ubHkgaWYKICAgIC8vIHRoZXJlIGV4aXN0cyBhIGJhcnJlbCB3aXRoIHVuaXF1ZSB3ZWlnaHQgKG1heCBmcmVxdWVuY3kgPT0gMSkgb3IKICAgIC8vIHRoZSBudW1iZXIgb2YgYmFycmVscyBpcyAxLgogICAgLy8gUmVhc29uaW5nOgogICAgLy8gSWYgYWxsIGJhcnJlbHMgaGF2ZSB0aGUgc2FtZSB3ZWlnaHQsIHRoZW4geW91IGNhbm5vdCBkaXN0aW5ndWlzaCB0aGUgcG9pc29ub3VzIG9uZSwKICAgIC8vIGJlY2F1c2UgY29tcGFyaW5nIGFueSB0d28geWllbGRzIGVxdWFsIHdlaWdodC4KICAgIC8vIElmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBiYXJyZWwgd2l0aCB1bmlxdWUgd2VpZ2h0LCB5b3UgY2FuIGlkZW50aWZ5IGl0IGJ5IGNvbXBhcmlzb24uCgogICAgYXV0byBjYW5faWRlbnRpZnkgPSBbJl0oKSAtPiBib29sIHsKICAgICAgICByZXR1cm4gKGludClmcmVxLnNpemUoKSA9PSAxICYmIG1heF9mcmVxID4gMSA/IGZhbHNlIDogdHJ1ZTsKICAgIH07CgogICAgLy8gb3V0cHV0IGluaXRpYWwKICAgIGNvdXQgPDwgKGNhbl9pZGVudGlmeSgpID8gIlllcyIgOiAiTm8iKSA8PCAiXG4iOwoKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcTsgaSsrKSB7CiAgICAgICAgc3RyaW5nIG9wOwogICAgICAgIGludCB4OwogICAgICAgIGNpbiA+PiBvcCA+PiB4OwogICAgICAgIGlmKG9wID09ICIrIikgewogICAgICAgICAgICBhZGQoeCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVtb3ZlKHgpOwogICAgICAgIH0KICAgICAgICBjb3V0IDw8IChjYW5faWRlbnRpZnkoKSA/ICJZZXMiIDogIk5vIikgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@e02caab6b5ad:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@e02caab6b5ad:/app# 