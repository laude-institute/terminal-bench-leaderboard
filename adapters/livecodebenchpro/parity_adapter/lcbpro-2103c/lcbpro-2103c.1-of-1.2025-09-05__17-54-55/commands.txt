['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47IGxvbmcgbG9uZyBrOwogICAgICAgIGNpbiA+PiBuID4+IGs7CiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGFbaV07CgogICAgICAgIC8vIFdlIHdhbnQgdG8gY2hlY2sgaWYgdGhlcmUgZXhpc3RzIDEgPD0gbCA8IHIgPCBuIHN1Y2ggdGhhdAogICAgICAgIC8vIG1lZGlhbiBvZiAobWVkaWFuKGFbMC4ubC0xXSksIG1lZGlhbihhW2wuLnItMV0pLCBtZWRpYW4oYVtyLi5uLTFdKSkgPD0gawoKICAgICAgICAvLyBLZXkgb2JzZXJ2YXRpb246CiAgICAgICAgLy8gVGhlIG1lZGlhbiBvZiBtZWRpYW5zIGlzIHRoZSBtaWRkbGUgYW1vbmcgdGhlIHRocmVlIG1lZGlhbnMuCiAgICAgICAgLy8gU28gdGhlIG1lZGlhbiBvZiBtZWRpYW5zIDw9IGsgbWVhbnMgYXQgbGVhc3QgdHdvIG9mIHRoZSB0aHJlZSBtZWRpYW5zIGFyZSA8PSBrLgoKICAgICAgICAvLyBTaW5jZSBtZWRpYW4gaXMgdGhlIGNlaWwobS8yKS10aCBzbWFsbGVzdCBlbGVtZW50LCBmb3IgYW55IHN1YmFycmF5LAogICAgICAgIC8vIG1lZGlhbiA8PSBrIG1lYW5zIHRoYXQgYXQgbGVhc3QgaGFsZiB0aGUgZWxlbWVudHMgKHJvdW5kZWQgdXApIGluIHRoYXQgc3ViYXJyYXkgYXJlIDw9IGsuCgogICAgICAgIC8vIFdlIGRvIG5vdCBuZWVkIHRvIGZpbmQgZXhhY3QgbWVkaWFucywganVzdCB3aGV0aGVyIG1lZGlhbiA8PSBrLgoKICAgICAgICAvLyBUbyBjaGVjayBpZiBtZWRpYW4gPD0gayBpbiBhIHN1YmFycmF5IFtMLFJdOiBudW1iZXIgb2YgZWxlbWVudHMgPD0gayBpbiBbTCxSXSA+PSBjZWlsKChSLUwrMSkvMikKCiAgICAgICAgLy8gV2UgY2FuIHByZWNvbXB1dGUgcHJlZml4IGNvdW50cyBvZiBlbGVtZW50cyA8PSBrLgoKICAgICAgICB2ZWN0b3I8aW50PiBwcmVmKG4rMSwgMCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcHJlZltpKzFdID0gcHJlZltpXSArIChhW2ldIDw9IGsgPyAxIDogMCk7CiAgICAgICAgfQoKICAgICAgICBib29sIGZvdW5kID0gZmFsc2U7CiAgICAgICAgLy8gV2UgdHJ5IGFsbCBwYWlycyAobCwgcikgd2l0aCAxIDw9IGwgPCByIDwgbgogICAgICAgIC8vIEJ1dCBPKG5eMikgaXMgdG9vIHNsb3cuCgogICAgICAgIC8vIE9wdGltaXphdGlvbjogV2UgY2FuIHRyeSBhbGwgciBmcm9tIDIgdG8gbi0xCiAgICAgICAgLy8gRm9yIGVhY2ggciwgY2hlY2sgaWYgdGhlcmUgZXhpc3RzIGwgKDEgPD0gbCA8IHIpIHRoYXQgc2F0aXNmaWVzIGNvbmRpdGlvbi4KCiAgICAgICAgLy8gQnV0IHN0aWxsIE8obl4yKS4gTmVlZCBiZXR0ZXIgYXBwcm9hY2guCgogICAgICAgIC8vIEFub3RoZXIgaW5zaWdodCBmcm9tIGVkaXRvcmlhbCBvciB0eXBpY2FsIGFwcHJvYWNoOgogICAgICAgIC8vIEl0J3Mgc3VmZmljaWVudCB0byBjaGVjayBpZiB0aGVyZSBleGlzdHMgYW4gaW5kZXggaSAoMSA8IGkgPCBuKSBzdWNoIHRoYXQgYVtpXSA8PSBrCiAgICAgICAgLy8gYW5kIGVpdGhlciBhWzBdIDw9IGsgb3IgYVtuLTFdIDw9IGsuCgogICAgICAgIC8vIFdoeT8gQmVjYXVzZSBpZiB3ZSBjYW4gc3BsaXQgdGhlIGFycmF5IGludG8gdGhyZWUgcGFydHMgd2hlcmUgdGhlIG1lZGlhbiBvZiBtZWRpYW5zIDw9IGssCiAgICAgICAgLy8gYXQgbGVhc3QgdHdvIG1lZGlhbnMgbXVzdCBiZSA8PSBrLgoKICAgICAgICAvLyBTbyBjaGVjayBpZiB0aGVyZSBleGlzdHMgaSBpbiBbMSwgbi0yXSB3aXRoIGFbaV0gPD0gayBhbmQgKGFbMF0gPD0gayBvciBhW24tMV0gPD0gaykKCiAgICAgICAgaWYgKGFbMF0gPD0gayAmJiBhW24tMV0gPD0gaykgewogICAgICAgICAgICAvLyBJZiBib3RoIGVuZHMgPD0gaywgYW5zd2VyIGlzIFlFUwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBuIC0gMTsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoYVtpXSA8PSBrICYmIChhWzBdIDw9IGsgfHwgYVtuLTFdIDw9IGspKSB7CiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBIYW5kbGUgdGhlIHNwZWNpYWwgY2FzZSBuPTM6CiAgICAgICAgLy8gSWYgbj0zLCB0aGVuIG9ubHkgb25lIHdheSB0byBzcGxpdDogbD0xLCByPTIKICAgICAgICAvLyBTbyBtZWRpYW4gbWVkaWFucyA9IG1lZGlhbihtZWQoYVswXSksIG1lZChhWzFdKSwgbWVkKGFbMl0pKSA9IG1lZGlhbihhWzBdLCBhWzFdLCBhWzJdKQogICAgICAgIC8vIFNvIGNoZWNrIG1lZGlhbiBvZiBhbGwgdGhyZWUgZWxlbWVudHMgPD0gawogICAgICAgIGlmIChuID09IDMgJiYgIWZvdW5kKSB7CiAgICAgICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IHRlbXAgPSB7YVswXSwgYVsxXSwgYVsyXX07CiAgICAgICAgICAgIHNvcnQodGVtcC5iZWdpbigpLCB0ZW1wLmVuZCgpKTsKICAgICAgICAgICAgaWYgKHRlbXBbMV0gPD0gaykgZm91bmQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCAoZm91bmQgPyAiWUVTIiA6ICJOTyIpIDw8ICJcbiI7CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
