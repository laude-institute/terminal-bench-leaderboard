['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBHaXZlbiB0aGUgcHJvYmxlbSBjb25zdHJhaW50cyBhbmQgdGhlIGZpbGxpbmcgb3JkZXI6Ci8vIEZvciBhIHRhYmxlIHNpemUgMl5uIHggMl5uOgovLyBUaGUgdGFibGUgaXMgZGl2aWRlZCBpbnRvIDQgcXVhZHJhbnRzIG9mIHNpemUgMl4obi0xKSB4IDJeKG4tMSkKLy8gT3JkZXIgb2YgZmlsbGluZyBxdWFkcmFudHM6Ci8vIDEpIHRvcC1sZWZ0Ci8vIDIpIGJvdHRvbS1yaWdodAovLyAzKSBib3R0b20tbGVmdAovLyA0KSB0b3AtcmlnaHQKLy8gQmFzZSBjYXNlIGZvciAyeDIgaXMgZ2l2ZW4gZXhwbGljaXRseS4KCi8vIFdlJ2xsIGltcGxlbWVudCB0d28gZnVuY3Rpb25zOgovLyAtIG51bWJlckF0KHgsIHksIG4sIHN0YXJ0KTogcmV0dXJucyB0aGUgbnVtYmVyIGF0IGNlbGwgKHgseSkgaW4gdGhlIHRhYmxlIG9mIHNpemUgMl5uLCBzdGFydGluZyBudW1iZXJpbmcgZnJvbSBzdGFydAovLyAtIHBvc2l0aW9uT2YoZCwgbiwgc3RhcnQsIHgwLCB5MCk6IHJldHVybnMgdGhlIHBvc2l0aW9uICh4LHkpIG9mIG51bWJlciBkIGluIHRhYmxlIDJebiBzdGFydGluZyBhdCBiYXNlIG51bWJlciBzdGFydCBhbmQgdG9wLWxlZnQgY29ybmVyIGF0ICh4MCx5MCkKCi8vIFRvIGhhbmRsZSBpbmRleGluZyBlYXNpbHksIHdlJ2xsIHVzZSAxLWJhc2VkIGluZGV4aW5nIGZvciByb3dzIGFuZCBjb2x1bW5zLgoKdWludDY0X3QgbnVtYmVyQXQodWludDY0X3QgeCwgdWludDY0X3QgeSwgaW50IG4sIHVpbnQ2NF90IHN0YXJ0KSB7CiAgICBpZiAobiA9PSAxKSB7CiAgICAgICAgLy8gQmFzZSAyeDIgdGFibGUKICAgICAgICAvLyBQb3NpdGlvbnM6CiAgICAgICAgLy8gKDEsMSkgPSBzdGFydCArIDAKICAgICAgICAvLyAoMiwyKSA9IHN0YXJ0ICsgMQogICAgICAgIC8vICgyLDEpID0gc3RhcnQgKyAyCiAgICAgICAgLy8gKDEsMikgPSBzdGFydCArIDMKICAgICAgICBpZiAoeCA9PSAxICYmIHkgPT0gMSkgcmV0dXJuIHN0YXJ0ICsgMDsKICAgICAgICBpZiAoeCA9PSAyICYmIHkgPT0gMikgcmV0dXJuIHN0YXJ0ICsgMTsKICAgICAgICBpZiAoeCA9PSAyICYmIHkgPT0gMSkgcmV0dXJuIHN0YXJ0ICsgMjsKICAgICAgICBpZiAoeCA9PSAxICYmIHkgPT0gMikgcmV0dXJuIHN0YXJ0ICsgMzsKICAgIH0KICAgIHVpbnQ2NF90IGhhbGYgPSAxVUxMIDw8IChuIC0gMSk7IC8vIHNpemUgb2YgcXVhZHJhbnQKICAgIHVpbnQ2NF90IHF1YWRyYW50U2l6ZSA9IGhhbGYgKiBoYWxmOwogICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHF1YWRyYW50ICh4LHkpIGJlbG9uZ3MgdG8KICAgIGlmICh4IDw9IGhhbGYgJiYgeSA8PSBoYWxmKSB7CiAgICAgICAgLy8gdG9wLWxlZnQKICAgICAgICByZXR1cm4gbnVtYmVyQXQoeCwgeSwgbiAtIDEsIHN0YXJ0KTsKICAgIH0gZWxzZSBpZiAoeCA+IGhhbGYgJiYgeSA+IGhhbGYpIHsKICAgICAgICAvLyBib3R0b20tcmlnaHQKICAgICAgICByZXR1cm4gbnVtYmVyQXQoeCAtIGhhbGYsIHkgLSBoYWxmLCBuIC0gMSwgc3RhcnQgKyBxdWFkcmFudFNpemUpOwogICAgfSBlbHNlIGlmICh4ID4gaGFsZiAmJiB5IDw9IGhhbGYpIHsKICAgICAgICAvLyBib3R0b20tbGVmdAogICAgICAgIHJldHVybiBudW1iZXJBdCh4IC0gaGFsZiwgeSwgbiAtIDEsIHN0YXJ0ICsgMiAqIHF1YWRyYW50U2l6ZSk7CiAgICB9IGVsc2UgeyAvLyB4IDw9IGhhbGYgJiYgeSA+IGhhbGYKICAgICAgICAvLyB0b3AtcmlnaHQKICAgICAgICByZXR1cm4gbnVtYmVyQXQoeCwgeSAtIGhhbGYsIG4gLSAxLCBzdGFydCArIDMgKiBxdWFkcmFudFNpemUpOwogICAgfQogICAgLy8gU2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUKICAgIHJldHVybiAwOwp9CgpwYWlyPHVpbnQ2NF90LHVpbnQ2NF90PiBwb3NpdGlvbk9mKHVpbnQ2NF90IGQsIGludCBuLCB1aW50NjRfdCBzdGFydCwgdWludDY0X3QgeDAsIHVpbnQ2NF90IHkwKSB7CiAgICBpZiAobiA9PSAxKSB7CiAgICAgICAgLy8gQmFzZSAyeDIgdGFibGUKICAgICAgICAvLyBOdW1iZXJzIGFuZCBwb3NpdGlvbnM6CiAgICAgICAgLy8gc3RhcnQgKyAwIC0+ICgxLDEpCiAgICAgICAgLy8gc3RhcnQgKyAxIC0+ICgyLDIpCiAgICAgICAgLy8gc3RhcnQgKyAyIC0+ICgyLDEpCiAgICAgICAgLy8gc3RhcnQgKyAzIC0+ICgxLDIpCiAgICAgICAgdWludDY0X3Qgb2Zmc2V0ID0gZCAtIHN0YXJ0OwogICAgICAgIGlmIChvZmZzZXQgPT0gMCkgcmV0dXJuIHt4MCArIDAsIHkwICsgMH07CiAgICAgICAgaWYgKG9mZnNldCA9PSAxKSByZXR1cm4ge3gwICsgMSwgeTAgKyAxfTsKICAgICAgICBpZiAob2Zmc2V0ID09IDIpIHJldHVybiB7eDAgKyAxLCB5MCArIDB9OwogICAgICAgIGlmIChvZmZzZXQgPT0gMykgcmV0dXJuIHt4MCArIDAsIHkwICsgMX07CiAgICB9CiAgICB1aW50NjRfdCBoYWxmID0gMVVMTCA8PCAobiAtIDEpOwogICAgdWludDY0X3QgcXVhZHJhbnRTaXplID0gaGFsZiAqIGhhbGY7CiAgICAvLyBEZXRlcm1pbmUgcXVhZHJhbnQgb2YgZAogICAgaWYgKGQgPCBzdGFydCArIHF1YWRyYW50U2l6ZSkgewogICAgICAgIC8vIHRvcC1sZWZ0CiAgICAgICAgcmV0dXJuIHBvc2l0aW9uT2YoZCwgbiAtIDEsIHN0YXJ0LCB4MCwgeTApOwogICAgfSBlbHNlIGlmIChkIDwgc3RhcnQgKyAyICogcXVhZHJhbnRTaXplKSB7CiAgICAgICAgLy8gYm90dG9tLXJpZ2h0CiAgICAgICAgcmV0dXJuIHBvc2l0aW9uT2YoZCwgbiAtIDEsIHN0YXJ0ICsgcXVhZHJhbnRTaXplLCB4MCArIGhhbGYsIHkwICsgaGFsZik7CiAgICB9IGVsc2UgaWYgKGQgPCBzdGFydCArIDMgKiBxdWFkcmFudFNpemUpIHsKICAgICAgICAvLyBib3R0b20tbGVmdAogICAgICAgIHJldHVybiBwb3NpdGlvbk9mKGQsIG4gLSAxLCBzdGFydCArIDIgKiBxdWFkcmFudFNpemUsIHgwICsgaGFsZiwgeTApOwogICAgfSBlbHNlIHsKICAgICAgICAvLyB0b3AtcmlnaHQKICAgICAgICByZXR1cm4gcG9zaXRpb25PZihkLCBuIC0gMSwgc3RhcnQgKyAzICogcXVhZHJhbnRTaXplLCB4MCwgeTAgKyBoYWxmKTsKICAgIH0KfQoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwoKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsgY2luID4+IG47CiAgICAgICAgaW50IHE7IGNpbiA+PiBxOwogICAgICAgIHVpbnQ2NF90IHNpemUgPSAxVUxMIDw8IG47CiAgICAgICAgLy8gRm9yIGVhY2ggcXVlcnkKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHE7IGkrKykgewogICAgICAgICAgICBzdHJpbmcgZGlyOwogICAgICAgICAgICBjaW4gPj4gZGlyOwogICAgICAgICAgICBpZiAoZGlyID09ICItPiIpIHsKICAgICAgICAgICAgICAgIHVpbnQ2NF90IHgsIHk7CiAgICAgICAgICAgICAgICBjaW4gPj4geCA+PiB5OwogICAgICAgICAgICAgICAgdWludDY0X3QgYW5zID0gbnVtYmVyQXQoeCwgeSwgbiwgMVVMTCk7CiAgICAgICAgICAgICAgICBjb3V0IDw8IGFucyA8PCAiXG4iOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRpciA9PSAiPC0iKSB7CiAgICAgICAgICAgICAgICB1aW50NjRfdCBkOwogICAgICAgICAgICAgICAgY2luID4+IGQ7CiAgICAgICAgICAgICAgICBhdXRvIHBvcyA9IHBvc2l0aW9uT2YoZCwgbiwgMVVMTCwgMVVMTCwgMVVMTCk7CiAgICAgICAgICAgICAgICBjb3V0IDw8IHBvcy5maXJzdCA8PCAiICIgPDwgcG9zLnNlY29uZCA8PCAiXG4iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['g++ -std=c++17 -O2 -o /app/main /app/main.cpp', 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
