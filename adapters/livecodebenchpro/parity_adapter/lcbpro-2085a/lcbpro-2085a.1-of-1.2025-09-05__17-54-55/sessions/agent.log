[?2004hroot@a3e43bb3eaf8:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@a3e43bb3eaf8:/app# clear
[?2004l[H[J[3J[?2004hroot@a3e43bb3eaf8:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlKHQtLSkgewogICAgICAgIGludCBuLCBrOwogICAgICAgIGNpbiA+PiBuID4+IGs7CiAgICAgICAgc3RyaW5nIHM7CiAgICAgICAgY2luID4+IHM7CgogICAgICAgIHN0cmluZyByZXYgPSBzOwogICAgICAgIHJldmVyc2UocmV2LmJlZ2luKCksIHJldi5lbmQoKSk7CgogICAgICAgIC8vIENoZWNrIGlmIHMgaXMgYWxyZWFkeSB1bml2ZXJzYWwKICAgICAgICBpZiAocyA8IHJldikgewogICAgICAgICAgICBjb3V0IDw8ICJZRVNcbiI7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ291bnQgbWlzbWF0Y2hlcyBiZXR3ZWVuIHMgYW5kIHJldgogICAgICAgIGludCBkaWZmID0gMDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBpZiAoc1tpXSAhPSByZXZbaV0pIGRpZmYrKzsKICAgICAgICB9CgogICAgICAgIC8vIEVhY2ggc3dhcCBjYW4gZml4IGF0IG1vc3QgdHdvIG1pc21hdGNoZXMKICAgICAgICBpbnQgc3dhcHNfbmVlZGVkID0gZGlmZiAvIDI7CgogICAgICAgIC8vIFNwZWNpYWwgY2FzZTogaWYgbm8gc3dhcHMgYWxsb3dlZCBhbmQgcyA9PSByZXYsIGNhbm5vdCBtYWtlIHMgdW5pdmVyc2FsCiAgICAgICAgaWYgKGsgPT0gMCkgewogICAgICAgICAgICBpZiAocyA8IHJldikgY291dCA8PCAiWUVTXG4iOwogICAgICAgICAgICBlbHNlIGNvdXQgPDwgIk5PXG4iOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8vIElmIG51bWJlciBvZiBhbGxvd2VkIHN3YXBzID49IHN3YXBzX25lZWRlZCBhbmQgcyAhPSByZXYgb3Igc3dhcHNfbmVlZGVkID4gMAogICAgICAgIC8vIFRoZW4gcG9zc2libGUKICAgICAgICAvLyBBbHNvLCBpZiBzID09IHJldiBhbmQgayA9PSAxIGFuZCBuIGlzIG9kZCwgY2FuIG1ha2UgdW5pdmVyc2FsIGJ5IHN3YXBwaW5nIG1pZGRsZSBjaGFyYWN0ZXIgd2l0aCBpdHNlbGYgKG5vIGVmZmVjdCksIG5vIGNoYW5nZSwgc28gTk8KICAgICAgICAvLyBCdXQgcHJvYmxlbSBzdGF0ZXMgeW91IGNhbiBzd2FwIHNhbWUgaW5kZXggKGRvIG5vdGhpbmcpLCBzbyBubyBlZmZlY3QKICAgICAgICAvLyBTbyBpZiBzID09IHJldiwgayA+PTEsIG9ubHkgaWYgcyA8IHJldiAoYWxyZWFkeSBjaGVja2VkKSwgZWxzZSBOTwoKICAgICAgICBpZiAoayA+PSBzd2Fwc19uZWVkZWQpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcyA9PSByZXYgYW5kIHMgbm90IGxlc3MgdGhhbiByZXYKICAgICAgICAgICAgaWYgKHMgPT0gcmV2KSB7CiAgICAgICAgICAgICAgICAvLyBzID09IHJldiBtZWFucyBzIGlzIHBhbGluZHJvbWUKICAgICAgICAgICAgICAgIC8vIEZvciBwYWxpbmRyb21lLCBzIGlzIHVuaXZlcnNhbCBvbmx5IGlmIHMgPCByZXYsIGJ1dCBzID09IHJldgogICAgICAgICAgICAgICAgLy8gU28gTk8KICAgICAgICAgICAgICAgIGNvdXQgPDwgIk5PXG4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY291dCA8PCAiWUVTXG4iOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY291dCA8PCAiTk9cbiI7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@a3e43bb3eaf8:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@a3e43bb3eaf8:/app# 