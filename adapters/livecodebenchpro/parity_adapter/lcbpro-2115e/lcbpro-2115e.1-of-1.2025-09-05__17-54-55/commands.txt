['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgp1c2luZyBsbCA9IGxvbmcgbG9uZzsKCnN0cnVjdCBFZGdlIHsKICAgIGludCB0bzsKfTsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgbiwgbTsKICAgIGNpbiA+PiBuID4+IG07CgogICAgdmVjdG9yPGludD4gYyhuKzEpLCB3KG4rMSk7CiAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsKICAgICAgICBjaW4gPj4gY1tpXSA+PiB3W2ldOwogICAgfQoKICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gYWRqKG4rMSk7CiAgICB2ZWN0b3I8aW50PiBpbmRlZyhuKzEsIDApOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtOyArK2kpIHsKICAgICAgICBpbnQgdSwgdjsKICAgICAgICBjaW4gPj4gdSA+PiB2OwogICAgICAgIGFkalt1XS5wdXNoX2JhY2sodik7CiAgICAgICAgaW5kZWdbdl0rKzsKICAgIH0KCiAgICAvLyBUb3BvbG9naWNhbCBvcmRlcgogICAgcXVldWU8aW50PiBxOwogICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgKytpKSB7CiAgICAgICAgaWYgKGluZGVnW2ldID09IDApIHEucHVzaChpKTsKICAgIH0KCiAgICB2ZWN0b3I8aW50PiB0b3BvOwogICAgd2hpbGUgKCFxLmVtcHR5KCkpIHsKICAgICAgICBpbnQgdSA9IHEuZnJvbnQoKTsgcS5wb3AoKTsKICAgICAgICB0b3BvLnB1c2hfYmFjayh1KTsKICAgICAgICBmb3IgKGludCB2IDogYWRqW3VdKSB7CiAgICAgICAgICAgIGluZGVnW3ZdLS07CiAgICAgICAgICAgIGlmIChpbmRlZ1t2XSA9PSAwKSBxLnB1c2godik7CiAgICAgICAgfQogICAgfQoKICAgIC8vIGRwW3ZdW2NvaW5zXSA9IG1heCBwb3dlciBzdW0gZm9yIHJlYWNoaW5nIHYgd2l0aCBjb2lucyBtb25leSBzcGVudCBhdCB2CiAgICAvLyBCdXQgciBjYW4gYmUgdXAgdG8gMWU5LCBzbyB3ZSBjYW4ndCBkcCBvbiBjb2lucyBkaXJlY3RseS4KICAgIC8vIFdlIHdpbGwgZG8gZHAgb24gbm9kZXMgd2l0aCBhIHZlY3RvciBkcFt2XSBvZiBtYXggcG93ZXIgZm9yIGNvaW5zIHNwZW50IGF0IHYgKDAuLm1heF9jLTEpLgogICAgLy8gbWF4X2MgPSBtYXggY19pID0gbWF4IGNvc3QgcGVyIGNhcmQgPSAyMDAKICAgIC8vIEJlY2F1c2Ugd2UgY2FuIGJ1eSBhbnkgbnVtYmVyIG9mIGNhcmRzIGF0IHZlcnRleCB2LCBwb3dlciBnYWluZWQgYXQgdiBmb3IgY29pbnMgc3BlbnQgeCBpcyAoeC9jW3ZdKSAqIHdbdl0KICAgIC8vIFdlIHdpbGwga2VlcCBmb3IgZWFjaCB2ZXJ0ZXggdiBhIHZlY3RvciBkcFt2XSBvZiBsZW5ndGggY1t2XSwgZHBbdl1bcl0gPSBtYXggcG93ZXIgc3VtIHdoZW4gc3BlbnQgcmVtYWluZGVyIHIgY29pbnMgbW9kIGNbdl0gYXQgdgogICAgLy8gQWN0dWFsbHksIHRvIGNvbWJpbmUgZHAgZnJvbSB1IHRvIHYsIHdlIG5lZWQgdG8gbWVyZ2UgZHBbdV0gYW5kIGRwW3ZdLgogICAgLy8gQnV0IGVkZ2VzIG9ubHkgZnJvbSBzbWFsbGVyIHRvIGxhcmdlciB2ZXJ0ZXgsIHNvIHdlIGNhbiBwcm9jZXNzIHRvcG8gb3JkZXIuCgogICAgLy8gSW5zdGVhZCwgd2Ugc29sdmUgYXMgZm9sbG93czoKICAgIC8vIEZvciBlYWNoIG5vZGUgdiwgd2Uga2VlcCBkcFt2XSBhcyB2ZWN0b3I8bG9uZyBsb25nPiBvZiBzaXplIGNbdl06IGRwW3ZdW3JdID0gbWF4IHRvdGFsIHBvd2VyIGFjaGlldmFibGUgd2hlbiBhdCB2IGFuZCByZW1haW5kZXIgciBjb2lucyBzcGVudCBhdCB2LgogICAgLy8gSW5pdGlhbGx5LCBkcFsxXVtyXSA9IChyIC8gY1sxXSkgKiB3WzFdLCBmb3IgciBpbiBbMCwgY1sxXSkKICAgIC8vIEZvciBvdGhlcnMsIGRwW3ZdW3JdID0gLWluZgoKICAgIC8vIEZvciBlYWNoIGVkZ2UgdS0+diwgd2UgY2FuIGdvIGZyb20gZHBbdV0gdG8gZHBbdl06IGRwW3ZdW3JdID0gbWF4IG92ZXIgYWxsIHInIGRwW3VdW3InXSArIG1heCBwb3dlciBmcm9tIHYgd2l0aCBjb2lucyBzcGVudCByZW1haW5kZXIgcgogICAgLy8gU2luY2UgY29pbnMgc3BlbnQgYXQgdiBjYW4gYmUgYW55IGFtb3VudCA+PSByIHdpdGggcmVtYWluZGVyIHIsIHRoZSBtYXggcG93ZXIgaXMgZmxvb3IoKGNvaW5zX3NwZW50KSAvIGNbdl0pICogd1t2XS4KICAgIC8vIEJ1dCBjb2lucyBzcGVudCBhdCB2IGNhbiBiZSBhbnkgYW1vdW50IHdpdGggcmVtYWluZGVyIHIuCgogICAgLy8gVG8gbWVyZ2UgZHBbdV0gYW5kIGRwW3ZdLCB3ZSBjb25zaWRlciBmb3IgZWFjaCByZW1haW5kZXIgciBpbiBbMCwgY1t2XSk6IGRwW3ZdW3JdID0gbWF4IG92ZXIgcicgaW4gWzAsIGNbdV0pIG9mIGRwW3VdW3InXSArIHZhbHVlIGF0IHYgd2l0aCByZW1haW5kZXIgci4KCiAgICAvLyBIb3dldmVyLCB3ZSBtdXN0IGNvbnNpZGVyIHRoYXQgdG90YWwgY29pbnMgc3BlbnQgc3VtIHVwIHRvIHIgaW4gdGhlIHF1ZXJ5LgoKICAgIC8vIE9ic2VydmluZyB0aGUgcHJvYmxlbSBjb25zdHJhaW50cywgY29pbnMgY2FuIGJlIGxhcmdlICh1cCB0byAxZTkpLCBidXQgd2Ugb25seSBuZWVkIHRvIGFuc3dlciBxdWVyaWVzOgogICAgLy8gRm9yIGVhY2ggcXVlcnkgKHAsIHIpOiBtYXhpbXVtIHBvd2VyIHN1bSB3aGVuIGZpbmFsIGJvc3MgYXQgcCBhbmQgc3RhcnRpbmcgY29pbnMgci4KCiAgICAvLyBXZSB3aWxsIHVzZSB0aGUgZm9sbG93aW5nIGFwcHJvYWNoOgogICAgLy8gMSkgRm9yIGVhY2ggdmVydGV4IHYsIGNvbXB1dGUgZHBbdl0gYXJyYXkgb2Ygc2l6ZSBjW3ZdLCB3aGVyZSBkcFt2XVtyXSA9IG1heCB0b3RhbCBwb3dlciBhY2hpZXZhYmxlIHJlYWNoaW5nIHYgd2l0aCByZW1haW5kZXIgciBjb2lucyBzcGVudCBhdCB2LgogICAgLy8gMikgRm9yIGVhY2ggZWRnZSB1LT52LCB1cGRhdGUgZHBbdl0gYmFzZWQgb24gZHBbdV0uCiAgICAvLyAzKSBBZnRlciBkcCBpcyBjb21wdXRlZCwgZm9yIGVhY2ggcXVlcnkgKHAsIHIpLCBhbnN3ZXIgPSBtYXggb3ZlciByZW1haW5kZXIgcicgZHBbcF1bcicgbW9kIGNbcF1dICsgKChyIC0gcicgbW9kIGNbcF0pIC8gY1twXSkgKiB3W3BdLgoKICAgIC8vIEltcGxlbWVudGF0aW9uIGRldGFpbHM6CiAgICAvLyBXZSBkbyBkcCBpbiB0b3BvIG9yZGVyLgogICAgLy8gZHBbMV1bcl06IHNpbmNlIHN0YXJ0IGF0IHZlcnRleCAxLCBjYW4gYnV5IGNhcmRzIHdpdGggY29pbnMgc3BlbnQgPSByLgoKICAgIHZlY3Rvcjx2ZWN0b3I8bG9uZyBsb25nPj4gZHAobisxKTsKCiAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsKICAgICAgICBkcFtpXS5hc3NpZ24oY1tpXSwgTExPTkdfTUlOKTsKICAgIH0KCiAgICAvLyBJbml0IGRwIGF0IHZlcnRleCAxCiAgICBmb3IgKGludCByZW0gPSAwOyByZW0gPCBjWzFdOyArK3JlbSkgewogICAgICAgIGRwWzFdW3JlbV0gPSAobG9uZyBsb25nKShyZW0gLyBjWzFdKSAqIHdbMV07CiAgICAgICAgLy8gQWN0dWFsbHkgcmVtIDwgY1sxXSwgc28gcmVtIC8gY1sxXSA9IDAgYWx3YXlzLCBzbyBkcFsxXVtyZW1dID0gMAogICAgfQogICAgLy8gQnV0IHdlIGNhbiBidXkgYW55IG51bWJlciBvZiBjYXJkcyBhdCB2ZXJ0ZXggMSB3aXRoIGNvaW5zIHNwZW50ID0gciwgcmVtYWluZGVyIHJlbSA9IHIgJSBjWzFdCiAgICAvLyBXZSdsbCBoYW5kbGUgdGhpcyB3aGVuIGFuc3dlcmluZyBxdWVyaWVzCgogICAgLy8gQWN0dWFsbHksIHRvIGhhbmRsZSB0aGUgaW5pdGlhbCBkcCwgc2V0IGRwWzFdW3JlbV0gPSAwIGZvciBhbGwgcmVtIDwgY1sxXQogICAgZm9yIChpbnQgcmVtID0gMDsgcmVtIDwgY1sxXTsgKytyZW0pIGRwWzFdW3JlbV0gPSAwOwoKICAgIGZvciAoaW50IHUgOiB0b3BvKSB7CiAgICAgICAgZm9yIChpbnQgdiA6IGFkalt1XSkgewogICAgICAgICAgICAvLyBGb3IgbWVyZ2luZyBkcFt1XSB0byBkcFt2XQogICAgICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXB1dGUgbmV3IGRwW3ZdW3JdID0gbWF4IG92ZXIgcicgZHBbdV1bciddICsgbWF4IHBvd2VyIGF0IHYgd2l0aCByZW1haW5kZXIgcgogICAgICAgICAgICAvLyBtYXggcG93ZXIgYXQgdiB3aXRoIHJlbWFpbmRlciByIGlzICgoY29pbnNfc3BlbnQgYXQgdikgLyBjW3ZdKSAqIHdbdl0sIGNvaW5zX3NwZW50IGF0IHYgY29uZ3J1ZW50IHRvIHIgbW9kIGNbdl0KICAgICAgICAgICAgLy8gVGhlIGNvaW5zIHNwZW50IGF0IHYgY2FuIGJlIGFueSBudW1iZXIgd2l0aCByZW1haW5kZXIgcgogICAgICAgICAgICAvLyBTaW5jZSB3ZSBkb24ndCBrbm93IGV4YWN0IGNvaW5zIHNwZW50IGF0IHYsIGJ1dCBvbmx5IHJlbWFpbmRlciwgdGhlIHBvd2VyIGZyb20gdiBpcyB1bmJvdW5kZWQgZm9yIGxhcmdlIGNvaW5zIHNwZW50LCBzbyB3ZSBjb25zaWRlciAwIGZvciBkcCBhbmQgYWRkIHBvd2VyIGxhdGVyIHdpdGggcXVlcmllcwoKICAgICAgICAgICAgLy8gQWN0dWFsbHksIGZvciBkcCwgd2Ugc3RvcmUgdGhlIG1heCB0b3RhbCBwb3dlciBleGNsdWRpbmcgdGhlIHBvd2VyIGZyb20gdGhlIHJlbWFpbmRlciBjb2lucyBzcGVudCBhdCB2LCBzbyB3ZSBhZGQgcG93ZXIgZnJvbSB2IGNhcmRzIGF0IHF1ZXJ5IHRpbWUKCiAgICAgICAgICAgIC8vIFRvIG1lcmdlIGRwW3VdIHRvIGRwW3ZdLCB3ZSB0cnkgYWxsIHBhaXJzIChyJywgcikgYW5kIHVwZGF0ZSBkcFt2XVtyXSA9IG1heChkcFt2XVtyXSwgZHBbdV1bciddICsgMCkKICAgICAgICAgICAgLy8gc2luY2UgcG93ZXIgZnJvbSBjYXJkcyBhdCB2IGlzIGFkZGVkIGF0IHF1ZXJ5IHRpbWUKCiAgICAgICAgICAgIC8vIFRvIG9wdGltaXplLCB3ZSBkbzoKICAgICAgICAgICAgLy8gRm9yIGVhY2ggciBpbiBbMCwgY1t2XSk6CiAgICAgICAgICAgIC8vIGRwW3ZdW3JdID0gbWF4IG92ZXIgcicgb2YgZHBbdV1bciddCiAgICAgICAgICAgIC8vIEJ1dCBjb2lucyBzcGVudCByZW1haW5kZXIgYXQgdiBpcyBpbmRlcGVuZGVudCBmcm9tIGRwW3VdCgogICAgICAgICAgICAvLyBTbyBkcFt2XVtyXSA9IG1heChkcFt2XVtyXSwgbWF4IGRwW3VdKQoKICAgICAgICAgICAgbG9uZyBsb25nIG14ID0gTExPTkdfTUlOOwogICAgICAgICAgICBmb3IgKGludCBycHJpbWUgPSAwOyBycHJpbWUgPCAoaW50KWRwW3VdLnNpemUoKTsgKytycHJpbWUpIHsKICAgICAgICAgICAgICAgIGlmIChkcFt1XVtycHJpbWVdID4gbXgpIG14ID0gZHBbdV1bcnByaW1lXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGludCByID0gMDsgciA8IGNbdl07ICsrcikgewogICAgICAgICAgICAgICAgaWYgKG14ID09IExMT05HX01JTikgY29udGludWU7CiAgICAgICAgICAgICAgICBpZiAoZHBbdl1bcl0gPCBteCkgZHBbdl1bcl0gPSBteDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBOb3cgYW5zd2VyIHF1ZXJpZXMKICAgIGludCBxOwogICAgY2luID4+IHE7CiAgICB3aGlsZSAocS0tKSB7CiAgICAgICAgaW50IHA7CiAgICAgICAgbGwgcjsKICAgICAgICBjaW4gPj4gcCA+PiByOwogICAgICAgIGludCByZW0gPSByICUgY1twXTsKICAgICAgICBsb25nIGxvbmcgYmFzZSA9IGRwW3BdW3JlbV07CiAgICAgICAgaWYgKGJhc2UgPT0gTExPTkdfTUlOKSB7CiAgICAgICAgICAgIGNvdXQgPDwgMCA8PCAnXG4nOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgbGwgYWRkID0gKHIgLyBjW3BdKSAqIChsbCl3W3BdOwogICAgICAgIGNvdXQgPDwgYmFzZSArIGFkZCA8PCAnXG4nOwogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
