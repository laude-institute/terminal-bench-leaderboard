['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOwogICAgICAgIGNpbiA+PiBuOwogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGEobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIGNpbiA+PiBhW2ldOwoKICAgICAgICAvLyBJZiBhbGwgemVyb3MgYWxyZWFkeQogICAgICAgIGJvb2wgYWxsX3plcm8gPSBhbGxfb2YoYS5iZWdpbigpLCBhLmVuZCgpLCBbXShsb25nIGxvbmcgeCkgeyByZXR1cm4geCA9PSAwOyB9KTsKICAgICAgICBpZiAoYWxsX3plcm8pIHsKICAgICAgICAgICAgY291dCA8PCAwIDw8ICJcbiI7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgLy8gVGhlIHN0cmF0ZWd5OgogICAgICAgIC8vIFdlIGNhbiBwZXJmb3JtIHVwIHRvIDQwIG9wZXJhdGlvbnMuCiAgICAgICAgLy8gSW4gZWFjaCBvcGVyYXRpb24sIGNob29zZSB4ID0gbWF4IGVsZW1lbnQgb2YgY3VycmVudCBhcnJheS4KICAgICAgICAvLyBUaGVuIGFycmF5IGJlY29tZXMgfGFfaSAtIG1heHwuCiAgICAgICAgLy8gUmVwZWF0IHRoaXMgdHdpY2U6CiAgICAgICAgLy8gICBBZnRlciBmaXJzdCBvcGVyYXRpb24sIG1heCBlbGVtZW50IGJlY29tZXMgbWF4IC0gbWluLgogICAgICAgIC8vICAgQWZ0ZXIgc2Vjb25kIG9wZXJhdGlvbiwgYWxsIGVsZW1lbnRzIGJlY29tZSAwIG9yIHRoZSBkaWZmZXJlbmNlLgogICAgICAgIC8vIEEga25vd24gYXBwcm9hY2ggdG8gc29sdmUgdGhpcyBwcm9ibGVtIGlzOgogICAgICAgIC8vIDEpIENob29zZSB4ID0gbWF4IGFfaTogYV9pID0gfGFfaSAtIG1heHwuCiAgICAgICAgLy8gMikgQ2hvb3NlIHggPSBtYXggYV9pIGFnYWluLgogICAgICAgIC8vIDMpIFRoZW4gYWxsIGVsZW1lbnRzIGJlY29tZSB6ZXJvIG9yIGVxdWFsLgogICAgICAgIC8vIDQpIENob29zZSB4ID0gdGhhdCBlbGVtZW50IHRvIG1ha2UgYWxsIHplcm8uCiAgICAgICAgLy8gQnV0IHNvbWV0aW1lcyBtb3JlIHN0ZXBzIGFyZSBuZWVkZWQuIFRoZSBwcm9ibGVtIGFsbG93cyB1cCB0byA0MCBvcGVyYXRpb25zLgogICAgICAgIC8vIFdlJ2xsIGltcGxlbWVudCB0aGUga25vd24gYXBwcm9hY2ggZnJvbSBlZGl0b3JpYWw6CiAgICAgICAgLy8gUmVwZWF0IHRoZSBvcGVyYXRpb24gdW50aWwgYWxsIGVsZW1lbnRzIGVxdWFsIG9yIHplcm8gb3IgdW50aWwgNDAgb3BzLgoKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBvcHM7CiAgICAgICAgaW50IG9wX2xpbWl0ID0gNDA7CgogICAgICAgIGF1dG8gYWxsX2VxdWFsID0gWyZdKGNvbnN0IHZlY3Rvcjxsb25nIGxvbmc+JiB2KSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgKGludCl2LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodltpXSAhPSB2WzBdKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKCiAgICAgICAgaW50IG9wc191c2VkID0gMDsKICAgICAgICB3aGlsZSAob3BzX3VzZWQgPCBvcF9saW1pdCkgewogICAgICAgICAgICBsb25nIGxvbmcgbXggPSAqbWF4X2VsZW1lbnQoYS5iZWdpbigpLCBhLmVuZCgpKTsKICAgICAgICAgICAgb3BzLnB1c2hfYmFjayhteCk7CiAgICAgICAgICAgIG9wc191c2VkKys7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBhW2ldID0gYWJzKGFbaV0gLSBteCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFsbF9lcXVhbChhKSkgewogICAgICAgICAgICAgICAgLy8gSWYgYWxsIGVxdWFsLCBhbmQgdGhhdCB2YWx1ZSBpcyAwLCBkb25lCiAgICAgICAgICAgICAgICBpZiAoYVswXSA9PSAwKSBicmVhazsKICAgICAgICAgICAgICAgIC8vIGVsc2UgY2hvb3NlIHggPSB0aGF0IHZhbHVlIHRvIHplcm8gYWxsCiAgICAgICAgICAgICAgICBvcHMucHVzaF9iYWNrKGFbMF0pOwogICAgICAgICAgICAgICAgb3BzX3VzZWQrKzsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBhW2ldID0gYWJzKGFbaV0gLSBhWzBdKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWFsbF9vZihhLmJlZ2luKCksIGEuZW5kKCksIFtdKGxvbmcgbG9uZyB4KSB7IHJldHVybiB4ID09IDA7IH0pKSB7CiAgICAgICAgICAgIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBjb3V0IDw8IChpbnQpb3BzLnNpemUoKSA8PCAiXG4iOwogICAgICAgIGZvciAoc2l6ZV90IGkgPSAwOyBpIDwgb3BzLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGNvdXQgPDwgb3BzW2ldIDw8IChpICsgMSA9PSBvcHMuc2l6ZSgpID8gJ1xuJyA6ICcgJyk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
