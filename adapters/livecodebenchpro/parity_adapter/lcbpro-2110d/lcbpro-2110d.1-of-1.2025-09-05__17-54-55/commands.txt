['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBVc2UgNjQtYml0IGludGVnZXIgZm9yIGxhcmdlIHZhbHVlcwp1c2luZyBsbCA9IGxvbmcgbG9uZzsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsgY2luID4+IHQ7CiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIG07CiAgICAgICAgY2luID4+IG4gPj4gbTsKICAgICAgICB2ZWN0b3I8bGw+IGIobiArIDEpOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYltpXTsKICAgICAgICB9CgogICAgICAgIC8vIFN0b3JlIGVkZ2VzIGFzIGFkamFjZW5jeSBsaXN0OiBmcm9tIC0+IHZlY3RvciBvZiAodG8sIHcpCiAgICAgICAgdmVjdG9yPHZlY3RvcjxwYWlyPGludCwgbGw+Pj4gYWRqKG4gKyAxKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG07IGkrKykgewogICAgICAgICAgICBpbnQgcywgdDsKICAgICAgICAgICAgbGwgdzsKICAgICAgICAgICAgY2luID4+IHMgPj4gdCA+PiB3OwogICAgICAgICAgICBhZGpbc10uZW1wbGFjZV9iYWNrKHQsIHcpOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5kIHRoZSBtaW5pbWFsIGZpbmFsIGJhdHRlcnkgY291bnQgYXQgbm9kZSBuCiAgICAgICAgLy8gVGhlIHJvYm90IHN0YXJ0cyBhdCBub2RlIDEgd2l0aCAwIGJhdHRlcmllcy4KICAgICAgICAvLyBBdCBlYWNoIG5vZGUsIGNhbiBwaWNrIHVwIGFueSBiYXR0ZXJpZXMgYmV0d2VlbiAwIGFuZCBiW2ldLgogICAgICAgIC8vIFBhc3NhZ2VzIHJlcXVpcmUgYXQgbGVhc3QgdyBiYXR0ZXJpZXMuCiAgICAgICAgLy8gQmF0dGVyaWVzIG5ldmVyIGRlY3JlYXNlLCB0aGV5IG9ubHkgaW5jcmVhc2Ugb3IgcmVtYWluLgogICAgICAgIC8vIEFsc28gYmF0dGVyaWVzIHJlY2hhcmdlIGZ1bGx5IGF0IGVhY2ggY2hlY2twb2ludCAoY2FycnkgYWxsIGNvbGxlY3RlZCBiYXR0ZXJpZXMpLgoKICAgICAgICAvLyBBcHByb2FjaDoKICAgICAgICAvLyBUaGlzIHByb2JsZW0gY2FuIGJlIHNvbHZlZCBieSBhIG1vZGlmaWVkIERpamtzdHJhLgogICAgICAgIC8vIFN0YXRlOiBub2RlLCBjdXJyZW50IGJhdHRlcmllcwogICAgICAgIC8vIEJ1dCBiYXR0ZXJpZXMgY2FuIGJlIGxhcmdlICh1cCB0byAxZTkpLCBhbmQgbnVtYmVyIG9mIHN0YXRlcyBodWdlLgoKICAgICAgICAvLyBPcHRpbWl6YXRpb246CiAgICAgICAgLy8gU2luY2Ugd2UgY2FuIHBpY2sgYW55IGJhdHRlcmllcyBhdCBub2RlIGksIG1pbmltYWwgYmF0dGVyaWVzIGF0IG5vZGUgaSBpcyB0aGUgbWluaW1hbCBiYXR0ZXJpZXMgbmVlZGVkIHRvIGFycml2ZSBhdCBpLgogICAgICAgIC8vIEJ1dCB3ZSBjYW4gY2hvb3NlIHRvIHBpY2sgbW9yZSBiYXR0ZXJpZXMgYXQgbm9kZSBpLCB1cCB0byBiW2ldLCB0byBwYXNzIGVkZ2VzLgoKICAgICAgICAvLyBJZGVhOgogICAgICAgIC8vIExldCdzIHVzZSBhIHByaW9yaXR5IHF1ZXVlIGZvciBEaWprc3RyYSB3aXRoIHN0YXRlczogbm9kZSwgYmF0dGVyaWVzCiAgICAgICAgLy8gV2Uga2VlcCBmb3IgZWFjaCBub2RlIHRoZSBtaW5pbWFsIGJhdHRlcnkgY291bnQgZm91bmQuCiAgICAgICAgLy8gV2hlbiBhcnJpdmluZyBhdCBub2RlIHUgd2l0aCBiYXR0ZXJ5IGNvdW50IGN1cl9iYXQsCiAgICAgICAgLy8gd2UgY2FuIHBpY2sgbW9yZSBiYXR0ZXJpZXMgYXQgbm9kZSB1ICh1cCB0byBiW3VdKSB0byBwYXNzIGVkZ2VzLgoKICAgICAgICAvLyBCdXQgc2luY2UgYmF0dGVyaWVzIG9ubHkgaW5jcmVhc2UgYWxvbmcgZWRnZXMsIGFuZCB3ZSB3YW50IG1pbmltYWwgYmF0dGVyeSBjb3VudCBhdCBuLAogICAgICAgIC8vIHdlIHRyeSB0byBrZWVwIG1pbmltYWwgYmF0dGVyeSBjb3VudCBhdCBlYWNoIG5vZGUuCgogICAgICAgIC8vIFdlJ2xsIHN0b3JlIGRpc3Rbbm9kZV0gPSBtaW5pbXVtIGJhdHRlcnkgY291bnQgdG8gcmVhY2ggbm9kZQoKICAgICAgICB2ZWN0b3I8bGw+IGRpc3QobiArIDEsIExMT05HX01BWCk7CiAgICAgICAgZGlzdFsxXSA9IDA7CgogICAgICAgIC8vIFVzZSBhIG1pbi1oZWFwIHByaW9yaXR5IHF1ZXVlOiAoYmF0dGVyeSBjb3VudCwgbm9kZSkKICAgICAgICBwcmlvcml0eV9xdWV1ZTxwYWlyPGxsLGludD4sIHZlY3RvcjxwYWlyPGxsLGludD4+LCBncmVhdGVyPHBhaXI8bGwsaW50Pj4+IHBxOwogICAgICAgIHBxLmVtcGxhY2UoMCwgMSk7CgogICAgICAgIHdoaWxlICghcHEuZW1wdHkoKSkgewogICAgICAgICAgICBhdXRvIFtjdXJfYmF0LCB1XSA9IHBxLnRvcCgpOyBwcS5wb3AoKTsKICAgICAgICAgICAgaWYgKGRpc3RbdV0gPCBjdXJfYmF0KSBjb250aW51ZTsKICAgICAgICAgICAgaWYgKHUgPT0gbikgYnJlYWs7CgogICAgICAgICAgICAvLyBBdCBub2RlIHUsIGNhbiBwaWNrIGFueSBudW1iZXIgb2YgYmF0dGVyaWVzIGZyb20gMCB0byBiW3VdLgogICAgICAgICAgICAvLyBUbyBtaW5pbWl6ZSBmaW5hbCBiYXR0ZXJ5IGNvdW50LCBwaWNrIHRoZSBtaW5pbWFsIG5lZWRlZC4KCiAgICAgICAgICAgIC8vIEZvciBlYWNoIGVkZ2UgZnJvbSB1IHRvIHYgd2l0aCByZXF1aXJlZCB3OgogICAgICAgICAgICBmb3IgKGF1dG8gJlt2LCB3XSA6IGFkalt1XSkgewogICAgICAgICAgICAgICAgLy8gV2UgbXVzdCBoYXZlIGF0IGxlYXN0IHcgYmF0dGVyaWVzIHRvIHRyYXZlcnNlIHRoaXMgZWRnZS4KICAgICAgICAgICAgICAgIC8vIElmIGN1cl9iYXQgPj0gdywgbm8gbmVlZCB0byBwaWNrIG1vcmUgYmF0dGVyaWVzIGF0IHUuCiAgICAgICAgICAgICAgICAvLyBFbHNlLCBwaWNrICh3IC0gY3VyX2JhdCkgYmF0dGVyaWVzIGF0IHUgaWYgcG9zc2libGUuCiAgICAgICAgICAgICAgICAvLyBCdXQgY2FuJ3QgcGljayBtb3JlIHRoYW4gYlt1XS4KCiAgICAgICAgICAgICAgICBpZiAodyA+IGN1cl9iYXQgKyBiW3VdKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gTm90IGVub3VnaCBiYXR0ZXJpZXMgYXZhaWxhYmxlIGF0IHUgdG8gcmVhY2ggdwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxsIG5leHRfYmF0ID0gbWF4KGN1cl9iYXQsIHcpOwogICAgICAgICAgICAgICAgLy8gbmV4dF9iYXQgbXVzdCBiZSA8PSBjdXJfYmF0ICsgYlt1XSAoZ3VhcmFudGVlZCBieSBhYm92ZSBjaGVjaykKCiAgICAgICAgICAgICAgICBpZiAoZGlzdFt2XSA+IG5leHRfYmF0KSB7CiAgICAgICAgICAgICAgICAgICAgZGlzdFt2XSA9IG5leHRfYmF0OwogICAgICAgICAgICAgICAgICAgIHBxLmVtcGxhY2UobmV4dF9iYXQsIHYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZGlzdFtuXSA9PSBMTE9OR19NQVgpIGNvdXQgPDwgLTEgPDwgIlxuIjsKICAgICAgICBlbHNlIGNvdXQgPDwgZGlzdFtuXSA8PCAiXG4iOwogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
