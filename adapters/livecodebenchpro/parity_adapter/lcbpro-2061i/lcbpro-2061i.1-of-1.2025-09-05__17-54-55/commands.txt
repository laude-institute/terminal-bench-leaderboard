['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKCiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG47CiAgICAgICAgY2luID4+IG47CiAgICAgICAgdmVjdG9yPGludD4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBjaW4gPj4gYVtpXTsKICAgICAgICB9CgogICAgICAgIC8vIFNlcGFyYXRlIG1hdGNoZXMgYnkgdHlwZQogICAgICAgIC8vIFR5cGUgMSBtYXRjaGVzIGhhdmUgYVtpXSA+PSAwLCBUeXBlIDIgbWF0Y2hlcyBoYXZlIGFbaV0gPT0gLTEKICAgICAgICB2ZWN0b3I8aW50PiB0eXBlMV90aW1lczsKICAgICAgICBpbnQgdHlwZTJfY291bnQgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhW2ldID09IC0xKSB7CiAgICAgICAgICAgICAgICB0eXBlMl9jb3VudCsrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdHlwZTFfdGltZXMucHVzaF9iYWNrKGFbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzb3J0KHR5cGUxX3RpbWVzLmJlZ2luKCksIHR5cGUxX3RpbWVzLmVuZCgpKTsKCiAgICAgICAgLy8gUHJlZml4IHN1bXMgZm9yIHR5cGUgMSBtYXRjaGVzCiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gcHJlZml4KHR5cGUxX3RpbWVzLnNpemUoKSArIDEsIDApOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgKGludCl0eXBlMV90aW1lcy5zaXplKCk7IGkrKykgewogICAgICAgICAgICBwcmVmaXhbaSsxXSA9IHByZWZpeFtpXSArIHR5cGUxX3RpbWVzW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gRm9yIGVhY2ggayBmcm9tIDAgdG8gbiwgZmluZCBtaW5pbXVtIHRpbWUgdG8gd2luIGF0IGxlYXN0IGsgbWF0Y2hlcwogICAgICAgIC8vIFRoZSBrZXkgaW5zaWdodDoKICAgICAgICAvLyBLZXZpbiBhdXRvbWF0aWNhbGx5IHdpbnMgYWxsIHR5cGUgMiBtYXRjaGVzIGlmIGhpcyB3aW5zIHNvIGZhciA+PSBOaXZlaydzIHdpbnMgc28gZmFyCiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBtYXRjaGVzIEtldmluIHdpbnMgaXMgYXQgbGVhc3QgdHlwZTJfY291bnQgKGZyb20gdHlwZSAyIG1hdGNoZXMpICsgbnVtYmVyIG9mIHR5cGUgMSBtYXRjaGVzIGhlIHdpbnMKICAgICAgICAvLyBGb3IgdHlwZSAyIG1hdGNoZXMsIGlmIEtldmluJ3Mgd2lucyBzbyBmYXIgPCBOaXZlaydzIHdpbnMsIGhlIGxvc2VzIHRob3NlIG1hdGNoZXMuCiAgICAgICAgLy8gU28sIHRoZSBtaW5pbWFsIG51bWJlciBvZiB3aW5zIEtldmluIGNhbiBndWFyYW50ZWUgaXMgYXQgbGVhc3QgdHlwZTJfY291bnQuCiAgICAgICAgCiAgICAgICAgLy8gV2Ugd2lsbCB0cnkgdG8gcGljayB4IG1hdGNoZXMgZnJvbSB0eXBlMV90aW1lcyB0byB3aW4uCiAgICAgICAgLy8gVG90YWwgd2lucyA9IHggKyB0eXBlMl9jb3VudAogICAgICAgIC8vIEZvciBrIHdpbnMsIGlmIGsgPD0gdHlwZTJfY291bnQsIHRpbWUgPSAwIChubyBuZWVkIHRvIHdpbiBhbnkgdHlwZSAxIG1hdGNoZXMpCiAgICAgICAgLy8gSWYgayA+IHR5cGUyX2NvdW50LCBuZWVkIHRvIHdpbiBhdCBsZWFzdCBrIC0gdHlwZTJfY291bnQgdHlwZSAxIG1hdGNoZXMKICAgICAgICAvLyBXZSBjaG9vc2UgdGhlIGNoZWFwZXN0IChrIC0gdHlwZTJfY291bnQpIG1hdGNoZXMgZnJvbSB0eXBlMV90aW1lcy4KCiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gcmVzKG4gKyAxLCAtMSk7CiAgICAgICAgZm9yIChpbnQgayA9IDA7IGsgPD0gbjsgaysrKSB7CiAgICAgICAgICAgIGlmIChrIDw9IHR5cGUyX2NvdW50KSB7CiAgICAgICAgICAgICAgICAvLyBObyB0aW1lIG5lZWRlZCwgdHlwZSAyIG1hdGNoZXMgZ2l2ZSBlbm91Z2ggd2lucwogICAgICAgICAgICAgICAgcmVzW2tdID0gMDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGludCBuZWVkID0gayAtIHR5cGUyX2NvdW50OwogICAgICAgICAgICAgICAgaWYgKG5lZWQgPD0gKGludCl0eXBlMV90aW1lcy5zaXplKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXNba10gPSBwcmVmaXhbbmVlZF07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IC0xOyAvLyBpbXBvc3NpYmxlIHRvIHdpbiBrIG1hdGNoZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBwcm9ibGVtLCBLZXZpbiBjYW4gd2luIG1hdGNoZXMgd2l0aCB0aGUgcnVsZXMgZ2l2ZW4sCiAgICAgICAgLy8gdGhlIGFib3ZlIGxvZ2ljIHN1ZmZpY2VzIHRvIGdldCB0aGUgbWluaW1hbCB0aW1lIGZvciBlYWNoIGsuCgogICAgICAgIC8vIFJlcGxhY2UgLTEgd2l0aCBsYXJnZSB2YWx1ZXMgb3IgMCBpZiBub3QgcG9zc2libGU/IFRoZSBwcm9ibGVtIHN0YXRlbWVudCBpbXBsaWVzIHBvc3NpYmxlIGZvciBhbGwgay4KICAgICAgICAvLyBCdXQgbGV0J3Mgb3V0cHV0IGFzIGlzOyBpZiBpbXBvc3NpYmxlLCBvdXRwdXQgbGFyZ2UgbnVtYmVyIChwcm9ibGVtIGNvbnN0cmFpbnRzIGltcGx5IGFsd2F5cyBwb3NzaWJsZSkuCgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDw9IG47IGkrKykgewogICAgICAgICAgICBjb3V0IDw8IG1heCgwTEwsIHJlc1tpXSkgPDwgKGkgPT0gbiA/ICdcbicgOiAnICcpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
