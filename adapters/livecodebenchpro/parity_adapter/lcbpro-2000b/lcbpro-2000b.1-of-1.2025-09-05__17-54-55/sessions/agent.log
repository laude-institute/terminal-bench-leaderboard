[?2004hroot@d5cf2e20d82f:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@d5cf2e20d82f:/app# clear
[?2004l[H[J[3J[?2004hroot@d5cf2e20d82f:/app# echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8dW5vcmRlcmVkX3NldD4KdXNpbmcgbmFtZXNwYWNlIHN0ZDsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuOwogICAgICAgIGNpbiA+PiBuOwogICAgICAgIHZlY3RvcjxpbnQ+IGEobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgfQoKICAgICAgICB1bm9yZGVyZWRfc2V0PGludD4gb2NjdXBpZWQ7CiAgICAgICAgYm9vbCB2YWxpZCA9IHRydWU7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGludCBzZWF0ID0gYVtpXTsKICAgICAgICAgICAgaWYgKG9jY3VwaWVkLmVtcHR5KCkpIHsKICAgICAgICAgICAgICAgIC8vIGZpcnN0IHBhc3NlbmdlciBjYW4gc2l0IGFueXdoZXJlCiAgICAgICAgICAgICAgICBvY2N1cGllZC5pbnNlcnQoc2VhdCk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBjaGVjayBpZiBhdCBsZWFzdCBvbmUgbmVpZ2hib3IgaXMgb2NjdXBpZWQKICAgICAgICAgICAgYm9vbCBuZWlnaGJvck9jY3VwaWVkID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChzZWF0ID4gMSAmJiBvY2N1cGllZC5jb3VudChzZWF0IC0gMSkpIG5laWdoYm9yT2NjdXBpZWQgPSB0cnVlOwogICAgICAgICAgICBpZiAoc2VhdCA8IG4gJiYgb2NjdXBpZWQuY291bnQoc2VhdCArIDEpKSBuZWlnaGJvck9jY3VwaWVkID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKCFuZWlnaGJvck9jY3VwaWVkKSB7CiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2NjdXBpZWQuaW5zZXJ0KHNlYXQpOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCAodmFsaWQgPyAiWUVTIiA6ICJOTyIpIDw8ICJcbiI7CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@d5cf2e20d82f:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@d5cf2e20d82f:/app# 