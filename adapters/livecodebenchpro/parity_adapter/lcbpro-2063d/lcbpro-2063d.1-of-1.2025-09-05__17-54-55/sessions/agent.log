[?2004hroot@1cdda8caef80:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@1cdda8caef80:/app# clear
[?2004l[H[J[3J[?2004hroot@1cdda8caef80:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbTsKICAgICAgICBjaW4gPj4gbiA+PiBtOwogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGEobiksIGIobSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIGNpbiA+PiBhW2ldOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbTsgKytpKSBjaW4gPj4gYltpXTsKCiAgICAgICAgLy8gU29ydCB0aGUgcG9pbnRzIG9uIHk9MCBhbmQgeT0yCiAgICAgICAgc29ydChhLmJlZ2luKCksIGEuZW5kKCkpOwogICAgICAgIHNvcnQoYi5iZWdpbigpLCBiLmVuZCgpKTsKCiAgICAgICAgLy8gTWF4aW11bSBudW1iZXIgb2Ygb3BlcmF0aW9ucwogICAgICAgIGludCBrbWF4ID0gbWluKG4gLyAyLCBtKTsKICAgICAgICBjb3V0IDw8IGttYXggPDwgIlxuIjsKCiAgICAgICAgaWYgKGttYXggPT0gMCkgY29udGludWU7CgogICAgICAgIC8vIFRvIG1heGltaXplIGFyZWE6IGZvciBlYWNoIG9wZXJhdGlvbiwgd2Ugd2FudCB0byBwaWNrIHR3byBwb2ludHMgZnJvbSB5PTAgYW5kIG9uZSBwb2ludCBmcm9tIHk9MgogICAgICAgIC8vIG9yIG9uZSBwb2ludCBmcm9tIHk9MCBhbmQgdHdvIHBvaW50cyBmcm9tIHk9Mi4gQnV0IHRoZSBwcm9ibGVtJ3MgZXhhbXBsZXMgc3VnZ2VzdAogICAgICAgIC8vIGJlc3QgaXMgdG8gcGljayB0d28gcG9pbnRzIGZyb20gdGhlIGxhcmdlciBzZXQgKGF0IHk9MCkgYW5kIG9uZSBwb2ludCBmcm9tIHRoZSBvdGhlciAoYXQgeT0yKQogICAgICAgIC8vIFRoZSB0cmlhbmdsZSBhcmVhID0gYWJzKHgyIC0geDEpICogaGVpZ2h0IC8gMiwgaGVpZ2h0PTIsIHNvIGFyZWEgPSBhYnMoeDIgLSB4MSkKICAgICAgICAvLyBTbyBhcmVhIGRlcGVuZHMgb24gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHMgb24gdGhlIHNhbWUgbGluZS4KCiAgICAgICAgLy8gV2Ugd2lsbCBwYWlyIHRoZSBwb2ludHMgdG8gbWF4aW1pemUgc3VtIG9mIGRpc3RhbmNlczoKICAgICAgICAvLyBXZSB0YWtlIHBhaXJzIG9mIHBvaW50cyBmcm9tIGEgKHk9MCksIGFuZCBwaWNrIGxhcmdlc3QgYiAoeT0yKSBwb2ludHMgdG8gZm9ybSB0cmlhbmdsZXMuCiAgICAgICAgLy8gVGhlIGFyZWEgb2YgZWFjaCB0cmlhbmdsZSA9IGFicyhhW2krMV0gLSBhW2ldKSAoc2luY2UgaGVpZ2h0IGlzIDIsIGFyZWEgPSBkaXN0YW5jZSAqIDIgLyAyID0gZGlzdGFuY2UpCgogICAgICAgIC8vIFdlIGNvbnNpZGVyIGludGVydmFscyAoYVtpKzFdIC0gYVtpXSkgZm9yIGkgPSAwIHRvIG4tMgogICAgICAgIC8vIFNvcnQgdGhlc2UgaW50ZXJ2YWxzIGluIGRlc2NlbmRpbmcgb3JkZXIuCgogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGludGVydmFsczsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSArIDEgPCBuOyArK2kpIHsKICAgICAgICAgICAgaW50ZXJ2YWxzLnB1c2hfYmFjayhhYnMoYVtpKzFdIC0gYVtpXSkpOwogICAgICAgIH0KICAgICAgICBzb3J0KGludGVydmFscy5yYmVnaW4oKSwgaW50ZXJ2YWxzLnJlbmQoKSk7CgogICAgICAgIC8vIFN1bSB0b3Aga21heCBpbnRlcnZhbHMKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBwcmVmaXgoa21heCsxLCAwKTsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBrbWF4OyArK2kpIHsKICAgICAgICAgICAgcHJlZml4W2ldID0gcHJlZml4W2ktMV0gKyBpbnRlcnZhbHNbaS0xXTsKICAgICAgICB9CgogICAgICAgIC8vIEZvciBlYWNoIGsgPSAxLi5rbWF4LCBvdXRwdXQgcHJlZml4IHN1bXMgbXVsdGlwbGllZCBieSAyIChoZWlnaHQpLCBzbyBhcmVhID0gZGlzdGFuY2UgKiAyIC8gMiA9IGRpc3RhbmNlICogMQogICAgICAgIC8vIEJ1dCBwcm9ibGVtIGV4YW1wbGVzIHNob3cgYXJlYSA9IGRpc3RhbmNlICogMiAoaGVpZ2h0KSAvIDIgPSBkaXN0YW5jZQogICAgICAgIC8vIEFjdHVhbGx5IGhlaWdodCBpcyAyLCBzbyBhcmVhIGlzIGRpc3RhbmNlICogMiAvIDIgPSBkaXN0YW5jZQogICAgICAgIC8vIFNvIGFyZWEgaXMgdGhlIGRpc3RhbmNlIGl0c2VsZiAoYmV0d2VlbiB0aGUgdHdvIHBvaW50cyBvbiB0aGUgc2FtZSBsaW5lKS4KICAgICAgICAvLyBTbyBwcmVmaXggc3VtcyBhbHJlYWR5IHJlcHJlc2VudCB0aGUgbWF4IGFyZWFzLgoKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSBrbWF4OyArK2kpIHsKICAgICAgICAgICAgY291dCA8PCBwcmVmaXhbaV0gKiAyIDw8IChpID09IGttYXggPyAnXG4nIDogJyAnKTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@1cdda8caef80:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@1cdda8caef80:/app# 