[?2004hroot@8e519de6fdc2:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@8e519de6fdc2:/app# clear
[?2004l[H[J[3J[?2004hroot@8e519de6fdc2:/app# echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgazsKICAgICAgICBjaW4gPj4gbiA+PiBrOwogICAgICAgIHZlY3RvcjxpbnQ+IGEobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBGb3IgZWFjaCBudW1iZXIgZnJvbSAxIHRvIGssIHN0b3JlIHRoZSBwb3NpdGlvbnMgd2hlcmUgaXQgYXBwZWFycwogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gcG9zaXRpb25zKGsgKyAxKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBwb3NpdGlvbnNbYVtpXV0ucHVzaF9iYWNrKGkpOwogICAgICAgIH0KCiAgICAgICAgLy8gZHBbeF0gPSBsZW5ndGggb2YgbG9uZ2VzdCBjaGFpbiBlbmRpbmcgd2l0aCB4IHdoZXJlIGNvbnNlY3V0aXZlIG51bWJlcnMgYXBwZWFyIGluIGluY3JlYXNpbmcgb3JkZXIgb2YgaW5kaWNlcwogICAgICAgIHZlY3RvcjxpbnQ+IGRwKGsgKyAxLCAwKTsKICAgICAgICBkcFsxXSA9IChpbnQpcG9zaXRpb25zWzFdLnNpemUoKTsKCiAgICAgICAgZm9yIChpbnQgeCA9IDI7IHggPD0gazsgeCsrKSB7CiAgICAgICAgICAgIGludCBpID0gMCwgaiA9IDA7CiAgICAgICAgICAgIGludCBiZXN0ID0gMDsKICAgICAgICAgICAgLy8gZmluZCBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgcG9zaXRpb25zW3hdIHJlbGF0aXZlIHRvIHBvc2l0aW9uc1t4LTFdCiAgICAgICAgICAgIC8vIGkgaXRlcmF0ZXMgcG9zaXRpb25zW3gtMV0sIGogaXRlcmF0ZXMgcG9zaXRpb25zW3hdCiAgICAgICAgICAgIHdoaWxlIChpIDwgKGludClwb3NpdGlvbnNbeCAtIDFdLnNpemUoKSAmJiBqIDwgKGludClwb3NpdGlvbnNbeF0uc2l6ZSgpKSB7CiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25zW3ggLSAxXVtpXSA8IHBvc2l0aW9uc1t4XVtqXSkgewogICAgICAgICAgICAgICAgICAgIGJlc3QgPSBtYXgoYmVzdCwgZHBbeCAtIDFdKTsKICAgICAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBkcFt4XSA9IGJlc3QgKyAoaW50KXBvc2l0aW9uc1t4XS5zaXplKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgbWluaW1hbCBvcGVyYXRpb25zIG5lZWRlZCBpcyBuIC0gbWF4IGRwW3hdIChtYXggbGVuZ3RoIG9mIGNoYWluIG9mIGluY3JlYXNpbmcgcG9zaXRpb25zKQogICAgICAgIGludCBtYXhfY2hhaW4gPSAwOwogICAgICAgIGZvciAoaW50IHggPSAxOyB4IDw9IGs7IHgrKykgewogICAgICAgICAgICBtYXhfY2hhaW4gPSBtYXgobWF4X2NoYWluLCBkcFt4XSk7CiAgICAgICAgfQoKICAgICAgICBjb3V0IDw8IG4gLSBtYXhfY2hhaW4gPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@8e519de6fdc2:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@8e519de6fdc2:/app# 