['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgpjb25zdCBpbnQgTU9EID0gMWU5ICsgNzsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKICAgIGludCB0OyBjaW4gPj4gdDsKICAgIHdoaWxlKHQtLSkgewogICAgICAgIGludCBuLCBtOwogICAgICAgIGNpbiA+PiBuID4+IG07CiAgICAgICAgdmVjdG9yPGxvbmcgbG9uZz4gYShuKTsKICAgICAgICBmb3IoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gYVtpXTsKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBiKG0pOwogICAgICAgIGZvcihpbnQgaSA9IDA7IGkgPCBtOyBpKyspIGNpbiA+PiBiW2ldOwoKICAgICAgICAvLyBQcmVmaXggc3VtcyBmb3IgYQogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IHByZWZpeChuICsgMSwgMCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcHJlZml4W2krMV0gPSBwcmVmaXhbaV0gKyBhW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gZHBbaV1ba106IG1pbmltYWwgY29zdCB0byByZW1vdmUgcHJlZml4IGkgb2YgYSB3aXRoIGN1cnJlbnQgawogICAgICAgIC8vIEJ1dCAyRCBkcCB3aXRoIG4qbSBpcyB0b28gbGFyZ2UuCiAgICAgICAgLy8gV2UgdXNlIGEgMUQgZHAgd2l0aCBzdGF0ZXMgb24gcG9zaXRpb24gYW5kIGssIGFuZCBvcHRpbWl6ZS4KCiAgICAgICAgLy8gSW5zdGVhZCwgd2UgZG8gRFAgb24gcG9zaXRpb24sIGFuZCBrZWVwIHRyYWNrIG9mIG1pbmltYWwgY29zdCBhbmQgY291bnQgZm9yIGVhY2ggawogICAgICAgIC8vIGRwX2Nvc3Rba106IG1pbmltYWwgY29zdCB0byByZW1vdmUgcHJlZml4IGkgb2YgYSB3aXRoIGsKICAgICAgICAvLyBkcF9jbnRba106IG51bWJlciBvZiB3YXlzCgogICAgICAgIC8vIEluaXRpYWxpemUgZHAgZm9yIGk9MCAoZW1wdHkgcHJlZml4KQogICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IGRwX2Nvc3QobSwgTExPTkdfTUFYKTsKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBkcF9jbnQobSwgMCk7CiAgICAgICAgZHBfY29zdFswXSA9IDA7CiAgICAgICAgZHBfY250WzBdID0gMTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOykgewogICAgICAgICAgICAvLyBGb3IgZWFjaCBpLCB3ZSB0cnkgdG8gcmVtb3ZlIHNvbWUgcHJlZml4IHN0YXJ0aW5nIGF0IGkKICAgICAgICAgICAgLy8gV2Ugd2lsbCBidWlsZCBuZXh0IGRwIGFycmF5cyBmb3IgcG9zaXRpb24gaiAoaiA+IGkpCiAgICAgICAgICAgIC8vIFdlIHByZXBhcmUgbmV4dCBkcCBhcnJheXMgZmlsbGVkIHdpdGggaW5mIGFuZCAwCiAgICAgICAgICAgIHZlY3Rvcjxsb25nIGxvbmc+IG5leHRfZHBfY29zdChtLCBMTE9OR19NQVgpOwogICAgICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBuZXh0X2RwX2NudChtLCAwKTsKCiAgICAgICAgICAgIC8vIEZvciBlYWNoIGssIHdlIHRyeSB0byByZW1vdmUgYSBwcmVmaXggc3RhcnRpbmcgYXQgaQogICAgICAgICAgICBmb3IgKGludCBrID0gMDsgayA8IG07IGsrKykgewogICAgICAgICAgICAgICAgaWYgKGRwX2Nvc3Rba10gPT0gTExPTkdfTUFYKSBjb250aW51ZTsKCiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gaW5jcmVhc2UgayBieSB0eXBlIDEgb3BlcmF0aW9uIHdoaWxlIGsgPCBtLTEgYW5kIGEgbm90IGVtcHR5CiAgICAgICAgICAgICAgICAvLyBTbyB3ZSBmaXJzdCB0cnkgdG8gaW5jcmVhc2UgayBtdWx0aXBsZSB0aW1lcwogICAgICAgICAgICAgICAgLy8gQnV0IGluY3JlYXNpbmcgayBjb3N0cyBubyBjb3N0LCBzbyB3ZSBjYW4gY29uc2lkZXIgYWxsIGsxID49IGsuCgogICAgICAgICAgICAgICAgLy8gV2UnbGwgdHJ5IGFsbCBrMSBmcm9tIGsgdG8gbS0xCiAgICAgICAgICAgICAgICBmb3IgKGludCBrMSA9IGs7IGsxIDwgbTsgazErKykgewogICAgICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gcmVtb3ZlIHNvbWUgcHJlZml4IGZyb20gaSB3aXRoIHN1bSA8PSBiW2sxXQogICAgICAgICAgICAgICAgICAgIC8vIFVzZSBiaW5hcnkgc2VhcmNoIHRvIGZpbmQgbWF4IGogPiBpIHdpdGggcHJlZml4W2pdIC0gcHJlZml4W2ldIDw9IGJbazFdCiAgICAgICAgICAgICAgICAgICAgaW50IGxvdyA9IGkgKyAxLCBoaWdoID0gbiwgcG9zID0gaTsKICAgICAgICAgICAgICAgICAgICB3aGlsZShsb3cgPD0gaGlnaCkgewogICAgICAgICAgICAgICAgICAgICAgICBpbnQgbWlkID0gKGxvdyArIGhpZ2gpIC8gMjsKICAgICAgICAgICAgICAgICAgICAgICAgbG9uZyBsb25nIHN1bV8gPSBwcmVmaXhbbWlkXSAtIHByZWZpeFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1bV8gPD0gYltrMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IG1pZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdoID0gbWlkIC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBwb3MgaXMgbWF4aW1hbCBlbmQgb2YgcHJlZml4IHN0YXJ0aW5nIGF0IGkKICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09IGkpIGNvbnRpbnVlOyAvLyBubyB2YWxpZCBwcmVmaXgKCiAgICAgICAgICAgICAgICAgICAgbG9uZyBsb25nIGNvc3RfbmV3ID0gZHBfY29zdFtrXSArIChtIC0gMSAtIGsxKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY29zdF9uZXcgPCBuZXh0X2RwX2Nvc3RbazFdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRfZHBfY29zdFtrMV0gPSBjb3N0X25ldzsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF9kcF9jbnRbazFdID0gZHBfY250W2tdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29zdF9uZXcgPT0gbmV4dF9kcF9jb3N0W2sxXSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0X2RwX2NudFtrMV0gPSAobmV4dF9kcF9jbnRbazFdICsgZHBfY250W2tdKSAlIE1PRDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE5vdyB3ZSBtdXN0IG1vdmUgaSB0byBuZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSByZW1vdmVkIHByZWZpeAogICAgICAgICAgICAvLyBCdXQgd2Ugb25seSByZW1vdmVkIHByZWZpeCBzdGFydGluZyBhdCBpLCBzbyBwb3NpdGlvbiBtdXN0IGJlIHVwZGF0ZWQgdG8gcG9zCiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoZSBhYm92ZSBhcHByb2FjaCBjb25zaWRlcnMgcmVtb3ZpbmcgcHJlZml4IHN0YXJ0aW5nIGF0IGkgYnV0IGRvZXMgbm90IG1vdmUgaQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVGhlIGFib3ZlIGFwcHJvYWNoIGlzIHN0dWNrIG9uIGksIHdlIHNob3VsZCBwcm9jZXNzIHBvc2l0aW9uIGJ5IHBvc2l0aW9uCiAgICAgICAgICAgIC8vIFNvIGxldCdzIGNoYW5nZSBhcHByb2FjaDogcHJvY2VzcyBkcCBvbiBwb3NpdGlvbgogICAgICAgICAgICAvLyBBY3R1YWxseSwgdGhlIGFib3ZlIGFwcHJvYWNoIGlzIGNvbXBsZXgsIGxldCdzIGltcGxlbWVudCBhIHBvc2l0aW9uIGJhc2VkIERQCgogICAgICAgICAgICAvLyBXZSB3aWxsIGltcGxlbWVudCBhIERQIG9uIHBvc2l0aW9uIGk6CiAgICAgICAgICAgIC8vIEZvciBlYWNoIHBvc2l0aW9uIGksIHdlIGtlZXAgZHBfY29zdFtrXSBhbmQgZHBfY291bnRba10KICAgICAgICAgICAgLy8gQXQgcG9zaXRpb24gaSwgdHJ5IHRvIHJlbW92ZSBwcmVmaXggc3RhcnRpbmcgYXQgaSwgZm9yIGFsbCBrCgogICAgICAgICAgICAvLyBTbyB3ZSByZWRvIHRoZSBwbGFuOgogICAgICAgICAgICAKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICAvLyBEdWUgdG8gY29tcGxleGl0eSwgaW1wbGVtZW50IHRoZSBmdWxsIHNvbHV0aW9uIGluIGNvZGUgYmVsb3cKICAgIH0KICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
