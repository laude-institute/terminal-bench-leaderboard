['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKCiAgICB3aGlsZSAodC0tKSB7CiAgICAgICAgaW50IG4sIGs7CiAgICAgICAgY2luID4+IG4gPj4gazsKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBwKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gcFtpXTsKICAgICAgICB2ZWN0b3I8aW50PiBkKG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSBjaW4gPj4gZFtpXTsKICAgICAgICBpbnQgcTsKICAgICAgICBjaW4gPj4gcTsKICAgICAgICB2ZWN0b3I8bG9uZyBsb25nPiBhKHEpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcTsgaSsrKSBjaW4gPj4gYVtpXTsKCiAgICAgICAgLy8gUHJlcHJvY2Vzc2luZzogZGV0ZXJtaW5lIGZvciBlYWNoIGNlbGwgd2l0aCB0cmFmZmljIGxpZ2h0IHRoZSB0aW1lcyBpdCBpcyByZWQKICAgICAgICAvLyBidXQgd2Ugb25seSBuZWVkIHRvIGtub3cgaWYgYXQgYXJyaXZhbCB0aW1lIChtb2QgaykgdGhlIGxpZ2h0IGlzIHJlZAogICAgICAgIC8vIFdlIHNpbXVsYXRlIHRoZSBtb3ZlbWVudCBmb3IgZWFjaCBxdWVyeSAoYm91bmRlZCBieSA1MDAqNTAwKSB3aXRoIGEgdmlzaXRlZCBzZXQKCiAgICAgICAgLy8gTWFwIHBvc2l0aW9uIHRvIGluZGV4IGZvciBxdWljayBhY2Nlc3MKICAgICAgICB1bm9yZGVyZWRfbWFwPGxvbmcgbG9uZywgaW50PiBwb3NfaWR4OwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHBvc19pZHhbcFtpXV0gPSBpOwogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQgc3RhcnRfcG9zIDogYSkgewogICAgICAgICAgICBsb25nIGxvbmcgcG9zID0gc3RhcnRfcG9zOwogICAgICAgICAgICBpbnQgZGlyID0gMTsgLy8gMSBtZWFucyBtb3ZpbmcgcmlnaHQsIC0xIG1lYW5zIG1vdmluZyBsZWZ0CiAgICAgICAgICAgIGxvbmcgbG9uZyB0aW1lID0gMDsKICAgICAgICAgICAgLy8gV2Ugd2lsbCBzaW11bGF0ZSB1bnRpbCBsZWF2aW5nIFtwWzBdLCBwW24tMV1dIG9yIGRldGVjdCBjeWNsZQogICAgICAgICAgICAvLyBDeWNsZSBkZXRlY3Rpb246IGtlZXAgdHJhY2sgb2YgKHBvcywgZGlyLCB0aW1lIG1vZCBrKQogICAgICAgICAgICBzZXQ8dHVwbGU8bG9uZyBsb25nLGludCxpbnQ+PiB2aXNpdGVkOwogICAgICAgICAgICBib29sIGVzY2FwZWQgPSBmYWxzZTsKCiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBvdXRzaWRlIHRoZSBzdHJpcAogICAgICAgICAgICAgICAgaWYgKHBvcyA8IHBbMF0gfHwgcG9zID4gcFtuLTFdKSB7CiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaW50IGlkeCA9IC0xOwogICAgICAgICAgICAgICAgYXV0byBpdCA9IHBvc19pZHguZmluZChwb3MpOwogICAgICAgICAgICAgICAgaWYgKGl0ICE9IHBvc19pZHguZW5kKCkpIGlkeCA9IGl0LT5zZWNvbmQ7CgogICAgICAgICAgICAgICAgYm9vbCBpc19yZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAvLyBMaWdodCBpcyByZWQgYXQgc2Vjb25kcyBsKmsgKyBkX2kKICAgICAgICAgICAgICAgICAgICAvLyBBdCBjdXJyZW50IHRpbWUsIGNoZWNrIGlmIHRpbWUgJSBrID09IGRfaQogICAgICAgICAgICAgICAgICAgIGlmICh0aW1lICUgayA9PSBkW2lkeF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNfcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGlzX3JlZCkgewogICAgICAgICAgICAgICAgICAgIGRpciA9IC1kaXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gQ3ljbGUgZGV0ZWN0aW9uCiAgICAgICAgICAgICAgICBhdXRvIHN0YXRlID0gbWFrZV90dXBsZShwb3MsIGRpciwgKGludCkodGltZSAlIGspKTsKICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkLmNvdW50KHN0YXRlKSkgewogICAgICAgICAgICAgICAgICAgIC8vIGN5Y2xlIGRldGVjdGVkLCB3aWxsIG5ldmVyIGVzY2FwZQogICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZpc2l0ZWQuaW5zZXJ0KHN0YXRlKTsKCiAgICAgICAgICAgICAgICBwb3MgKz0gZGlyOwogICAgICAgICAgICAgICAgdGltZSsrOwoKICAgICAgICAgICAgICAgIC8vIElmIHRpbWUgZXhjZWVkcyBhIGxhcmdlIGxpbWl0IGJyZWFrICh0aGUgcHJvYmxlbSBzdGF0ZXMgMTBeMTAwLCBidXQgc2ltdWxhdGlvbiBpcyBpbXBvc3NpYmxlKQogICAgICAgICAgICAgICAgLy8gV2UgcmVseSBvbiBjeWNsZSBkZXRlY3Rpb24sIHNvIG5vIG5lZWQgZm9yIGFyYml0cmFyeSBsaW1pdCBoZXJlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvdXQgPDwgKGVzY2FwZWQgPyAiWUVTIiA6ICJOTyIpIDw8ICJcbiI7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAwOwp9Cg==' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
