['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBpbnQgdDsKICAgIGNpbiA+PiB0OwogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBrOwogICAgICAgIGNpbiA+PiBuID4+IGs7CiAgICAgICAgc3RyaW5nIHM7CiAgICAgICAgY2luID4+IHM7CiAgICAgICAgdmVjdG9yPGludD4gYShuKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgY2luID4+IGFbaV07CgogICAgICAgIC8vIFdlIHdhbnQgdG8gZmluZCB0aGUgbWluaW1hbCBwZW5hbHR5IHAgc3VjaCB0aGF0IHdlIGNhbgogICAgICAgIC8vIGZpeCBhbGwgY2VsbHMgd2l0aCBwZW5hbHR5ID4gcCBieSBhdCBtb3N0IGsgb3BlcmF0aW9ucy4KICAgICAgICAvLyBCaW5hcnkgc2VhcmNoIG92ZXIgcGVuYWx0eSBwLgoKICAgICAgICB2ZWN0b3I8aW50PiBibHVlc19pbmRpY2VzOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzW2ldID09ICdCJykgYmx1ZXNfaW5kaWNlcy5wdXNoX2JhY2soaSk7CiAgICAgICAgfQoKICAgICAgICAvLyBIZWxwZXIgdG8gY2hlY2sgaWYgcGVuYWx0eSBwIGlzIGZlYXNpYmxlCiAgICAgICAgYXV0byBjYW4gPSBbJl0oaW50IHApIHsKICAgICAgICAgICAgLy8gSWRlbnRpZnkgY2VsbHMgdGhhdCBtdXN0IGJlIGZpeGVkIChwZW5hbHR5ID4gcCBhbmQgc1tpXT09J0InLCBiZWNhdXNlIHJlZCBjZWxscyBhcmUgaW5pdGlhbGx5IHJlZCkKICAgICAgICAgICAgLy8gQWN0dWFsbHksIHdlIG11c3QgY29uc2lkZXIgYWxsIGNlbGxzIHRoYXQgc2hvdWxkIGJlIGJsdWUgYnV0IGFyZSBub3QgcGFpbnRlZCBibHVlIHlldAogICAgICAgICAgICAvLyBBZnRlciBwYWludGluZyBzb21lIGludGVydmFscyBibHVlLCBjZWxscyB0aGF0IHNob3VsZCBiZSBibHVlIG11c3QgYmUgY292ZXJlZC4KICAgICAgICAgICAgLy8gQ2VsbHMgdGhhdCBzaG91bGQgYmUgcmVkIGJ1dCBhcmUgYmx1ZSBvciBub3QgYmx1ZSwgY2FuIGNhdXNlIHBlbmFsdHkgaWYgbm90IGZpeGVkLgoKICAgICAgICAgICAgLy8gV2FpdCwgdGhlIHByb2JsZW0gc3RhdGVzOgogICAgICAgICAgICAvLyAtIEluaXRpYWxseSBhbGwgY2VsbHMgYXJlIHJlZC4KICAgICAgICAgICAgLy8gLSBXZSBjYW4gcGFpbnQgYXQgbW9zdCBrIGludGVydmFscyBibHVlLgogICAgICAgICAgICAvLyAtIEFmdGVyIHBhaW50aW5nLCBlYWNoIGNlbGwncyBjb2xvciBjYW4gYmUgcmVkIG9yIGJsdWUuCiAgICAgICAgICAgIC8vIC0gRGVzaXJlZCBjb2xvciBpcyBnaXZlbi4KICAgICAgICAgICAgLy8gLSBQZW5hbHR5IGFwcGxpZXMgdG8gY2VsbHMgY29sb3JlZCB3cm9uZy4KCiAgICAgICAgICAgIC8vIFRvIG1pbmltaXplIG1heCBwZW5hbHR5IGFtb25nIHdyb25nbHkgY29sb3JlZCBjZWxscy4KCiAgICAgICAgICAgIC8vIEZvciBhIGZpeGVkIHAsIHRoZSBjZWxscyB3aXRoIHBlbmFsdHkgPiBwIHRoYXQgYXJlIHdyb25nbHkgY29sb3JlZCBpZiBub3QgZml4ZWQgbXVzdCBiZSBmaXhlZC4KICAgICAgICAgICAgLy8gV2hpY2ggY2VsbHMgbXVzdCBiZSBmaXhlZD8KICAgICAgICAgICAgLy8gLSBDZWxscyB0aGF0IHNob3VsZCBiZSBibHVlIGFuZCBoYXZlIHBlbmFsdHkgPiBwOiBtdXN0IGJlIHBhaW50ZWQgYmx1ZSAoY292ZXJlZCBieSBzb21lIGludGVydmFsKQogICAgICAgICAgICAvLyAtIENlbGxzIHRoYXQgc2hvdWxkIGJlIHJlZCBhbmQgaGF2ZSBwZW5hbHR5ID4gcDogbXVzdCBOT1QgYmUgcGFpbnRlZCBibHVlCiAgICAgICAgICAgIC8vICAgU2luY2UgaW5pdGlhbGx5IGFsbCByZWQsIGFuZCBwYWludGluZyBvbmx5IGFkZHMgYmx1ZSwgc28gaWYgYSBjZWxsIHNob3VsZCBiZSByZWQgYW5kIHBlbmFsdHkgPiBwLCB3ZSBtdXN0IGVuc3VyZSBpdCBpcyBub3QgcGFpbnRlZCBibHVlLgogICAgICAgICAgICAvLyBTbyBwYWludGluZyBpbnRlcnZhbHMgbXVzdCBjb3ZlciBhbGwgYmx1ZSBjZWxscyB3aXRoIHBlbmFsdHkgPiBwLCBhbmQgbXVzdCBub3QgY292ZXIgcmVkIGNlbGxzIHdpdGggcGVuYWx0eSA+IHAuCgogICAgICAgICAgICAvLyBTbywgd2Ugd2FudCB0byBjb3ZlciBhbGwgYmx1ZSBjZWxscyB3aXRoIHBlbmFsdHkgPiBwIGJ5IGF0IG1vc3QgayBpbnRlcnZhbHMsCiAgICAgICAgICAgIC8vIGFuZCB0aGVzZSBpbnRlcnZhbHMgbXVzdCBhdm9pZCByZWQgY2VsbHMgd2l0aCBwZW5hbHR5ID4gcC4KCiAgICAgICAgICAgIC8vIFNvIHRoZSBpbnRlcnZhbHMgY2FuIG9ubHkgY292ZXIgYmx1ZSBjZWxscyB3aXRoIHBlbmFsdHkgPiBwLAogICAgICAgICAgICAvLyBhbmQgbXVzdCBub3QgaW5jbHVkZSBhbnkgcmVkIGNlbGwgd2l0aCBwZW5hbHR5ID4gcC4KCiAgICAgICAgICAgIC8vIExldCdzIGZpbmQgYWxsIHBvc2l0aW9ucyBvZiBibHVlIGNlbGxzIHdpdGggcGVuYWx0eSA+IHAKICAgICAgICAgICAgdmVjdG9yPGludD4gbXVzdF9wYWludF9wb3NpdGlvbnM7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoc1tpXSA9PSAnQicgJiYgYVtpXSA+IHApIHsKICAgICAgICAgICAgICAgICAgICBtdXN0X3BhaW50X3Bvc2l0aW9ucy5wdXNoX2JhY2soaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIElmIG5vIGJsdWUgY2VsbCB3aXRoIHBlbmFsdHkgPiBwLCB0aGVuIG5vIGludGVydmFscyBuZWVkZWQsIHJldHVybiB0cnVlCiAgICAgICAgICAgIGlmIChtdXN0X3BhaW50X3Bvc2l0aW9ucy5lbXB0eSgpKSByZXR1cm4gdHJ1ZTsKCiAgICAgICAgICAgIC8vIElkZW50aWZ5IGZvcmJpZGRlbiBwb3NpdGlvbnM6IHJlZCBjZWxscyB3aXRoIHBlbmFsdHkgPiBwCiAgICAgICAgICAgIHZlY3Rvcjxib29sPiBmb3JiaWRkZW4obiwgZmFsc2UpOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHNbaV0gPT0gJ1InICYmIGFbaV0gPiBwKSBmb3JiaWRkZW5baV0gPSB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBXZSB3YW50IHRvIGNvdmVyIGFsbCBtdXN0X3BhaW50X3Bvc2l0aW9ucyB3aXRoIGF0IG1vc3QgayBpbnRlcnZhbHMKICAgICAgICAgICAgLy8gaW50ZXJ2YWxzIG11c3Qgbm90IGluY2x1ZGUgYW55IGZvcmJpZGRlbiBjZWxsCgogICAgICAgICAgICAvLyBTbyBpbnRlcnZhbHMgYXJlIHNlZ21lbnRzIGluIHRoZSBzdHJpcCB3aXRoIG5vIGZvcmJpZGRlbiBjZWxscyBpbnNpZGUKCiAgICAgICAgICAgIC8vIEZpcnN0LCBmaW5kIHNlZ21lbnRzIHNlcGFyYXRlZCBieSBmb3JiaWRkZW4gY2VsbHMKICAgICAgICAgICAgdmVjdG9yPHBhaXI8aW50LGludD4+IHNlZ21lbnRzOwogICAgICAgICAgICBpbnQgc3RhcnQgPSAwOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGZvcmJpZGRlbltpXSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA8IGkpIHNlZ21lbnRzLmVtcGxhY2VfYmFjayhzdGFydCwgaS0xKTsKICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkrMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc3RhcnQgPCBuKSBzZWdtZW50cy5lbXBsYWNlX2JhY2soc3RhcnQsIG4tMSk7CgogICAgICAgICAgICAvLyBGb3IgZWFjaCBzZWdtZW50LCBmaW5kIGhvdyBtYW55IG11c3RfcGFpbnRfcG9zaXRpb25zIGFyZSBpbnNpZGUKICAgICAgICAgICAgLy8gV2UnbGwgY292ZXIgdGhlc2UgbXVzdF9wYWludF9wb3NpdGlvbnMgYnkgb25lIGludGVydmFsIHBlciBzZWdtZW50CgogICAgICAgICAgICBpbnQgaW50ZXJ2YWxzX25lZWRlZCA9IDA7CiAgICAgICAgICAgIGludCBpZHggPSAwOyAvLyBpbmRleCBpbiBtdXN0X3BhaW50X3Bvc2l0aW9ucwogICAgICAgICAgICBmb3IgKGF1dG8gJltsLHJdIDogc2VnbWVudHMpIHsKICAgICAgICAgICAgICAgIC8vIENvdW50IGhvdyBtYW55IG11c3RfcGFpbnRfcG9zaXRpb25zIGxpZSBpbiBbbCxyXQogICAgICAgICAgICAgICAgaW50IGNudCA9IDA7CiAgICAgICAgICAgICAgICB3aGlsZSAoaWR4IDwgKGludCltdXN0X3BhaW50X3Bvc2l0aW9ucy5zaXplKCkgJiYgbXVzdF9wYWludF9wb3NpdGlvbnNbaWR4XSA+PSBsICYmIG11c3RfcGFpbnRfcG9zaXRpb25zW2lkeF0gPD0gcikgewogICAgICAgICAgICAgICAgICAgIGNudCsrOwogICAgICAgICAgICAgICAgICAgIGlkeCsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNudCA+IDApIGludGVydmFsc19uZWVkZWQrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSWYgYWxsIG11c3RfcGFpbnRfcG9zaXRpb25zIGNvdmVyZWQgKGlkeCA9PSBtdXN0X3BhaW50X3Bvc2l0aW9ucy5zaXplKCkpIGFuZCBpbnRlcnZhbHNfbmVlZGVkIDw9IGssIHJldHVybiB0cnVlCiAgICAgICAgICAgIHJldHVybiBpZHggPT0gKGludCltdXN0X3BhaW50X3Bvc2l0aW9ucy5zaXplKCkgJiYgaW50ZXJ2YWxzX25lZWRlZCA8PSBrOwogICAgICAgIH07CgogICAgICAgIC8vIEJpbmFyeSBzZWFyY2ggb24gcGVuYWx0eQogICAgICAgIGludDY0X3QgbGVmdCA9IDAsIHJpZ2h0ID0gMTAwMDAwMDAwMDsKICAgICAgICB3aGlsZSAobGVmdCA8IHJpZ2h0KSB7CiAgICAgICAgICAgIGludDY0X3QgbWlkID0gKGxlZnQgKyByaWdodCkgLyAyOwogICAgICAgICAgICBpZiAoY2FuKG1pZCkpIHJpZ2h0ID0gbWlkOwogICAgICAgICAgICBlbHNlIGxlZnQgPSBtaWQgKyAxOwogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBsZWZ0IDw8ICJcbiI7CiAgICB9CiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
