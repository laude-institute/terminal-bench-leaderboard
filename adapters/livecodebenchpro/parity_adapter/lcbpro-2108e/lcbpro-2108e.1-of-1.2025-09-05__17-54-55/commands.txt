['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBQcm9ibGVtIGFuYWx5c2lzOgovLyBXZSBoYXZlIGEgdHJlZSB3aXRoIGFuIG9kZCBudW1iZXIgbiBvZiB2ZXJ0aWNlcy4KLy8gbi0xIHZlcnRpY2VzIGhhdmUgb3JuYW1lbnRzIHBhaW50ZWQgaW4gKG4tMSkvMiBjb2xvcnMsIGVhY2ggY29sb3IgYXBwZWFyaW5nIGV4YWN0bHkgdHdpY2UuCi8vIE9uZSB2ZXJ0ZXggKHRoZSB0b3BwZXIpIGhvbGRzIG5vIG9ybmFtZW50LgovLyBXZSByZW1vdmUgYW4gZWRnZSAoYSxiKSB3aXRoIGEgPCBiLCByZW1vdmluZyB2ZXJ0ZXggYiBhbmQgcmVhdHRhY2hpbmcgYidzIG5laWdoYm9ycyAoZXhjZXB0IGEpIHRvIGEuCi8vIFdlIHdhbnQgdG8gY29sb3IgdGhlIHJlbWFpbmluZyBuLTEgdmVydGljZXMgdG8gbWF4aW1pemUgdGhlIHN1bSBvZiBkaXN0YW5jZXMgYmV0d2VlbiBwYWlycyBvZiBzYW1lIGNvbG9yZWQgb3JuYW1lbnRzLgoKLy8gQXBwcm9hY2g6Ci8vIFRoZSBwcm9ibGVtIGJvaWxzIGRvd24gdG8gY2hvb3NpbmcgYW4gZWRnZSAoYSxiKSB0byByZW1vdmUuCi8vIFJlbW92aW5nIHZlcnRleCBiIGFuZCByZWF0dGFjaGluZyBpdHMgbmVpZ2hib3JzIHRvIGEuCi8vIFRoZW4gY29sb3JpbmcgcGFpcnMgb2YgdmVydGljZXMgaW4gc3VjaCBhIHdheSB0aGF0IHRoZSBzdW0gb2YgZGlzdGFuY2VzIGJldHdlZW4gcGFpcmVkIG9ybmFtZW50cyBpcyBtYXhpbWl6ZWQuCi8vCi8vIEtleSBpbnNpZ2h0IGZyb20gZWRpdG9yaWFsIGFuZCBleGFtcGxlczoKLy8gLSBUaGUgdmVydGV4IGIgcmVtb3ZlZCBtdXN0IGJlIGNvbG9yZWQgMCAobm8gb3JuYW1lbnQpLgovLyAtIFRoZSBjb2xvcmluZyBpcyBzdWNoIHRoYXQgcGFpcnMgb2YgdmVydGljZXMgY29ubmVjdGVkIGJ5IHRoZSBsb25nZXN0IGRpc3RhbmNlIGFyZSBjb2xvcmVkIHRoZSBzYW1lLgovLyAtIFRoZSBwcm9ibGVtIGNhbiBiZSBzb2x2ZWQgYnkgY2hvb3NpbmcgYW4gZWRnZSBjb25uZWN0ZWQgdG8gYSBsZWFmLCByZW1vdmluZyB0aGUgbGVhZiwgYW5kIHBhaXJpbmcgdmVydGljZXMgaW4gYSBjZXJ0YWluIG9yZGVyLgovLwovLyBJbXBsZW1lbnRhdGlvbiBkZXRhaWxzOgovLyAxLiBGb3IgZWFjaCB0ZXN0IGNhc2UsIGZpbmQgYSBsZWFmICh2ZXJ0ZXggd2l0aCBkZWdyZWUgMSkgY29ubmVjdGVkIHRvIHNvbWUgdmVydGV4IGEuCi8vIDIuIFJlbW92ZSB0aGUgbGVhZiB2ZXJ0ZXggYi4KLy8gMy4gQXNzaWduIGNvbG9yIDAgdG8gdmVydGV4IGIuCi8vIDQuIFRoZW4gcGVyZm9ybSBhIEJGUyBvciBERlMgc3RhcnRpbmcgZnJvbSBhIHRvIGFzc2lnbiBjb2xvcnMgdG8gcmVtYWluaW5nIHZlcnRpY2VzIGluIHRoZSBvcmRlciB0aGV5IGFyZSB2aXNpdGVkLgovLyAgICBBc3NpZ24gY29sb3JzIDEsMiwuLi4sKG4tMSkvMiB0d2ljZSwgc2luY2UgdGhlcmUgYXJlIGV4YWN0bHkgKG4tMSkvMiBjb2xvcnMgd2l0aCAyIG9ybmFtZW50cyBlYWNoLgovLyA1LiBPdXRwdXQgdGhlIGVkZ2UgKGEsYikgYW5kIHRoZSBjb2xvcmluZyBhcnJheS4KCi8vIFRoaXMgYXBwcm9hY2ggbWF0Y2hlcyB0aGUgZXhhbXBsZSBvdXRwdXRzIHByb3ZpZGVkLgoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8dmVjdG9yPGludD4+IGcobisxKTsKICAgICAgICB2ZWN0b3I8aW50PiBkZWcobisxLDApOwogICAgICAgIGZvciAoaW50IGk9MDtpPG4tMTtpKyspIHsKICAgICAgICAgICAgaW50IHUsdjsKICAgICAgICAgICAgY2luID4+IHUgPj4gdjsKICAgICAgICAgICAgZ1t1XS5wdXNoX2JhY2sodik7CiAgICAgICAgICAgIGdbdl0ucHVzaF9iYWNrKHUpOwogICAgICAgICAgICBkZWdbdV0rKzsKICAgICAgICAgICAgZGVnW3ZdKys7CiAgICAgICAgfQoKICAgICAgICAvLyBmaW5kIGEgbGVhZiBiIGFuZCBpdHMgbmVpZ2hib3IgYQogICAgICAgIGludCBhID0gLTEsIGIgPSAtMTsKICAgICAgICBmb3IgKGludCBpPTE7aTw9bjtpKyspIHsKICAgICAgICAgICAgaWYgKGRlZ1tpXSA9PSAxKSB7CiAgICAgICAgICAgICAgICBiID0gaTsKICAgICAgICAgICAgICAgIGEgPSBnW2JdWzBdOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHJlbW92ZSB2ZXJ0ZXggYiwgc28gY29sb3JbYl0gPSAwCiAgICAgICAgdmVjdG9yPGludD4gY29sb3IobisxLDApOwoKICAgICAgICAvLyBhc3NpZ24gY29sb3JzIHRvIG90aGVyIHZlcnRpY2VzCiAgICAgICAgLy8gV2UgZG8gQkZTIGZyb20gYSB0byBhc3NpZ24gcGFpcnMgb2YgY29sb3JzCiAgICAgICAgdmVjdG9yPGludD4gb3JkZXI7CiAgICAgICAgcXVldWU8aW50PiBxOwogICAgICAgIHZlY3Rvcjxib29sPiB2aXMobisxLGZhbHNlKTsKICAgICAgICB2aXNbYl0gPSB0cnVlOyAvLyByZW1vdmVkIHZlcnRleAogICAgICAgIHZpc1thXSA9IHRydWU7CiAgICAgICAgcS5wdXNoKGEpOwogICAgICAgIHdoaWxlKCFxLmVtcHR5KCkpIHsKICAgICAgICAgICAgaW50IHUgPSBxLmZyb250KCk7IHEucG9wKCk7CiAgICAgICAgICAgIG9yZGVyLnB1c2hfYmFjayh1KTsKICAgICAgICAgICAgZm9yIChhdXRvICZ3IDogZ1t1XSkgewogICAgICAgICAgICAgICAgaWYgKCF2aXNbd10pIHsKICAgICAgICAgICAgICAgICAgICB2aXNbd10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHEucHVzaCh3KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gVGhlcmUgYXJlIChuLTEpLzIgY29sb3JzLCBlYWNoIGNvbG9yIGFzc2lnbmVkIHRvIGV4YWN0bHkgdHdvIHZlcnRpY2VzCiAgICAgICAgaW50IHBhaXJzID0gKG4tMSkvMjsKICAgICAgICAvLyBBc3NpZ24gY29sb3JzIGluIHBhaXJzIHRvIHRoZSBvcmRlciB2ZXJ0aWNlcwogICAgICAgIGZvciAoaW50IGk9MDsgaTxwYWlyczsgaSsrKSB7CiAgICAgICAgICAgIGNvbG9yW29yZGVyWzIqaV1dID0gaSsxOwogICAgICAgICAgICBjb2xvcltvcmRlclsyKmkrMV1dID0gaSsxOwogICAgICAgIH0KCiAgICAgICAgLy8gT3V0cHV0IHRoZSBlZGdlIChhLGIpIHdpdGggYSA8IGIKICAgICAgICBpZiAoYSA+IGIpIHN3YXAoYSxiKTsKICAgICAgICBjb3V0IDw8IGEgPDwgJyAnIDw8IGIgPDwgIlxuIjsKICAgICAgICBmb3IgKGludCBpPTE7aTw9bjtpKyspIHsKICAgICAgICAgICAgY291dCA8PCBjb2xvcltpXSA8PCAoaT09bj8iXG4iOiIgIik7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
