['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7Cgp1c2luZyBsbCA9IGxvbmcgbG9uZzsKCnN0cnVjdCBFZGdlIHsKICAgIGludCB1LCB2OwogICAgbGwgYnVzX3RpbWUsIHdhbGtfdGltZTsKfTsKCmludCBtYWluKCkgewogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgY2luLnRpZShudWxscHRyKTsKCiAgICBpbnQgdDsgY2luID4+IHQ7CgogICAgLy8gV2Ugd2lsbCBpbXBsZW1lbnQgdGhlIGxvZ2ljIGFzIGZvbGxvd3M6CiAgICAvLyAxKSBXZSB3YW50IHRvIGZpbmQgdGhlIGxhdGVzdCBzdGFydCB0aW1lIHMgc3VjaCB0aGF0IHdlIGNhbiBzdGFydCBhdCBzLCBzYXRpc2Z5IHBob25lIGNhbGwgaW50ZXJ2YWwgY29uc3RyYWludHMsIGFuZCByZWFjaCBuIGJ5IHQwLgogICAgLy8gMikgV2UgY2FuIHJpZGUgYnVzIG9ubHkgb3V0c2lkZSBbdDEsIHQyXS4gRHVyaW5nIFt0MSwgdDJdIG5vIGJ1cyB0cmF2ZWwgYWxsb3dlZCwgYnV0IHdhbGtpbmcgYW5kIHdhaXRpbmcgYWxsb3dlZC4KICAgIC8vIDMpIEFwcHJvYWNoOgogICAgLy8gICAgLSBVc2UgYmluYXJ5IHNlYXJjaCBvbiBzdGFydCB0aW1lIHMgaW4gWzAsIHQxXS4KICAgIC8vICAgIC0gRm9yIGdpdmVuIHMsIGNoZWNrIGlmIHBvc3NpYmxlIHRvIHJlYWNoIG4gYnkgdDAgd2l0aCBwaG9uZSBjYWxsIGNvbnN0cmFpbnRzLgogICAgLy8gICAgLSBUbyBjaGVjaywgd2UgcGVyZm9ybSBhIHNob3J0ZXN0IHBhdGggd2l0aCB0aW1lLWRlcGVuZGVudCBjb25zdHJhaW50czoKICAgIC8vICAgICAgKiBCZWZvcmUgcGhvbmUgY2FsbCBbcywgdDEpOiBidXMgYWxsb3dlZAogICAgLy8gICAgICAqIER1cmluZyBwaG9uZSBjYWxsIFt0MSwgdDJdOiBidXMgbm90IGFsbG93ZWQKICAgIC8vICAgICAgKiBBZnRlciBwaG9uZSBjYWxsIFt0MiwgdDBdOiBidXMgYWxsb3dlZAogICAgLy8gICAgLSBXZSBtb2RlbCB0aGUgZ3JhcGggd2l0aCBlZGdlcyBoYXZpbmcgdHdvIHdlaWdodHM6IGJ1c190aW1lIGFuZCB3YWxrX3RpbWUuCiAgICAvLyAgICAgICogQmVmb3JlIHQxIGFuZCBhZnRlciB0MiwgY2FuIHVzZSBidXMgZWRnZXMuCiAgICAvLyAgICAgICogQmV0d2VlbiB0MSBhbmQgdDIsIGNhbiBvbmx5IHdhbGsgb3Igd2FpdC4KICAgIC8vICAgIC0gVXNlIGEgbW9kaWZpZWQgRGlqa3N0cmEgdGhhdCB0cmFja3MgY3VycmVudCB0aW1lIGFuZCBjaG9vc2VzIGFsbG93ZWQgZWRnZXMuCiAgICAvLyAgICAtIElmIHJlYWNoIG4gd2l0aCBhcnJpdmFsIHRpbWUgPD0gdDAsIHMgZmVhc2libGUuCgogICAgd2hpbGUgKHQtLSkgewogICAgICAgIGludCBuLCBtOyBjaW4gPj4gbiA+PiBtOwogICAgICAgIGxsIHQwLCB0MSwgdDI7CiAgICAgICAgY2luID4+IHQwID4+IHQxID4+IHQyOwoKICAgICAgICB2ZWN0b3I8dmVjdG9yPHBhaXI8aW50LCBwYWlyPGxsLGxsPj4+PiBhZGoobisxKTsgLy8gdSAtPiAodiwgKGJ1c190aW1lLCB3YWxrX3RpbWUpKQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG07IGkrKykgewogICAgICAgICAgICBpbnQgdSx2OyBsbCBsMSxsMjsKICAgICAgICAgICAgY2luID4+IHUgPj4gdiA+PiBsMSA+PiBsMjsKICAgICAgICAgICAgYWRqW3VdLmVtcGxhY2VfYmFjayh2LCBtYWtlX3BhaXIobDEsbDIpKTsKICAgICAgICAgICAgYWRqW3ZdLmVtcGxhY2VfYmFjayh1LCBtYWtlX3BhaXIobDEsbDIpKTsKICAgICAgICB9CgogICAgICAgIC8vIEJpbmFyeSBzZWFyY2ggb24gc3RhcnQgdGltZSBzIGluIFswLCB0MV0KICAgICAgICBsbCBsZWZ0ID0gMCwgcmlnaHQgPSB0MTsKICAgICAgICBsbCBhbnMgPSAtMTsKCiAgICAgICAgYXV0byBjYW5fcmVhY2ggPSBbJl0obGwgc3RhcnRfdGltZSkgLT4gYm9vbCB7CiAgICAgICAgICAgIC8vIERpamtzdHJhIHdpdGggc3RhdGVzOiAoYXJyaXZhbF90aW1lLCBub2RlKQogICAgICAgICAgICAvLyBXZSB0cmFjayBtaW5pbWFsIGFycml2YWwgdGltZSBwZXIgbm9kZS4KICAgICAgICAgICAgLy8gQXQgZWFjaCBub2RlIGFuZCB0aW1lLCB3ZSBjYW46CiAgICAgICAgICAgIC8vIC0gV2FpdCAoc3RheSBhdCBub2RlLCB0aW1lIGFkdmFuY2VzKQogICAgICAgICAgICAvLyAtIFRyYXZlbCBlZGdlczoKICAgICAgICAgICAgLy8gICAqIElmIGN1cnJlbnQgdGltZSA8IHQxLCBidXMgcmlkZXMgYWxsb3dlZAogICAgICAgICAgICAvLyAgICogSWYgY3VycmVudCB0aW1lIGluIFt0MSwgdDJdLCBidXMgcmlkZXMgbm90IGFsbG93ZWQKICAgICAgICAgICAgLy8gICAqIElmIGN1cnJlbnQgdGltZSA+PSB0MiwgYnVzIHJpZGVzIGFsbG93ZWQgYWdhaW4KICAgICAgICAgICAgLy8gSWYgYnVzIHJpZGUgdGltZSBvdmVybGFwcyBwaG9uZSBjYWxsIGludGVydmFsLCBub3QgYWxsb3dlZC4KICAgICAgICAgICAgLy8gVG8gc2ltcGxpZnksIHNpbmNlIGJ1cyBlZGdlcyBhcmUgaW5zdGFudGFuZW91cyBib2FyZGluZyBhbmQgZml4ZWQgdHJhdmVsIHRpbWUsCiAgICAgICAgICAgIC8vIHdlIGNhbiBvbmx5IHN0YXJ0IGJ1cyByaWRlcyBvdXRzaWRlIFt0MSx0Ml0uCgogICAgICAgICAgICB1c2luZyBUUEkgPSBwYWlyPGxsLGludD47CiAgICAgICAgICAgIHZlY3RvcjxsbD4gZGlzdChuKzEsIExMT05HX01BWCk7CiAgICAgICAgICAgIHByaW9yaXR5X3F1ZXVlPFRQSSwgdmVjdG9yPFRQST4sIGdyZWF0ZXI8VFBJPj4gcHE7CgogICAgICAgICAgICBkaXN0WzFdID0gc3RhcnRfdGltZTsKICAgICAgICAgICAgcHEuZW1wbGFjZShzdGFydF90aW1lLDEpOwoKICAgICAgICAgICAgd2hpbGUgKCFwcS5lbXB0eSgpKSB7CiAgICAgICAgICAgICAgICBhdXRvIFtjdXJfdCwgdV0gPSBwcS50b3AoKTsgcHEucG9wKCk7CiAgICAgICAgICAgICAgICBpZiAoZGlzdFt1XSA8IGN1cl90KSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGlmICh1ID09IG4gJiYgY3VyX3QgPD0gdDApIHJldHVybiB0cnVlOwoKICAgICAgICAgICAgICAgIC8vIE9wdGlvbiAxOiB3YWl0IGF0IG5vZGUgKG9ubHkgaWYgd2FpdGluZyBjYW4gaGVscCkKICAgICAgICAgICAgICAgIC8vIEJ1dCB1bmxpbWl0ZWQgd2FpdGluZyBjYW4gY2F1c2UgaW5maW5pdGUgbG9vcC4KICAgICAgICAgICAgICAgIC8vIFNvIHdhaXRpbmcgb25seSB0byBtb3ZlIHRpbWUgZm9yd2FyZCB0byBuZXh0IGFsbG93ZWQgYnVzIGludGVydmFsIGlmIG5lZWRlZC4KCiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjdXJyZW50bHkgaW4gcGhvbmUgY2FsbCBpbnRlcnZhbAogICAgICAgICAgICAgICAgaWYgKGN1cl90IDwgdDEpIHsKICAgICAgICAgICAgICAgICAgICAvLyBjYW4gdGFrZSBidXMgb3Igd2FsawogICAgICAgICAgICAgICAgICAgIC8vIGV4cGxvcmUgYnVzIGVkZ2VzCiAgICAgICAgICAgICAgICAgICAgZm9yIChhdXRvICZbdiwgdGltZXNdIDogYWRqW3VdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxsIGJ1c190ID0gdGltZXMuZmlyc3QsIHdhbGtfdCA9IHRpbWVzLnNlY29uZDsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1cyByaWRlIGZyb20gY3VyX3QgdG8gY3VyX3QgKyBidXNfdAogICAgICAgICAgICAgICAgICAgICAgICAvLyBNdXN0IGVuc3VyZSBidXMgcmlkZSBkb2VzIG5vdCBvdmVybGFwIFt0MSx0Ml0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cl90ICsgYnVzX3QgPD0gdDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJfdCArIGJ1c190IDwgZGlzdFt2XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3Rbdl0gPSBjdXJfdCArIGJ1c190OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBxLmVtcGxhY2UoZGlzdFt2XSwgdik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXMgcmlkZSBjcm9zc2VzIGludG8gcGhvbmUgY2FsbCwgbm90IGFsbG93ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIGNhbid0IHRha2UgYnVzIG5vdwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWxrIGVkZ2UgYWx3YXlzIGFsbG93ZWQKICAgICAgICAgICAgICAgICAgICAgICAgbGwgd3RpbWUgPSBjdXJfdCArIHdhbGtfdDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHd0aW1lIDwgZGlzdFt2XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdFt2XSA9IHd0aW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHEuZW1wbGFjZSh3dGltZSwgdik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgdDEgdG8gc3RhcnQgd2Fsa2luZyBvciBidXMgYWZ0ZXIgcGhvbmUgY2FsbAogICAgICAgICAgICAgICAgICAgIGlmICh0MSA8IGRpc3RbdV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzdFt1XSA9IHQxOwogICAgICAgICAgICAgICAgICAgICAgICBwcS5lbXBsYWNlKHQxLCB1KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cl90ID49IHQxICYmIGN1cl90IDwgdDIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBpbiBwaG9uZSBjYWxsIGludGVydmFsLCBubyBidXMgYWxsb3dlZAogICAgICAgICAgICAgICAgICAgIC8vIGNhbiB3YWxrIG9yIHdhaXQKICAgICAgICAgICAgICAgICAgICBmb3IgKGF1dG8gJlt2LCB0aW1lc10gOiBhZGpbdV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGwgd2Fsa190ID0gdGltZXMuc2Vjb25kOwogICAgICAgICAgICAgICAgICAgICAgICBsbCB3dGltZSA9IGN1cl90ICsgd2Fsa190OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAod3RpbWUgPCBkaXN0W3ZdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0W3ZdID0gd3RpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcS5lbXBsYWNlKHd0aW1lLCB2KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHQyIHRvIHRha2UgYnVzIGFnYWluCiAgICAgICAgICAgICAgICAgICAgaWYgKHQyIDwgZGlzdFt1XSkgewogICAgICAgICAgICAgICAgICAgICAgICBkaXN0W3VdID0gdDI7CiAgICAgICAgICAgICAgICAgICAgICAgIHBxLmVtcGxhY2UodDIsIHUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gY3VyX3QgPj0gdDIsIGJ1cyBhbGxvd2VkIGFnYWluCiAgICAgICAgICAgICAgICAgICAgZm9yIChhdXRvICZbdiwgdGltZXNdIDogYWRqW3VdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxsIGJ1c190ID0gdGltZXMuZmlyc3QsIHdhbGtfdCA9IHRpbWVzLnNlY29uZDsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1cyByaWRlIGFsbG93ZWQKICAgICAgICAgICAgICAgICAgICAgICAgbGwgYnRpbWUgPSBjdXJfdCArIGJ1c190OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnRpbWUgPCBkaXN0W3ZdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0W3ZdID0gYnRpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcS5lbXBsYWNlKGJ0aW1lLCB2KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FsayBhbHdheXMgYWxsb3dlZAogICAgICAgICAgICAgICAgICAgICAgICBsbCB3dGltZSA9IGN1cl90ICsgd2Fsa190OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAod3RpbWUgPCBkaXN0W3ZdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0W3ZdID0gd3RpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcS5lbXBsYWNlKHd0aW1lLCB2KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHsKICAgICAgICAgICAgbGwgbWlkID0gbGVmdCArIChyaWdodCAtIGxlZnQpIC8gMjsKICAgICAgICAgICAgaWYgKGNhbl9yZWFjaChtaWQpKSB7CiAgICAgICAgICAgICAgICBhbnMgPSBtaWQ7CiAgICAgICAgICAgICAgICBsZWZ0ID0gbWlkICsgMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJpZ2h0ID0gbWlkIC0gMTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['g++ -std=c++17 -O2 -Wall -Wextra -o /app/main /app/main.cpp', 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
