{
    "id": "2cfe75c7-b4e1-49b0-a173-6dfe9a4cae31",
    "trial_name": "lcbpro-2042e.1-of-1.2025-09-05__17-54-55",
    "task_id": "lcbpro-2042e",
    "instruction": "LiveCodeBench Pro (Mini) - external judge.\n\nThe agent must create a C++17 solution file at /app/main.cpp.\nThis task does not include local test cases. Instead, the test harness:\n  1) POSTs the code to the external judge (/submit) to get a sid,\n  2) polls GET /result/{sid}?short=1 until status == \"done\",\n  3) passes only if the judge returns passed == true.\n\nEnvironment variables (overridable at runtime):\n  - BASE_URL: judge base URL (default http://38.80.122.117:8081)\n  - PID: problem id (default 2042E)\n  - LANG: language (default cpp)\n  - CODE_PATH: path to code (default /app/main.cpp)\n  - JUDGE_TIMEOUT_SECS: poll timeout seconds (default 120)\n\nYou are given a tree consisting of $2n$ vertices. Recall that a tree is a connected undirected graph with no cycles. Each vertex has an integer from $1$ to $n$ written on it. Each value from $1$ to $n$ is written on exactly two different vertices. Each vertex also has a cost --vertex $i$ costs $2^i$.\n\nYou need to choose a subset of vertices of the tree such that:\n\n- the subset is connected; that is, from each vertex in the subset, you can reach every other vertex in the subset by passing only through the vertices in the subset;\n- each value from $1$ to $n$ is written on at least one vertex in the subset.\n\nAmong all such subsets, you need to find the one with the smallest total cost of the vertices in it. Note that you are not required to minimize the number of vertices in the subset.\n\n### Input\n\nThe first line contains a single integer $n$ ($1 \\le n \\le 2 \\cdot 10^5$).\n\nThe second line contains $2n$ integers $a_1, a_2, \\dots, a_{2n}$ ($1 \\le a_i \\le n$). Each value from $1$ to $n$ appears exactly twice.\n\nEach of the next $2n-1$ lines contains two integers $v$ and $u$ ($1 \\le v, u \\le 2n$) -- the edges of the tree. These edges form a valid tree.\n\n### Output\n\nIn the first line, print a single integer $k$ -- the number of vertices in the subset.\n\nIn the second line, print $k$ distinct integers from $1$ to $2n$ -- the indices of the vertices in the chosen subset. The vertices can be printed in an arbitrary order.\n\n### Examples\n\n#### Input #1\n\n```\n\n3\n\n1 1 3 2 3 2\n\n4 2\n\n1 6\n\n6 2\n\n6 3\n\n2 5\n\n```\n\n#### Output #1\n\n```\n3\n2 4 5\n```\n\n#### Input #2\n\n```\n\n3\n\n2 3 1 3 2 1\n\n6 4\n\n2 4\n\n5 2\n\n3 6\n\n3 1\n\n```\n\n#### Output #2\n\n```\n4\n1 3 4 6\n```\n\n#### Input #3\n\n```\n\n6\n\n5 2 3 4 6 4 2 5 6 1 1 3\n\n10 8\n\n2 10\n\n12 7\n\n4 10\n\n5 9\n\n6 2\n\n1 9\n\n3 4\n\n12 6\n\n11 5\n\n4 5\n\n```\n\n#### Output #3\n\n```\n6\n2 3 4 5 8 10\n```\n\n### Note\n\n![](https://espresso.codeforces.com/dbaf0c03e6466f3b077e29f011d0bc2be9d080da.png)\n\nThe images show the answers to the first two examples. The numbers in parentheses are the values written on the vertices.\n\nIn the first example, there are valid subsets such as: $[2, 4, 5]$ (with a cost of $2^2 + 2^4 + 2^5 = 52$), $[2, 4, 5, 6]$ (with a cost of $116$), $[1, 6, 3]$ (with a cost of $74$), $[2, 6, 3]$ (with a cost of $76$), and many others.\n\nIn the second example, the cost of the subset $[4, 6, 3, 1]$ is $90$.",
    "is_resolved": false,
    "failure_mode": "unset",
    "parser_results": {
        "test_external_judge": "failed"
    },
    "recording_path": "2025-09-05__17-54-55/lcbpro-2042e/lcbpro-2042e.1-of-1.2025-09-05__17-54-55/sessions/agent.cast",
    "total_input_tokens": 1229,
    "total_output_tokens": 2791,
    "trial_started_at": "2025-09-06T01:46:17.112939+00:00",
    "trial_ended_at": "2025-09-06T01:47:42.625475+00:00",
    "agent_started_at": "2025-09-06T01:46:35.181089+00:00",
    "agent_ended_at": "2025-09-06T01:47:10.686686+00:00",
    "test_started_at": "2025-09-06T01:47:14.452966+00:00",
    "test_ended_at": "2025-09-06T01:47:20.495303+00:00"
}