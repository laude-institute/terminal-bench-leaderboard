[?2004hroot@3d652e571ca0:/app# asciinema rec --stdin /logs/agent.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@3d652e571ca0:/app# clear
[?2004l[H[J[3J[?2004hroot@3d652e571ca0:/app# echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8YWxnb3JpdGhtPgp1c2luZyBuYW1lc3BhY2Ugc3RkOwoKaW50IG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOwogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbjsKICAgICAgICBjaW4gPj4gbjsKICAgICAgICB2ZWN0b3I8aW50PiB4KG4pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGNpbiA+PiB4W2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gV2Ugd2FudCB0byBhZGQgYW4gaW50ZWdlciBwb2ludCBwIG5vdCBpbiB4CiAgICAgICAgLy8gc3VjaCB0aGF0IGZvciBldmVyeSBwb2ludCB4W2ldLCBwIGlzIHRoZSBjbG9zZXN0IHBvaW50LgogICAgICAgIC8vIFRoYXQgbWVhbnMgZm9yIGVhY2ggeFtpXSwgZGlzdGFuY2UgdG8gcCA8IGRpc3RhbmNlIHRvIGFueSBvdGhlciBwb2ludCBpbiB4LgoKICAgICAgICAvLyBLZXkgb2JzZXJ2YXRpb25zOgogICAgICAgIC8vIC0gU2luY2UgcG9pbnRzIGFyZSBzb3J0ZWQsIGNsb3Nlc3QgcG9pbnQgZm9yIHhbaV0gaXMgbWluIGRpc3RhbmNlIG5laWdoYm9yLgogICAgICAgIC8vIC0gTmV3IHBvaW50IHAgbXVzdCBiZSBjbG9zZXIgdG8gZWFjaCB4W2ldIHRoYW4gYW55IG90aGVyIGV4aXN0aW5nIHBvaW50LgogICAgICAgIC8vIC0gRm9yIGVhY2ggeFtpXSwgdGhlIG1pbmltYWwgZGlzdGFuY2UgdG8gb3RoZXIgcG9pbnRzIGlzIGVpdGhlciB0byB4W2ktMV0gb3IgeFtpKzFdLgoKICAgICAgICAvLyBXZSB0cnkgY2FuZGlkYXRlIHAncyBiZXR3ZWVuIHBvaW50cyBvciBvdXRzaWRlIHRoZSByYW5nZS4KICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHN1Y2ggcCBleGlzdHMuCgogICAgICAgIGJvb2wgcG9zc2libGUgPSBmYWxzZTsKCiAgICAgICAgLy8gV2UgdHJ5IGFsbCBpbnRlZ2VyIHBvaW50cyBmcm9tIG1pbih4KS0xIHRvIG1heCh4KSsxCiAgICAgICAgLy8gZXhjbHVkaW5nIHBvaW50cyBpbiB4LgoKICAgICAgICBpbnQgbWluX3ggPSB4WzBdOwogICAgICAgIGludCBtYXhfeCA9IHhbbi0xXTsKCiAgICAgICAgZm9yIChpbnQgY2FuZGlkYXRlID0gbWluX3ggLSAxOyBjYW5kaWRhdGUgPD0gbWF4X3ggKyAxOyBjYW5kaWRhdGUrKykgewogICAgICAgICAgICBpZiAoZmluZCh4LmJlZ2luKCksIHguZW5kKCksIGNhbmRpZGF0ZSkgIT0geC5lbmQoKSkgY29udGludWU7CgogICAgICAgICAgICBib29sIG9rID0gdHJ1ZTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgICAgIGludCBkaXN0X25ldyA9IGFicyhjYW5kaWRhdGUgLSB4W2ldKTsKCiAgICAgICAgICAgICAgICAvLyBjb21wdXRlIG1pbmltYWwgZGlzdGFuY2UgdG8gZXhpc3RpbmcgcG9pbnRzIGV4Y2VwdCB4W2ldCiAgICAgICAgICAgICAgICBpbnQgZGlzdF9taW4gPSAxZTk7CiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIGRpc3RfbWluID0gbWluKGRpc3RfbWluLCBhYnMoeFtpXSAtIHhbaS0xXSkpOwogICAgICAgICAgICAgICAgaWYgKGkgPCBuLTEpIGRpc3RfbWluID0gbWluKGRpc3RfbWluLCBhYnMoeFtpKzFdIC0geFtpXSkpOwoKICAgICAgICAgICAgICAgIGlmIChkaXN0X25ldyA+PSBkaXN0X21pbikgewogICAgICAgICAgICAgICAgICAgIG9rID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChvaykgewogICAgICAgICAgICAgICAgcG9zc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvdXQgPDwgKHBvc3NpYmxlID8gIllFUyIgOiAiTk8iKSA8PCAiXG4iOwogICAgfQogICAgcmV0dXJuIDA7Cn0K' | base64 -d > /app/main.cpp; tmux wait -S done
[?2004l[?2004hroot@3d652e571ca0:/app# [?2004l
exit
[0;32masciinema: recording finished[0m
[0;32masciinema: asciicast saved to /logs/agent.cast[0m
[?2004hroot@3d652e571ca0:/app# 