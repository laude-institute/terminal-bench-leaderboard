['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
["echo 'I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CgovLyBEaXJlY3Rpb25zIG1hcApjb25zdCBpbnQgZHhbNF0gPSB7LTEsIDEsIDAsIDB9Owpjb25zdCBpbnQgZHlbNF0gPSB7MCwgMCwgLTEsIDF9Owpjb25zdCBjaGFyIGRpckNoYXJzWzRdID0geydVJywgJ0QnLCAnTCcsICdSJ307CgppbnQgbWFpbigpIHsKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CgogICAgaW50IHQ7CiAgICBjaW4gPj4gdDsKICAgIHdoaWxlICh0LS0pIHsKICAgICAgICBpbnQgbiwgbTsKICAgICAgICBjaW4gPj4gbiA+PiBtOwogICAgICAgIHZlY3RvcjxzdHJpbmc+IG1hemUobik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgY2luID4+IG1hemVbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBBc3NpZ24gZGlyZWN0aW9ucyBmb3IgJz8nIHRvIG1heGltaXplIHRyYXBwZWQgY2VsbHMKICAgICAgICAvLyBPYnNlcnZhdGlvbjoKICAgICAgICAvLyBDZWxscyBvbiBib3JkZXJzIGNhbiBsZWFkIHRvIGV4aXQgaWYgdGhleSBwb2ludCBvdXRzaWRlLgogICAgICAgIC8vIFRvIG1heGltaXplIHRyYXBwZWQgY2VsbHMsIGFsbCBib3JkZXIgY2VsbHMgbXVzdCBub3QgbGVhZCBvdXRzaWRlLgogICAgICAgIC8vIFNvIGFzc2lnbiBib3JkZXIgY2VsbHMnICc/JyB0byBwb2ludCBpbnNpZGUgdGhlIGdyaWQuCiAgICAgICAgLy8gRm9yIGlubmVyIGNlbGxzLCBhc3NpZ24gJz8nIGFyYml0cmFyaWx5LCBlLmcuICdVJy4KCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBtOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChtYXplW2ldW2pdID09ICc/JykgewogICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIG1hemVbaV1bal0gPSAnRCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA9PSBuLTEpIG1hemVbaV1bal0gPSAnVSc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA9PSAwKSBtYXplW2ldW2pdID0gJ1InOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPT0gbS0xKSBtYXplW2ldW2pdID0gJ0wnOwogICAgICAgICAgICAgICAgICAgIGVsc2UgbWF6ZVtpXVtqXSA9ICdVJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gTm93IHdlIGJ1aWxkIGdyYXBoIGVkZ2VzIGFuZCBmaW5kIHRyYXBwZWQgY2VsbHMuCiAgICAgICAgLy8gQSBjZWxsIGxlYWRzIHRvIHRoZSBuZXh0IGNlbGwgaW5kaWNhdGVkIGJ5IGl0cyBkaXJlY3Rpb24uCiAgICAgICAgLy8gSWYgYSBjZWxsIGxlYWRzIG91dHNpZGUgZ3JpZCwgaXQncyBub3QgdHJhcHBlZC4KICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGZvbGxvdyB0byBzZWUgaWYgaXQgbGVhZHMgdG8gYSBjeWNsZSBvciBvdXRzaWRlLgoKICAgICAgICAvLyBXZSdsbCB1c2UgREZTIHdpdGggMyBzdGF0ZXM6CiAgICAgICAgLy8gMCA9IHVudmlzaXRlZAogICAgICAgIC8vIDEgPSB2aXNpdGluZwogICAgICAgIC8vIDIgPSB2aXNpdGVkIChyZXN1bHQga25vd24pCgogICAgICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gc3RhdGUobiwgdmVjdG9yPGludD4obSwgMCkpOwogICAgICAgIHZlY3Rvcjx2ZWN0b3I8Ym9vbD4+IHRyYXBwZWQobiwgdmVjdG9yPGJvb2w+KG0sIGZhbHNlKSk7CgogICAgICAgIGZ1bmN0aW9uPGJvb2woaW50LGludCk+IGRmcyA9IFsmXShpbnQgeCxpbnQgeSkgewogICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSBuIHx8IHkgPCAwIHx8IHkgPj0gbSkgewogICAgICAgICAgICAgICAgLy8gbW92ZXMgb3V0c2lkZSAtPiBub3QgdHJhcHBlZAogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzdGF0ZVt4XVt5XSA9PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBmb3VuZCBjeWNsZSAtPiB0cmFwcGVkCiAgICAgICAgICAgICAgICB0cmFwcGVkW3hdW3ldID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzdGF0ZVt4XVt5XSA9PSAyKSB7CiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGNvbXB1dGVkCiAgICAgICAgICAgICAgICByZXR1cm4gdHJhcHBlZFt4XVt5XTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzdGF0ZVt4XVt5XSA9IDE7CiAgICAgICAgICAgIGNoYXIgZCA9IG1hemVbeF1beV07CiAgICAgICAgICAgIGludCBueCA9IHgsIG55ID0geTsKICAgICAgICAgICAgaWYgKGQgPT0gJ1UnKSBueC0tOwogICAgICAgICAgICBlbHNlIGlmIChkID09ICdEJykgbngrKzsKICAgICAgICAgICAgZWxzZSBpZiAoZCA9PSAnTCcpIG55LS07CiAgICAgICAgICAgIGVsc2UgaWYgKGQgPT0gJ1InKSBueSsrOwoKICAgICAgICAgICAgYm9vbCByZXMgPSBkZnMobngsIG55KTsKICAgICAgICAgICAgdHJhcHBlZFt4XVt5XSA9IHJlczsKICAgICAgICAgICAgc3RhdGVbeF1beV0gPSAyOwogICAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgIH07CgogICAgICAgIGludCBhbnMgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbTsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoZGZzKGksIGopKSBhbnMrKzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY291dCA8PCBhbnMgPDwgIlxuIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQo=' | base64 -d > /app/main.cpp", 'Enter']
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
['C-d']
